[{"path":[]},{"path":"epiforecasts.io/forecast.vocs/CODE_OF_CONDUCT.html","id":"our-pledge","dir":"","previous_headings":"","what":"Our Pledge","title":"Contributor Covenant Code of Conduct","text":"members, contributors, leaders pledge make participation community harassment-free experience everyone, regardless age, body size, visible invisible disability, ethnicity, sex characteristics, gender identity expression, level experience, education, socio-economic status, nationality, personal appearance, race, religion, sexual identity orientation. pledge act interact ways contribute open, welcoming, diverse, inclusive, healthy community.","code":""},{"path":"epiforecasts.io/forecast.vocs/CODE_OF_CONDUCT.html","id":"our-standards","dir":"","previous_headings":"","what":"Our Standards","title":"Contributor Covenant Code of Conduct","text":"Examples behavior contributes positive environment community include: Demonstrating empathy kindness toward people respectful differing opinions, viewpoints, experiences Giving gracefully accepting constructive feedback Accepting responsibility apologizing affected mistakes, learning experience Focusing best just us individuals, overall community Examples unacceptable behavior include: use sexualized language imagery, sexual attention advances kind Trolling, insulting derogatory comments, personal political attacks Public private harassment Publishing others’ private information, physical email address, without explicit permission conduct reasonably considered inappropriate professional setting","code":""},{"path":"epiforecasts.io/forecast.vocs/CODE_OF_CONDUCT.html","id":"enforcement-responsibilities","dir":"","previous_headings":"","what":"Enforcement Responsibilities","title":"Contributor Covenant Code of Conduct","text":"Community leaders responsible clarifying enforcing standards acceptable behavior take appropriate fair corrective action response behavior deem inappropriate, threatening, offensive, harmful. Community leaders right responsibility remove, edit, reject comments, commits, code, wiki edits, issues, contributions aligned Code Conduct, communicate reasons moderation decisions appropriate.","code":""},{"path":"epiforecasts.io/forecast.vocs/CODE_OF_CONDUCT.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"Contributor Covenant Code of Conduct","text":"Code Conduct applies within community spaces, also applies individual officially representing community public spaces. Examples representing community include using official e-mail address, posting via official social media account, acting appointed representative online offline event.","code":""},{"path":"epiforecasts.io/forecast.vocs/CODE_OF_CONDUCT.html","id":"enforcement","dir":"","previous_headings":"","what":"Enforcement","title":"Contributor Covenant Code of Conduct","text":"Instances abusive, harassing, otherwise unacceptable behavior may reported community leaders responsible enforcement [INSERT CONTACT METHOD]. complaints reviewed investigated promptly fairly. community leaders obligated respect privacy security reporter incident.","code":""},{"path":"epiforecasts.io/forecast.vocs/CODE_OF_CONDUCT.html","id":"enforcement-guidelines","dir":"","previous_headings":"","what":"Enforcement Guidelines","title":"Contributor Covenant Code of Conduct","text":"Community leaders follow Community Impact Guidelines determining consequences action deem violation Code Conduct:","code":""},{"path":"epiforecasts.io/forecast.vocs/CODE_OF_CONDUCT.html","id":"1-correction","dir":"","previous_headings":"Enforcement Guidelines","what":"1. Correction","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Use inappropriate language behavior deemed unprofessional unwelcome community. Consequence: private, written warning community leaders, providing clarity around nature violation explanation behavior inappropriate. public apology may requested.","code":""},{"path":"epiforecasts.io/forecast.vocs/CODE_OF_CONDUCT.html","id":"2-warning","dir":"","previous_headings":"Enforcement Guidelines","what":"2. Warning","title":"Contributor Covenant Code of Conduct","text":"Community Impact: violation single incident series actions. Consequence: warning consequences continued behavior. interaction people involved, including unsolicited interaction enforcing Code Conduct, specified period time. includes avoiding interactions community spaces well external channels like social media. Violating terms may lead temporary permanent ban.","code":""},{"path":"epiforecasts.io/forecast.vocs/CODE_OF_CONDUCT.html","id":"3-temporary-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"3. Temporary Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: serious violation community standards, including sustained inappropriate behavior. Consequence: temporary ban sort interaction public communication community specified period time. public private interaction people involved, including unsolicited interaction enforcing Code Conduct, allowed period. Violating terms may lead permanent ban.","code":""},{"path":"epiforecasts.io/forecast.vocs/CODE_OF_CONDUCT.html","id":"4-permanent-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"4. Permanent Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Demonstrating pattern violation community standards, including sustained inappropriate behavior, harassment individual, aggression toward disparagement classes individuals. Consequence: permanent ban sort public interaction within community.","code":""},{"path":"epiforecasts.io/forecast.vocs/CODE_OF_CONDUCT.html","id":"attribution","dir":"","previous_headings":"","what":"Attribution","title":"Contributor Covenant Code of Conduct","text":"Code Conduct adapted Contributor Covenant, version 2.0, available https://www.contributor-covenant.org/version/2/0/ code_of_conduct.html. Community Impact Guidelines inspired Mozilla’s code conduct enforcement ladder. answers common questions code conduct, see FAQ https://www.contributor-covenant.org/faq. Translations available https:// www.contributor-covenant.org/translations.","code":""},{"path":"epiforecasts.io/forecast.vocs/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2021 forecast.vocs authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"epiforecasts.io/forecast.vocs/articles/model-definitions.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"Model definitions","text":"package currently supports two models various options. baseline single strain model two strain model flexible variable dynamics. share underlying structure expected notifications assumed product past expected notifications, exponentiated time-varying term. term modelled instances differenced autoregressive process signal lag term. two strain model process can either modelled jointly variants, correlated process, independently. default assumed vary inline timestep data can altered speed computation improve sample performance. Observed cases estimated expected cases assuming either negative binomial Poisson observation model. two strain model variant concern positive samples estimated using Beta-binomial binomial observation model. Detailed model definitions given . Prior values given represent package defaults can, generally , altered user based domain specific knowledge.","code":""},{"path":"epiforecasts.io/forecast.vocs/articles/model-definitions.html","id":"single-strain","dir":"Articles","previous_headings":"","what":"Single strain","title":"Model definitions","text":"model mean (\\(\\lambda_t\\)) reported cases (\\(C_t\\)) order 1 autoregressive (AR(P)) process time unit (\\(t\\)). model initialised assuming initial reported cases representative small amount error (2.5%) \\(t \\lt P\\). \\[\\begin{align}   \\lambda_t &\\sim \\text{LogNormal}\\left(\\log C_t , 0.025 \\times \\log C_t \\right),\\ t \\leq P \\\\   \\lambda_t &= \\text{exp}\\left(r_t\\right) \\sum_{p = 1}^{P} \\alpha_p  \\lambda_{t-p},\\ t \\gt P   \\end{align}\\] \\(r_t\\) can interpreted growth rate exponential \\(r_t\\) effective reproduction number (\\(R_t\\)) assuming mean generation time equal scaling rate used (see documentation scale_r ?forecast()). \\(r_t\\) modelled piecewise constant differenced AR(1) process, \\[\\begin{align}   r_1 &\\sim \\text{Normal}\\left(0, 0.25 \\right) \\\\   r_t &= r_{t-1} + \\epsilon_t  \\\\   \\epsilon_1 &= \\eta_1 \\\\   \\epsilon_t &= \\beta \\epsilon_{t-1} + \\eta_t \\end{align}\\] , \\[\\begin{align}   \\eta_t &\\sim \\text{Normal}\\left(0, \\sigma \\right) \\\\   \\sigma &\\sim \\text{Normal}\\left(0, 0.2 \\right) \\\\   \\beta &\\sim \\text{Normal}\\left(0, 0.5 \\right) \\end{align}\\] assume negative binomial observation model overdispersion \\(\\phi_c\\) reported cases (\\(C_t\\)), \\[\\begin{align}   C_{t} &\\sim \\text{NegBinomial}\\left(\\lambda_t, \\phi_c\\right) \\\\   \\frac{1}{\\sqrt{\\phi_c}} &\\sim \\text{Normal}(0, 0.5)  \\end{align}\\] \\(\\sigma\\), \\(\\frac{1}{\\sqrt{phi_c}}\\) truncated greater 0 \\(\\beta\\) truncated -1 1. Optionally Poisson observation model may instead used (see documentation overdispersion ?forecast()). stan code model available can loaded R using following code,","code":"library(forecast.vocs) readLines(fv_model(strains = 1, compile = FALSE))"},{"path":"epiforecasts.io/forecast.vocs/articles/model-definitions.html","id":"two-strain","dir":"Articles","previous_headings":"","what":"Two strain","title":"Model definitions","text":"model strain dynamics using single strain model starting point addition strain specific AR(P) case model beta binomial (optionally binomial) observation process sequence data. variant concerns growth rate modelled either fixed scaling non-variant concern growth rate, independent AR(1) process, vector autoregression framework correlated AR(1) process. last formulation described detail along modifications required define two formulations. Parameters related variant concern (VoC) given \\(\\delta\\) superscript parameters related non-VoC cases given \\(o\\) superscript. Mean reported cases defined using AR(1) process log scale strain combined overall mean reported cases. \\[\\begin{align}   \\lambda_t &\\sim \\text{LogNormal}\\left(\\log C_t , 0.025 \\times \\log C_t \\right) ,\\ t \\leq P\\\\   \\lambda^{\\delta}_t &\\sim \\text{LogNormal}\\left(\\log C^{\\delta}_t , 0.025 \\times \\log C^{\\delta}_t \\right),\\ t \\leq P \\\\   \\lambda^{o}_t &= \\lambda_t - \\lambda^{\\delta}_t,\\ t \\leq P \\\\   \\lambda^{\\delta}_t &= \\text{exp}\\left(r^{\\delta}_t\\right) \\sum_{p = 1}^{P} \\alpha^{\\delta}_p  \\lambda^{\\delta}_{t-p},\\ t \\gt P \\\\   \\lambda^{o}_t &= \\text{exp}\\left(r^{o}_t\\right) \\sum_{p = 1}^{P} \\alpha^{o}_p  \\lambda^{o}_{t-p}, t \\gt P   \\\\   \\lambda_t &= \\lambda^{\\delta}_t + \\lambda^{o}_t \\end{align}\\] \\(C^{\\delta}_0\\) derived calculating mean proportion cases VoC first time point using overall number reported cases, number sequenced cases, number sequences positive VoC. growth rate VoC non-VoC cases (\\(r^{o, \\delta}_t\\)) modelled differenced AR(1) processes now combined variant specific modifier (\\(s^{o, \\delta}_0\\)) growth variant sequences first reported (\\(t_{seq}\\)), correlation structure time strain varying error terms (\\(\\eta^{o, \\delta}\\)). \\[\\begin{align}   r^{o}_1 &\\sim \\text{Normal}\\left(0, 0.25 \\right),\\\\   r^{\\delta}_{t_{seq}} &= r^{o}_{t_{seq}} + s^{\\delta} \\\\   r^{o, \\delta}_t &= r^{o, \\delta}_{t-1} + \\epsilon^{o, \\delta}_t  \\\\   \\epsilon^{o, \\delta}_0 &= \\eta^{o, \\delta}_0 \\\\   \\epsilon^{o, \\delta}_t &= \\beta \\epsilon^{o, \\delta}_{t-1} + \\eta^{o, \\delta}_t \\end{align}\\] , \\[\\begin{align}   s^{\\beta} &\\sim \\text{Normal}(0, 0.5)  \\\\   \\eta^{o, \\delta}_t &\\sim \\text{MVN}\\left(0, \\boldsymbol \\Sigma \\right) \\\\   \\beta &\\sim \\text{Normal}\\left(0, 0.5 \\right) \\end{align}\\] \\(\\boldsymbol \\Sigma\\) \\(2 \\times 2\\) covariance matrix decompose computational stability diagonal matrix containing variant specific scale parameters (\\(\\boldsymbol \\Delta\\)) symmetric correlation matrix (\\(\\boldsymbol \\Omega\\)) follows,[1] \\[\\begin{align}   \\boldsymbol \\Sigma &= \\boldsymbol \\Delta \\boldsymbol \\Omega \\boldsymbol \\Delta \\\\   \\boldsymbol \\Delta &=  \\left[ {\\begin{array}{cc}                             \\sigma^o & 0 \\\\                             0& \\sigma^{\\delta} \\\\                                 \\end{array} } \\right] \\\\   \\boldsymbol \\Omega &\\sim \\left[ {\\begin{array}{cc}                             1 & \\omega \\\\                             \\omega & 1 \\\\                               \\end{array} } \\right] \\\\   \\sigma^{o, \\delta} &\\sim \\text{Normal}\\left(0, 0.2 \\right) \\end{align}\\] \\(\\boldsymbol \\Omega\\) Lewandowski-Kurowicka-Joe (LKJ) prior \\(\\omega\\) controls prior expectation correlation variants (\\(\\omega = 1\\) resulting uniform prior correlations, \\(\\omega \\lt 1\\) placing weight larger correlations $1 placing weight small amounts correlations). default set \\(\\omega = 0.5\\) giving weight correlations variants dynamics. top correlated strain dynamic model forecast.vocs also offers two options represent extremes correlated model. first assumes strains evolve independent differenced AR(1) growth rates scaling factor (s^{}) linking . second assumes strains growth rates completely correlated time (.e governed single AR(1) differenced process) differ based scaling factor (\\(s^{\\delta}\\)). See documentation variant_relationship ?forecast() details.  assume negative binomial observation model overdispersion \\(\\phi_c\\) reported cases (\\(C_t\\)) single strain model, \\[\\begin{align}   C_{t} &\\sim \\text{NegBinomial}\\left(\\lambda_t, \\phi_c\\right) \\\\   \\frac{1}{\\sqrt{\\phi_c}} &\\sim \\text{Normal}(0, 0.5)  \\end{align}\\] \\(\\sigma\\), \\(\\frac{1}{\\sqrt{phi_c}}\\) truncated greater 0 \\(\\beta\\) truncated -1 1. Poisson observation model may instead used (see documentation overdispersion ?forecast()). Finally, mean proportion samples VoC (\\(p_t\\)) estimated using mean reported cases VoC overall mean reported cases. \\[\\begin{equation}    p_t = \\frac{\\lambda^{\\delta}_t}{\\lambda_t} \\end{equation}\\] assume beta binomial observation model number sequences (\\(N_t\\)) positive (\\(P_t\\)) VoC overdispersion \\(\\phi_s\\). \\[\\begin{align}   P_{t} &\\sim \\mathrm{BetaBinomial}\\left(N_t, p_t \\phi_s, (1 - p_t) \\phi_s\\right) \\\\   \\frac{1}{\\sqrt{\\phi_s}} &\\sim \\text{Normal}(0, 0.5)  \\end{align}\\] \\(\\sigma^{o, \\delta}\\), \\(\\frac{1}{\\sqrt{\\phi_s}}\\) truncated greater 0. binomial observation model also available (see documentation overdispersion ?forecast()). stan code model available can loaded R using following code,","code":"library(forecast.vocs) readLines(fv_model(strains = 2, compile = FALSE))"},{"path":"epiforecasts.io/forecast.vocs/articles/model-definitions.html","id":"summary-statistics","dir":"Articles","previous_headings":"","what":"Summary statistics","title":"Model definitions","text":"well posterior predictions forecasts notifications variant variant concern proportion models also return several summary statistics may useful drawing inferences underlying transmission dynamics. include log scale growth rate (\\(g^{o, \\delta}_t\\)), instantaneous effective reproduction number (\\(R^{o, \\delta}_t\\)), transmission advantage variant concern (\\(A_t\\)). calculated follows: \\[\\begin{align}   g^{o, \\delta}_t &= T_s r^{o, \\delta}_t \\\\   R^{o, \\delta}_t &= \\text{exp}\\left(T_s r^{o, \\delta}_t\\right) \\\\   A_t &= \\text{exp}\\left(T_s \\left(r^{\\delta}_t - r^{o}_t \\right)\\right)\\\\ \\end{align}\\] \\(T_s\\) user set scaling parameter defines timespan summary metrics apply dependent time step data. can set using scale_r defaults 1 returns summary statistics scaled timestep data. Depending setup model used summary measures less related epidemiological definitions. particular, adding weighting past expected cases complex simple lag may cause interpretation issues.","code":""},{"path":"epiforecasts.io/forecast.vocs/articles/model-definitions.html","id":"implementation","dir":"Articles","previous_headings":"","what":"Implementation","title":"Model definitions","text":"models implemented stan using cmdstanr defaults altered[1,2]. Due complexity posterior likely increasing adapt_delta may required mitigate potential bias posterior estimates.[3] forecast.vocs incorporates additional functionality written R[4] enable plotting forecasts posterior predictions, summarising forecasts, scoring using scoringutils[5]. functionality modular allowing users extend alter underlying model whilst continuing use package framework.","code":""},{"path":"epiforecasts.io/forecast.vocs/articles/model-definitions.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Model definitions","text":"1. Team, S. D. (2021). Stan modeling language users guide reference manual, 2.28.1. 2. Gabry, J., & Češnovar, R. (2021). Cmdstanr: R interface ’cmdstan’. 3. Betancourt, M. (2017). Diagnosing biased inference divergences. Stan Case Studies, 4. https://mc-stan.org/users/documentation/case-studies/divergences_and_bias.html 4. R Core Team. (2019). R: language environment statistical computing. R Foundation Statistical Computing. https://www.R-project.org/ 5. Bosse, N. (2020). Scoringutils: collection proper scoring rules metrics assess predictions. https://github.com/epiforecasts/scoringutils","code":""},{"path":"epiforecasts.io/forecast.vocs/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Sam Abbott. Author, maintainer.","code":""},{"path":"epiforecasts.io/forecast.vocs/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Sam Abbott (2021). forecast.vocs: Forecast case sequence notifications using variant concern strain dynamics,  DOI: 10.5281/zenodo.5559016","code":"@Article{,   title = {forecast.vocs: Forecast case and sequence notifications using variant of concern strain dynamics},   author = {Sam Abbott},   journal = {Zenodo},   year = {2021},   doi = {10.5281/zenodo.5559016}, }"},{"path":"epiforecasts.io/forecast.vocs/index.html","id":"forecast-case-and-sequence-notifications-using-variant-of-concern-strain-dynamics","dir":"","previous_headings":"","what":"Forecast Case and Sequence Notifications using Variant of Concern\n    Strain Dynamics","title":"Forecast Case and Sequence Notifications using Variant of Concern\n    Strain Dynamics","text":"Contains models tools produce short-term forecasts case sequence notifications assuming circulation either one two variants. Tools also provided allow evaluation use sequence data short-term forecasts real-world settings user generated scenarios.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/index.html","id":"installing-the-package","dir":"","previous_headings":"Installation","what":"Installing the package","title":"Forecast Case and Sequence Notifications using Variant of Concern\n    Strain Dynamics","text":"Install stable development version package : Install unstable development GitHub using following,","code":"install.packages(\"forecast.vocs\", repos = \"https://epiforecasts.r-universe.dev\") remotes::install_github(\"epiforecasts/forecast.vocs\", dependencies = TRUE)"},{"path":"epiforecasts.io/forecast.vocs/index.html","id":"installing-cmdstan","dir":"","previous_headings":"Installation","what":"Installing CmdStan","title":"Forecast Case and Sequence Notifications using Variant of Concern\n    Strain Dynamics","text":"don’t already CmdStan installed , addition installing forecast.vocs, also necessary install CmdStan using CmdStanR’s install_cmdstan() function enable model fitting forecast.vocs. suitable C++ toolchain also required. Instructions provided Getting started CmdStanR vignette. See CmdStanR documentation details support.","code":"cmdstanr::install_cmdstan()"},{"path":"epiforecasts.io/forecast.vocs/index.html","id":"quick-start","dir":"","previous_headings":"","what":"Quick start","title":"Forecast Case and Sequence Notifications using Variant of Concern\n    Strain Dynamics","text":"quick start uses data Germany includes COVID-19 notifications sequences sequences either positive negative Delta variant. shows produce forecasts one two strain model 19th June 2021 latest available data estimated approximately 7% COVID-19 positive Delta variant. Note estimated growth rates reproduction numbers shown rescaled using assumed generation time 5.5 days weakly informative prior centred around Delta 50% transmissible non-Delta cases used.","code":"library(forecast.vocs) options(mc.cores = 4)  obs <- filter_by_availability(   germany_covid19_delta_obs,   date = as.Date(\"2021-06-19\") ) obs #>           date location_name location  cases cases_available seq_total seq_voc #>  1: 2021-03-20       Germany       DE  87328      2021-03-20        NA      NA #>  2: 2021-03-27       Germany       DE 109442      2021-03-27        NA      NA #>  3: 2021-04-03       Germany       DE 117965      2021-04-03        NA      NA #>  4: 2021-04-10       Germany       DE 107223      2021-04-10        NA      NA #>  5: 2021-04-17       Germany       DE 142664      2021-04-17      4072       6 #>  6: 2021-04-24       Germany       DE 145568      2021-04-24      4500      32 #>  7: 2021-05-01       Germany       DE 131887      2021-05-01      3607      55 #>  8: 2021-05-08       Germany       DE 107141      2021-05-08      4491      86 #>  9: 2021-05-15       Germany       DE  77261      2021-05-15      3443      92 #> 10: 2021-05-22       Germany       DE  57310      2021-05-22      3392     114 #> 11: 2021-05-29       Germany       DE  33052      2021-05-29      2258      89 #> 12: 2021-06-05       Germany       DE  22631      2021-06-05      1136      75 #> 13: 2021-06-12       Germany       DE  15553      2021-06-12        NA      NA #> 14: 2021-06-19       Germany       DE   7659      2021-06-19        NA      NA #>       share_voc seq_available #>  1:          NA          <NA> #>  2:          NA          <NA> #>  3:          NA          <NA> #>  4:          NA          <NA> #>  5: 0.001473477    2021-06-16 #>  6: 0.007111111    2021-06-16 #>  7: 0.015248129    2021-06-16 #>  8: 0.019149410    2021-06-16 #>  9: 0.026720883    2021-06-16 #> 10: 0.033608491    2021-06-16 #> 11: 0.039415412    2021-06-16 #> 12: 0.066021127    2021-06-16 #> 13:          NA    2021-07-29 #> 14:          NA    2021-07-29  current_obs <- latest_obs(germany_covid19_delta_obs)"},{"path":"epiforecasts.io/forecast.vocs/index.html","id":"forecast-all-in-one","dir":"","previous_headings":"Quick start","what":"Forecast all-in-one","title":"Forecast Case and Sequence Notifications using Variant of Concern\n    Strain Dynamics","text":"Run forecast one two strain models (optionally just one ) using forecast() function. provides wrapper around package tooling initialise, fit, summarise forecasts. Multiple forecasts can performed efficiently across dates scenarios using forecast_across_dates() forecast_across_scenarios(). Summarised posterior forecast estimates can directly extracted output using included summary() method. Alternatively, complete summarised posterior can extracted using following (also summary() plot() options make exploring results easier). See documentation details. Plot posterior prediction cases single strain model (“Overall”), two strain model (“Combined”), unobserved estimates strain.  Plot posterior prediction fraction cases Delta variant two strain model.  Plot posterior estimate growth rate mean generation time COVID-19 cases (assumed 5.5 days).  Plot posterior estimate effective reproduction number Delta non-Delta cases.  Plot estimated transmission advantage Delta vs non-Delta time. Note model correlated variant growth rates used meaning difference variants may vary time (potentially suitable imports present variant greater immune escape baseline). likely growth advantage constant time consider fixed scaling model. variants likely circulating independent populations consider independent variant model. See documentation model definition vignette details.  Alternatively list plots sensible defaults can produced using following. potentially useful optional integration scoringutils package also provided streamline scoring forecasts using proper scoring rules. See documentation scoringutils package simple example calculate average scores single two strain models single Forecast","code":"forecasts <- forecast(obs,   strains = c(1, 2), voc_scale = c(0.4, 0.2),   voc_label = \"Delta\", scale_r = 5.5 / 7,   adapt_delta = 0.99, max_treedepth = 15,   refresh = 0, show_messages = FALSE ) #> Running MCMC with 4 parallel chains... #>  #> Chain 2 finished in 25.7 seconds. #> Chain 4 finished in 31.2 seconds. #> Chain 3 finished in 31.5 seconds. #> Chain 1 finished in 32.0 seconds. #>  #> All 4 chains finished successfully. #> Mean chain execution time: 30.1 seconds. #> Total execution time: 32.0 seconds. #> Running MCMC with 4 parallel chains... #>  #> Chain 2 finished in 53.4 seconds. #> Chain 3 finished in 57.2 seconds. #> Chain 1 finished in 63.0 seconds. #> Chain 4 finished in 81.4 seconds. #>  #> All 4 chains finished successfully. #> Mean chain execution time: 63.7 seconds. #> Total execution time: 81.5 seconds. forecasts #>    id forecast_date strains overdispersion variant_relationship  r_init #> 1:  0    2021-06-19       1           TRUE           correlated 0, 0.25 #> 2:  0    2021-06-19       2           TRUE           correlated 0, 0.25 #>    voc_scale error               fit       data  fit_args samples max_rhat #> 1:  0.4, 0.2       <CmdStanMCMC[31]> <list[28]> <list[5]>    4000     1.01 #> 2:  0.4, 0.2       <CmdStanMCMC[31]> <list[28]> <list[5]>    4000     1.00 #>    divergent_transitions per_divergent_transitions max_treedepth #> 1:                     4                   0.00100            10 #> 2:                    11                   0.00275            10 #>    no_at_max_treedepth per_at_max_treedepth time              posterior #> 1:                2379              0.59475 32.0 <fv_posterior[167x20]> #> 2:                 767              0.19175 81.5 <fv_posterior[474x20]> #>                 forecast #> 1: <fv_posterior[12x13]> #> 2: <fv_posterior[60x13]> summary(forecasts, target = \"posterior\", type = \"all\") plot(forecasts, current_obs) plot(forecasts, current_obs, type = \"voc_frac\", voc_label = \"Delta variant\") plot(forecasts, type = \"growth\") plot(forecasts, type = \"rt\") plot(forecasts, type = \"voc_advantage\") plot(forecasts, current_obs, type = \"all\", voc_label = \"Delta variant\") library(scoringutils) #> Note: The definition of the weighted interval score has slightly changed in version 0.1.5. If you want to use the old definition, use the argument `count_median_twice = TRUE` in the function `eval_forecasts()` library(knitr)  pp_forecasts <- summary(forecasts, target = \"forecast\", type = \"cases\") scores <- fv_score_forecast(pp_forecasts, current_obs, summarise_by = \"strains\") kable(scores)"},{"path":"epiforecasts.io/forecast.vocs/index.html","id":"step-by-step-forecast","dir":"","previous_headings":"Quick start","what":"Step by step forecast","title":"Forecast Case and Sequence Notifications using Variant of Concern\n    Strain Dynamics","text":"Rather using --one forecast() function individual package functions can used produce forecast follows. forecasts produced forecast() function summary plots estimates can produced using summary(), plot() methods. example case forecasts can returned using following,","code":"dt <- fv_as_data_list(obs, horizon = 4)  model <- fv_model(strains = 2)  inits <- fv_inits(dt, strains = 2)  fit <- fv_sample(   data = dt, model = model, init = inits,   voc_scale = c(0.4, 0.2),   adapt_delta = 0.99, max_treedepth = 15,   refresh = 0, show_messages = FALSE )  posterior <- fv_tidy_posterior(fit, voc_label = \"Delta\", scale_r = 5.5 / 7) summary(posterior, type = \"cases\", forecast = TRUE)"},{"path":"epiforecasts.io/forecast.vocs/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Forecast Case and Sequence Notifications using Variant of Concern\n    Strain Dynamics","text":"using forecast.vocs work please consider citing using following,","code":"#>  #> To cite forecast.vocs in publications use: #>  #>   Sam Abbott (2021). forecast.vocs: Forecast case and sequence #>   notifications using variant of concern strain dynamics, DOI: #>   10.5281/zenodo.5559016 #>  #> A BibTeX entry for LaTeX users is #>  #>   @Article{, #>     title = {forecast.vocs: Forecast case and sequence notifications using variant of concern strain dynamics}, #>     author = {Sam Abbott}, #>     journal = {Zenodo}, #>     year = {2021}, #>     doi = {10.5281/zenodo.5559016}, #>   }"},{"path":"epiforecasts.io/forecast.vocs/index.html","id":"how-to-make-a-bug-report-or-feature-request","dir":"","previous_headings":"","what":"How to make a bug report or feature request","title":"Forecast Case and Sequence Notifications using Variant of Concern\n    Strain Dynamics","text":"Please briefly describe problem output expect issue. question, please don’t open issue. Instead, ask Q page.","code":""},{"path":"epiforecasts.io/forecast.vocs/index.html","id":"contributing","dir":"","previous_headings":"","what":"Contributing","title":"Forecast Case and Sequence Notifications using Variant of Concern\n    Strain Dynamics","text":"welcome contributions new contributors! particularly appreciate help priority problems issues. Please check add issues, /add pull request.","code":""},{"path":"epiforecasts.io/forecast.vocs/index.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"Forecast Case and Sequence Notifications using Variant of Concern\n    Strain Dynamics","text":"Please note forecast.vocs project released Contributor Code Conduct. contributing project, agree abide terms.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/add_forecast_dates.html","id":null,"dir":"Reference","previous_headings":"","what":"Add the forecast dates to a plot — add_forecast_dates","title":"Add the forecast dates to a plot — add_forecast_dates","text":"Add forecast dates plot","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/add_forecast_dates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add the forecast dates to a plot — add_forecast_dates","text":"","code":"add_forecast_dates(plot, forecast_dates = NULL)"},{"path":"epiforecasts.io/forecast.vocs/reference/add_forecast_dates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add the forecast dates to a plot — add_forecast_dates","text":"plot ggplot2 object forecast_dates data.frame format produced extract_forecast_dates() (least date variable Data unavailable variable)). Specifies date availability add plots. May contain faceting variables.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/add_forecast_dates.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add the forecast dates to a plot — add_forecast_dates","text":"ggplot2 plot dates data unavailability added.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/bp_launch_shinystan.html","id":null,"dir":"Reference","previous_headings":"","what":"Launch shinystan — bp_launch_shinystan","title":"Launch shinystan — bp_launch_shinystan","text":"Launch shinystan interactive tool stan model evaluation","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/bp_launch_shinystan.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Launch shinystan — bp_launch_shinystan","text":"","code":"bp_launch_shinystan(fit)"},{"path":"epiforecasts.io/forecast.vocs/reference/bp_launch_shinystan.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Launch shinystan — bp_launch_shinystan","text":"fit List output returned fv_sample().","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/bp_launch_shinystan.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Launch shinystan — bp_launch_shinystan","text":"","code":"if (FALSE) { # interactive() obs <- filter_by_availability(   germany_covid19_delta_obs,   date = as.Date(\"2021-06-12\") )  dt <- fv_as_data_list(obs) inits <- fv_inits(dt) fit <- fv_sample(dt, init = inits, adapt_delta = 0.99, max_treedepth = 15) bp_launch_shinystan(fit) }"},{"path":"epiforecasts.io/forecast.vocs/reference/check_dataframe.html","id":null,"dir":"Reference","previous_headings":"","what":"Check a data.frame — check_dataframe","title":"Check a data.frame — check_dataframe","text":"Check data.frame","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/check_dataframe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check a data.frame — check_dataframe","text":"","code":"check_dataframe(dataframe, req_vars, req_types, rows)"},{"path":"epiforecasts.io/forecast.vocs/reference/check_dataframe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check a data.frame — check_dataframe","text":"dataframe data.frame check. req_vars character vector variables required. req_types character vector types required variable. rows Integer specifying number rows data.frame .","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/check_observations.html","id":null,"dir":"Reference","previous_headings":"","what":"Check observations are in the correct format — check_observations","title":"Check observations are in the correct format — check_observations","text":"Check observations correct format","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/check_observations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check observations are in the correct format — check_observations","text":"","code":"check_observations(obs)"},{"path":"epiforecasts.io/forecast.vocs/reference/check_observations.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check observations are in the correct format — check_observations","text":"obs data.frame following variables: date, cases, seq_voc, seq_total, cases_available, seq_available. seq_available case_available must uniquely define data rows rows can duplicated based data availability. data format allows multiple versions case sequence data given date different reporting dates. important using package evaluation settings real-time data sources liable updated new data becomes available. See germany_covid19_delta_obs example supported data set.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/check_observations.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check observations are in the correct format — check_observations","text":"","code":"obs <- latest_obs(germany_covid19_delta_obs) check_observations(obs)"},{"path":"epiforecasts.io/forecast.vocs/reference/check_param.html","id":null,"dir":"Reference","previous_headings":"","what":"Check a parameter is the correct type and length — check_param","title":"Check a parameter is the correct type and length — check_param","text":"Check parameter correct type length","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/check_param.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check a parameter is the correct type and length — check_param","text":"","code":"check_param(param, name = \"param\", type = \"numeric\", length)"},{"path":"epiforecasts.io/forecast.vocs/reference/check_param.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check a parameter is the correct type and length — check_param","text":"param parameter check format . name character string naming variable check. type character string identifying allowed parameter type (must type .type function except Date). length Numeric, allowed length variable. Defaults allowed length.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/check_quantiles.html","id":null,"dir":"Reference","previous_headings":"","what":"Check Quantiles Required are Present — check_quantiles","title":"Check Quantiles Required are Present — check_quantiles","text":"Check Quantiles Required Present","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/check_quantiles.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check Quantiles Required are Present — check_quantiles","text":"","code":"check_quantiles(posterior, req_probs = c(0.5, 0.95, 0.2, 0.8))"},{"path":"epiforecasts.io/forecast.vocs/reference/check_quantiles.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check Quantiles Required are Present — check_quantiles","text":"posterior dataframe containing quantiles identified using q5 naming scheme. req_probs numeric vector required probabilities.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/convert_to_stanfit.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert to stanfit object — convert_to_stanfit","title":"Convert to stanfit object — convert_to_stanfit","text":"Convert stanfit object","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/convert_to_stanfit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert to stanfit object — convert_to_stanfit","text":"","code":"convert_to_stanfit(fit)"},{"path":"epiforecasts.io/forecast.vocs/reference/convert_to_stanfit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert to stanfit object — convert_to_stanfit","text":"fit List output returned fv_sample().","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/convert_to_stanfit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert to stanfit object — convert_to_stanfit","text":"model fit stanfit object","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/convert_to_stanfit.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert to stanfit object — convert_to_stanfit","text":"","code":"if (FALSE) { # interactive() obs <- filter_by_availability(   germany_covid19_delta_obs,   date = as.Date(\"2021-06-12\"), ) dt <- fv_as_data_list(obs) inits <- fv_inits(dt) fit <- fv_sample(dt, init = inits, adapt_delta = 0.99, max_treedepth = 15) convert_to_stanfit(fit) }"},{"path":"epiforecasts.io/forecast.vocs/reference/define_scenarios.html","id":null,"dir":"Reference","previous_headings":"","what":"Define data availability scenarios — define_scenarios","title":"Define data availability scenarios — define_scenarios","text":"Define data availability scenarios","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/define_scenarios.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Define data availability scenarios — define_scenarios","text":"","code":"define_scenarios(   seq_lag = 0:3,   seq_samples = seq(1, by = -0.25, length.out = 4),   voc_scale = list(c(0, 0.5)) )"},{"path":"epiforecasts.io/forecast.vocs/reference/define_scenarios.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Define data availability scenarios — define_scenarios","text":"seq_lag number weeks sequences lag date. Default test 0 3 weeks lag. seq_samples Fraction samples include (deterministic scaling). default test samples 25% samples 25% increments. voc_scale list mean standard  deviations use inform prior additional transmissibility VOC variant. default uninformed prior knowledge prior (0, 0.5). adjusted growth (0.74, 0.1).","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/define_scenarios.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Define data availability scenarios — define_scenarios","text":"data frame scenario definitions ids","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/define_scenarios.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Define data availability scenarios — define_scenarios","text":"","code":"define_scenarios() #>     id seq_lag seq_samples voc_scale #>  1:  1       0        1.00   0.0,0.5 #>  2:  2       0        0.75   0.0,0.5 #>  3:  3       0        0.50   0.0,0.5 #>  4:  4       0        0.25   0.0,0.5 #>  5:  5       1        1.00   0.0,0.5 #>  6:  6       1        0.75   0.0,0.5 #>  7:  7       1        0.50   0.0,0.5 #>  8:  8       1        0.25   0.0,0.5 #>  9:  9       2        1.00   0.0,0.5 #> 10: 10       2        0.75   0.0,0.5 #> 11: 11       2        0.50   0.0,0.5 #> 12: 12       2        0.25   0.0,0.5 #> 13: 13       3        1.00   0.0,0.5 #> 14: 14       3        0.75   0.0,0.5 #> 15: 15       3        0.50   0.0,0.5 #> 16: 16       3        0.25   0.0,0.5"},{"path":"epiforecasts.io/forecast.vocs/reference/extract_draws.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract posterior draws — extract_draws","title":"Extract posterior draws — extract_draws","text":"Extract posterior draws","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/extract_draws.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract posterior draws — extract_draws","text":"","code":"extract_draws(fit, ...)"},{"path":"epiforecasts.io/forecast.vocs/reference/extract_draws.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract posterior draws — extract_draws","text":"fit list produced fv_sample(). ... Additional parameters passed cmdstanr::draws()","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/extract_draws.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract posterior draws — extract_draws","text":"cmdstanr::draws() object posterior package.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/extract_draws.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract posterior draws — extract_draws","text":"","code":"if (FALSE) { # interactive() obs <- filter_by_availability(   germany_covid19_delta_obs,   date = as.Date(\"2021-06-12\"), ) dt <- fv_as_data_list(obs) inits <- fv_inits(dt) fit <- fv_sample(dt, init = inits, adapt_delta = 0.99, max_treedepth = 15) extract_draws(fit) }"},{"path":"epiforecasts.io/forecast.vocs/reference/extract_forecast_dates.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract forecast dates — extract_forecast_dates","title":"Extract forecast dates — extract_forecast_dates","text":"Extract forecast dates based availability case sequence data.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/extract_forecast_dates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract forecast dates — extract_forecast_dates","text":"","code":"extract_forecast_dates(posterior)"},{"path":"epiforecasts.io/forecast.vocs/reference/extract_forecast_dates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract forecast dates — extract_forecast_dates","text":"posterior dataframe posterior output produced fv_tidy_posterior(). forecast dates extracted data value_type == \"cases\" must present.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/extract_forecast_dates.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract forecast dates — extract_forecast_dates","text":"data.frame containing least two vectors: Data unavailable indicating type data missing, date giving date data last available .","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/extract_forecast_dates.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract forecast dates — extract_forecast_dates","text":"","code":"p <- fv_example(strains = 2, type = \"posterior\")  extract_forecast_dates(p) #>    Data unavailable       date #> 1:            Cases 2021-06-26 #> 2:        Sequences 2021-06-12"},{"path":"epiforecasts.io/forecast.vocs/reference/filter_by_availability.html","id":null,"dir":"Reference","previous_headings":"","what":"Filter data based on availability and forecast date — filter_by_availability","title":"Filter data based on availability and forecast date — filter_by_availability","text":"Filter data based availability forecast date","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/filter_by_availability.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Filter data based on availability and forecast date — filter_by_availability","text":"","code":"filter_by_availability(   obs,   date = max(obs$date),   seq_date = date,   case_date = date )"},{"path":"epiforecasts.io/forecast.vocs/reference/filter_by_availability.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Filter data based on availability and forecast date — filter_by_availability","text":"obs data.frame following variables: date, cases, seq_voc, seq_total, cases_available, seq_available. seq_available case_available must uniquely define data rows rows can duplicated based data availability. data format allows multiple versions case sequence data given date different reporting dates. important using package evaluation settings real-time data sources liable updated new data becomes available. See germany_covid19_delta_obs example supported data set. date Date filter. Defaults maximum date obs. seq_date Date use available sequence data. Defaults date. case_date Date use available case data. Defaults date.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/filter_by_availability.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Filter data based on availability and forecast date — filter_by_availability","text":"data.frame observations filter latest available data specified dates interest.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/filter_by_availability.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Filter data based on availability and forecast date — filter_by_availability","text":"","code":"options(mc.cores = 4) obs <- filter_by_availability(   germany_covid19_delta_obs,   date = as.Date(\"2021-06-12\"), ) dt <- rbind(   update_obs_availability(obs, seq_lag = 3),   update_obs_availability(obs, seq_lag = 1) ) # filter out duplicates and up to the present date filter_by_availability(dt) #>           date location_name location  cases cases_available seq_total seq_voc #>  1: 2021-03-20       Germany       DE  87328      2021-03-20        NA      NA #>  2: 2021-03-27       Germany       DE 109442      2021-03-27        NA      NA #>  3: 2021-04-03       Germany       DE 117965      2021-04-03        NA      NA #>  4: 2021-04-10       Germany       DE 107223      2021-04-10        NA      NA #>  5: 2021-04-17       Germany       DE 142664      2021-04-17      4066       5 #>  6: 2021-04-24       Germany       DE 145568      2021-04-24      4494      31 #>  7: 2021-05-01       Germany       DE 131887      2021-05-01      3615      55 #>  8: 2021-05-08       Germany       DE 107141      2021-05-08      4479      86 #>  9: 2021-05-15       Germany       DE  77261      2021-05-15      3399      93 #> 10: 2021-05-22       Germany       DE  57310      2021-05-22      3275     108 #> 11: 2021-05-29       Germany       DE  33052      2021-05-29      1328      34 #> 12: 2021-06-05       Germany       DE  22631      2021-06-05        NA      NA #> 13: 2021-06-12       Germany       DE  15553      2021-06-12        NA      NA #>       share_voc seq_available #>  1:          NA          <NA> #>  2:          NA          <NA> #>  3:          NA          <NA> #>  4:          NA          <NA> #>  5: 0.001229710    2021-05-08 #>  6: 0.006898086    2021-05-15 #>  7: 0.015214385    2021-05-22 #>  8: 0.019200714    2021-05-29 #>  9: 0.027360989    2021-06-05 #> 10: 0.032977099    2021-06-12 #> 11: 0.025602410    2021-06-05 #> 12:          NA    2021-06-26 #> 13:          NA    2021-07-03  # filter to only use sequence data up the the 12th of June filter_by_availability(dt, seq_date = \"2021-06-12\") #>           date location_name location  cases cases_available seq_total seq_voc #>  1: 2021-03-20       Germany       DE  87328      2021-03-20        NA      NA #>  2: 2021-03-27       Germany       DE 109442      2021-03-27        NA      NA #>  3: 2021-04-03       Germany       DE 117965      2021-04-03        NA      NA #>  4: 2021-04-10       Germany       DE 107223      2021-04-10        NA      NA #>  5: 2021-04-17       Germany       DE 142664      2021-04-17      4066       5 #>  6: 2021-04-24       Germany       DE 145568      2021-04-24      4494      31 #>  7: 2021-05-01       Germany       DE 131887      2021-05-01      3615      55 #>  8: 2021-05-08       Germany       DE 107141      2021-05-08      4479      86 #>  9: 2021-05-15       Germany       DE  77261      2021-05-15      3399      93 #> 10: 2021-05-22       Germany       DE  57310      2021-05-22      3275     108 #> 11: 2021-05-29       Germany       DE  33052      2021-05-29      1328      34 #> 12: 2021-06-05       Germany       DE  22631      2021-06-05        NA      NA #> 13: 2021-06-12       Germany       DE  15553      2021-06-12        NA      NA #>       share_voc seq_available #>  1:          NA          <NA> #>  2:          NA          <NA> #>  3:          NA          <NA> #>  4:          NA          <NA> #>  5: 0.001229710    2021-05-08 #>  6: 0.006898086    2021-05-15 #>  7: 0.015214385    2021-05-22 #>  8: 0.019200714    2021-05-29 #>  9: 0.027360989    2021-06-05 #> 10: 0.032977099    2021-06-12 #> 11: 0.025602410    2021-06-05 #> 12:          NA    2021-06-26 #> 13:          NA    2021-07-03  # as above but only use filter_by_availability(dt,   seq_date = \"2021-06-12\",   case_date = \"2021-07-01\" ) #>           date location_name location  cases cases_available seq_total seq_voc #>  1: 2021-03-20       Germany       DE  87328      2021-03-20        NA      NA #>  2: 2021-03-27       Germany       DE 109442      2021-03-27        NA      NA #>  3: 2021-04-03       Germany       DE 117965      2021-04-03        NA      NA #>  4: 2021-04-10       Germany       DE 107223      2021-04-10        NA      NA #>  5: 2021-04-17       Germany       DE 142664      2021-04-17      4066       5 #>  6: 2021-04-24       Germany       DE 145568      2021-04-24      4494      31 #>  7: 2021-05-01       Germany       DE 131887      2021-05-01      3615      55 #>  8: 2021-05-08       Germany       DE 107141      2021-05-08      4479      86 #>  9: 2021-05-15       Germany       DE  77261      2021-05-15      3399      93 #> 10: 2021-05-22       Germany       DE  57310      2021-05-22      3275     108 #> 11: 2021-05-29       Germany       DE  33052      2021-05-29      1328      34 #> 12: 2021-06-05       Germany       DE  22631      2021-06-05        NA      NA #> 13: 2021-06-12       Germany       DE  15553      2021-06-12        NA      NA #>       share_voc seq_available #>  1:          NA          <NA> #>  2:          NA          <NA> #>  3:          NA          <NA> #>  4:          NA          <NA> #>  5: 0.001229710    2021-05-08 #>  6: 0.006898086    2021-05-15 #>  7: 0.015214385    2021-05-22 #>  8: 0.019200714    2021-05-29 #>  9: 0.027360989    2021-06-05 #> 10: 0.032977099    2021-06-12 #> 11: 0.025602410    2021-06-05 #> 12:          NA    2021-06-26 #> 13:          NA    2021-07-03"},{"path":"epiforecasts.io/forecast.vocs/reference/forecast.html","id":null,"dir":"Reference","previous_headings":"","what":"Forecast using branching processes at a target date — forecast","title":"Forecast using branching processes at a target date — forecast","text":"Forecast using branching processes target date","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/forecast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Forecast using branching processes at a target date — forecast","text":"","code":"forecast(   obs,   forecast_date = max(obs$date),   seq_date = forecast_date,   case_date = forecast_date,   data_list = forecast.vocs::fv_as_data_list,   inits = forecast.vocs::fv_inits,   fit = forecast.vocs::fv_sample,   posterior = forecast.vocs::fv_tidy_posterior,   extract_forecast = forecast.vocs::fv_extract_forecast,   horizon = 4,   r_init = c(0, 0.25),   r_step = 1,   r_forecast = TRUE,   beta = c(0, 0.1),   lkj = 0.5,   period = NULL,   special_periods = c(),   voc_scale = c(0, 0.2),   voc_label = \"VOC\",   strains = 2,   variant_relationship = \"correlated\",   overdispersion = TRUE,   models = NULL,   likelihood = TRUE,   output_loglik = FALSE,   debug = FALSE,   keep_fit = TRUE,   scale_r = 1,   digits = 3,   timespan = 7,   probs = c(0.05, 0.2, 0.8, 0.95),   id = 0,   ... )"},{"path":"epiforecasts.io/forecast.vocs/reference/forecast.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Forecast using branching processes at a target date — forecast","text":"obs data.frame following variables: date, cases, seq_voc, seq_total, cases_available, seq_available. seq_available case_available must uniquely define data rows rows can duplicated based data availability. data format allows multiple versions case sequence data given date different reporting dates. important using package evaluation settings real-time data sources liable updated new data becomes available. See germany_covid19_delta_obs example supported data set. forecast_date Date forecast. Defaults maximum date obs. seq_date Date use available sequence data. Defaults date. case_date Date use available case data. Defaults date. data_list function returns list data ingested inits fit function. Must use arguments defined fv_as_data_list(). supplied package default fv_as_data_list() used. inits function returns function samples initial conditions arguments fv_inits(). supplied package default fv_inits() used. fit function fits supplied model arguments return values fv_sample(). supplied package default fv_sample() used performs MCMC sampling using cmdstanr. posterior function summarises output supplied fitting function arguments return values (depending requirement downstream package functionality function) fv_tidy_posterior(). supplied package default fv_tidy_posterior() used. extract_forecast function extracts forecast summarised posterior. supplied package default fv_extract_forecast() used. horizon Integer forecast horizon. Defaults 4. r_init Numeric vector length 2. Mean standard deviation normal prior initial log growth rate. r_step Integer, defaults 1. number observations change growth rate. r_forecast Logical, defaults TRUE. growth rate forecast beyond data horizon. beta Numeric vector, defaults c(0, 0.5). Represents mean standard deviation normal prior (truncated 1 -1) weighting differenced AR process  previous difference. Placing tight prior around zero effectively reduces AR process random walk growth rate. lkj Numeric defaults 0.5. assumed prior covariance variants growth rates using \"correlated\" model. sets shape parameter Lewandowski-Kurowicka-Joe (LKJ) prior distribution. set 1 assigns uniform prior correlations, values less 1 indicate increased belief strong correlations values greater 1 indicate increased belief weaker correlations. default setting places increased weight correlation strains. period Logical defaults NULL. specified function accepts vector dates. can used assign periodic effects dates adjusted case model. example adjusting day week effects fv_dow_period() can used. special_periods vector dates pass period function argument name treated \"special\" example holidays treated sundays fv_dow_period(). voc_scale Numeric vector length 2. Prior mean standard deviation initial growth rate modifier due variant concern. voc_label character string, default \"VOC\". Defines label assign variant concern specific parameters. Example usage rename parameters use variant specific terminology. strains Integer number strains use. Defaults 2. Current maximum 2. numeric vector can passed forecasts multiple strain models desired. variant_relationship Character string, defaulting \"correlated\". Controls relationship strains options \"correlated\" (strains growth rates correlated time), \"scaled\" (fixed scaling strains), \"independent\" (fully independent strains initial scaling). overdispersion Logical, defaults TRUE. observations used include overdispersion. models model supplied fv_model(). supplied default strain used. multiple strain models forecast models list models. likelihood Logical, defaults TRUE. likelihood included model output_loglik Logical, defaults FALSE. log-likelihood output. Disabling speed fitting evaluating model fit required. debug Logical, defaults FALSE. within model debug information returned. keep_fit Logical, defaults TRUE. stan model fit kept returned. Dropping can substantially reduce memory usage situations multiple models fit. scale_r Numeric, defaults 1. Rescale timespan growth rate reproduction number calculated. example use case rescaling growth rate weekly scaled mean generation time (COVID-19 example 5.5 / 7. digits Numeric, defaults 3. Number digits round summary statistics . timespan Integer, defaults 7. Indicates number days observation. Defaults week. probs vector numeric probabilities produce quantile summaries . default 5%, 20%, 80%, 95% quantiles also minimum set required plotting functions work (plot_cases(), plot_rt(), plot_voc_frac()). id ID assign forecast. Defaults 0. ... Additional parameters passed fv_sample().","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/forecast.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Forecast using branching processes at a target date — forecast","text":"data.frame containing output fv_sample() row well summarised posterior, forecast information parameters specified.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/forecast.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Forecast using branching processes at a target date — forecast","text":"","code":"if (FALSE) { # interactive() options(mc.cores = 4)  forecasts <- forecast(   germany_covid19_delta_obs,   forecast_date = as.Date(\"2021-06-12\"),   horizon = 4,   strains = c(1, 2),   adapt_delta = 0.99,   max_treedepth = 15,   variant_relationship = \"scaled\" )  # inspect forecasts forecasts  # extract the model summary summary(forecasts, type = \"model\")  # plot case posterior predictions plot(forecasts, log = TRUE)  # plot voc posterior predictions plot(forecasts, type = \"voc_frac\")  # extract the case forecast summary(forecasts, type = \"cases\", forecast = TRUE) }"},{"path":"epiforecasts.io/forecast.vocs/reference/forecast.vocs-package.html","id":null,"dir":"Reference","previous_headings":"","what":"forecast.vocs: Forecast Case and Sequence Notifications using Variant of Concern Strain Dynamics — forecast.vocs-package","title":"forecast.vocs: Forecast Case and Sequence Notifications using Variant of Concern Strain Dynamics — forecast.vocs-package","text":"Contains models tools produce short-term forecasts case sequence notifications assuming circulation either one two variants. Tools also provided allow evaluation use sequence data short-term forecasts real-world settings user generated scenarios.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/forecast.vocs-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"forecast.vocs: Forecast Case and Sequence Notifications using Variant of Concern Strain Dynamics — forecast.vocs-package","text":"Maintainer: Sam Abbott sam.abbott@lshtm.ac.uk (ORCID)","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_across_dates.html","id":null,"dir":"Reference","previous_headings":"","what":"Forecast across multiple dates — forecast_across_dates","title":"Forecast across multiple dates — forecast_across_dates","text":"Forecast across multiple dates","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_across_dates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Forecast across multiple dates — forecast_across_dates","text":"","code":"forecast_across_dates(   obs,   forecast_dates = unique(obs[!is.na(seq_available)])$date[-c(1:3)],   ... )"},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_across_dates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Forecast across multiple dates — forecast_across_dates","text":"obs data.frame following variables: date, cases, seq_voc, seq_total, cases_available, seq_available. seq_available case_available must uniquely define data rows rows can duplicated based data availability. data format allows multiple versions case sequence data given date different reporting dates. important using package evaluation settings real-time data sources liable updated new data becomes available. See germany_covid19_delta_obs example supported data set. forecast_dates list dates forecast . ... Additional parameters passed forecast().","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_across_dates.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Forecast across multiple dates — forecast_across_dates","text":"data.table row containing output running forecast() single forecast date.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_across_dates.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Forecast across multiple dates — forecast_across_dates","text":"","code":"if (FALSE) { # interactive() library(ggplot2) options(mc.cores = 4)  forecasts <- forecast_across_dates(   germany_covid19_delta_obs,   forecast_dates = c(as.Date(\"2021-05-01\"), as.Date(\"2021-06-12\")),   horizon = 4,   strains = 2,   adapt_delta = 0.99,   max_treedepth = 15,   variant_relationship = \"scaled\" )  # inspect forecasts forecasts  # unnest posteriors posteriors <- unnest_posterior(forecasts)  # plot case posterior predictions plot_cases(posteriors, log = TRUE) +   facet_grid(vars(forecast_date), vars(voc_scale)) }"},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_across_scenarios.html","id":null,"dir":"Reference","previous_headings":"","what":"Forecast across multiple scenarios and dates — forecast_across_scenarios","title":"Forecast across multiple scenarios and dates — forecast_across_scenarios","text":"Forecast across multiple scenarios dates","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_across_scenarios.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Forecast across multiple scenarios and dates — forecast_across_scenarios","text":"","code":"forecast_across_scenarios(obs, scenarios, ...)"},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_across_scenarios.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Forecast across multiple scenarios and dates — forecast_across_scenarios","text":"obs data.frame following variables: date, cases, seq_voc, seq_total, cases_available, seq_available. seq_available case_available must uniquely define data rows rows can duplicated based data availability. data format allows multiple versions case sequence data given date different reporting dates. important using package evaluation settings real-time data sources liable updated new data becomes available. See germany_covid19_delta_obs example supported data set. scenarios data.frame scenarios produced define_scenarios(). obs variable present used scenario data otherwise generate_obs_scenario() used generate data variables scenarios. ... Additional parameters passed forecast_across_dates().","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_across_scenarios.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Forecast across multiple scenarios and dates — forecast_across_scenarios","text":"data table rows containing output running forecast() single scenario single forecast date.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_across_scenarios.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Forecast across multiple scenarios and dates — forecast_across_scenarios","text":"","code":"if (FALSE) { # interactive() library(ggplot2) options(mc.cores = 4)  scenarios <- define_scenarios(   voc_scale = list(c(0, 0.5), c(0.5, 0.25)),   seq_lag = 1,   seq_samples = 1 ) scenarios  forecasts <- forecast_across_scenarios(   germany_covid19_delta_obs,   scenarios,   forecast_dates = c(as.Date(\"2021-05-01\"), as.Date(\"2021-06-12\")),   horizon = 4,   strains = 2,   adapt_delta = 0.99,   max_treedepth = 15,   variant_relationship = \"scaled\" )  # inspect forecasts forecasts  # unnest posteriors posteriors <- unnest_posterior(forecasts)  # plot case posterior predictions plot_cases(posteriors, log = TRUE) +   facet_grid(vars(forecast_date)) }"},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_n_strain.html","id":null,"dir":"Reference","previous_headings":"","what":"Forecast for a single model and summarise — forecast_n_strain","title":"Forecast for a single model and summarise — forecast_n_strain","text":"Forecast single model summarise","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_n_strain.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Forecast for a single model and summarise — forecast_n_strain","text":"","code":"forecast_n_strain(   data,   model = NULL,   inits = forecast.vocs::fv_inits,   fit = forecast.vocs::fv_sample,   posterior = forecast.vocs::fv_tidy_posterior,   extract_forecast = forecast.vocs::fv_extract_forecast,   strains = 2,   voc_label = \"VOC\",   probs = c(0.05, 0.2, 0.8, 0.95),   digits = 3,   scale_r = 1,   timespan = 7,   ... )"},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_n_strain.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Forecast for a single model and summarise — forecast_n_strain","text":"data list data produced fv_as_data_list(). model cmdstanr model object loaded fv_model(). inits function returns function samples initial conditions arguments fv_inits(). supplied package default fv_inits() used. fit function fits supplied model arguments return values fv_sample(). supplied package default fv_sample() used performs MCMC sampling using cmdstanr. posterior function summarises output supplied fitting function arguments return values (depending requirement downstream package functionality function) fv_tidy_posterior(). supplied package default fv_tidy_posterior() used. extract_forecast function extracts forecast summarised posterior. supplied package default fv_extract_forecast() used. strains Integer number strains. Defaults 2. Current maximum 2. voc_label character string, default \"VOC\". Defines label assign variant concern specific parameters. Example usage rename parameters use variant specific terminology. probs vector numeric probabilities produce quantile summaries . default 5%, 20%, 80%, 95% quantiles also minimum set required plotting functions work (plot_cases(), plot_rt(), plot_voc_frac()). digits Numeric, defaults 3. Number digits round summary statistics . scale_r Numeric, defaults 1. Rescale timespan growth rate reproduction number calculated. example use case rescaling growth rate weekly scaled mean generation time (COVID-19 example 5.5 / 7. timespan Integer, defaults 7. Indicates number days observation. Defaults week. ... Additional parameters passed fv_sample().","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/fv_as_data_list.html","id":null,"dir":"Reference","previous_headings":"","what":"Format data for use with stan — fv_as_data_list","title":"Format data for use with stan — fv_as_data_list","text":"Format data use stan","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_as_data_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format data for use with stan — fv_as_data_list","text":"","code":"fv_as_data_list(   obs,   horizon = 4,   r_init = c(0, 0.25),   r_step = 1,   r_forecast = TRUE,   beta = c(0, 0.5),   lkj = 0.5,   voc_scale = c(0, 0.2),   period = NULL,   special_periods = c(),   variant_relationship = \"correlated\",   overdispersion = TRUE,   likelihood = TRUE,   output_loglik = TRUE,   debug = FALSE )"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_as_data_list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Format data for use with stan — fv_as_data_list","text":"obs data frame following variables: date, cases, seq_voc, seq_total. horizon Integer forecast horizon. Defaults 4. r_init Numeric vector length 2. Mean standard deviation normal prior initial log growth rate. r_step Integer, defaults 1. number observations change growth rate. r_forecast Logical, defaults TRUE. growth rate forecast beyond data horizon. beta Numeric vector, defaults c(0, 0.5). Represents mean standard deviation normal prior (truncated 1 -1) weighting differenced AR process  previous difference. Placing tight prior around zero effectively reduces AR process random walk growth rate. lkj Numeric defaults 0.5. assumed prior covariance variants growth rates using \"correlated\" model. sets shape parameter Lewandowski-Kurowicka-Joe (LKJ) prior distribution. set 1 assigns uniform prior correlations, values less 1 indicate increased belief strong correlations values greater 1 indicate increased belief weaker correlations. default setting places increased weight correlation strains. voc_scale Numeric vector length 2. Prior mean standard deviation initial growth rate modifier due variant concern. period Logical defaults NULL. specified function accepts vector dates. can used assign periodic effects dates adjusted case model. example adjusting day week effects fv_dow_period() can used. special_periods vector dates pass period function argument name treated \"special\" example holidays treated sundays fv_dow_period(). variant_relationship Character string, defaulting \"correlated\". Controls relationship strains options \"correlated\" (strains growth rates correlated time), \"scaled\" (fixed scaling strains), \"independent\" (fully independent strains initial scaling). overdispersion Logical, defaults TRUE. observations used include overdispersion. likelihood Logical, defaults TRUE. likelihood included model output_loglik Logical, defaults FALSE. log-likelihood output. Disabling speed fitting evaluating model fit required. debug Logical, defaults FALSE. within model debug information returned.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_as_data_list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Format data for use with stan — fv_as_data_list","text":"list required stan.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/fv_as_data_list.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Format data for use with stan — fv_as_data_list","text":"","code":"fv_as_data_list(latest_obs(germany_covid19_delta_obs)) #> $t #> [1] 30 #>  #> $t_nots #> [1] 26 #>  #> $t_nseq #> [1] 4 #>  #> $t_seq #> [1] 14 #>  #> $t_seqf #> [1] 26 #>  #> $X #>  [1]  87328 109442 117965 107223 142664 145568 131887 107141  77261  57310 #> [11]  33052  22631  15553   7659   5033   4181   5067   7969  11122  14654 #> [21]  18474  28646  44862  62984  71057  75107 #>  #> $N #>  [1] 4108 4539 3667 4547 3688 3817 2781 2197 1566  991  706  803  735  564 #>  #> $Y #>  [1]   6  34  54  89 101 119 102 181 309 414 451 631 643 521 #>  #> $start_date #> [1] \"2021-03-20\" #>  #> $seq_start_date #> [1] \"2021-04-17\" #>  #> $r_init_mean #> [1] 0 #>  #> $r_init_sd #> [1] 0.25 #>  #> $beta_mean #> [1] 0 #>  #> $beta_sd #> [1] 0.5 #>  #> $voc_mean #> [1] 0 #>  #> $voc_sd #> [1] 0.2 #>  #> $relat #> [1] 2 #>  #> $overdisp #> [1] 1 #>  #> $likelihood #> [1] 1 #>  #> $output_loglik #> [1] 1 #>  #> $debug #> [1] 0 #>  #> $period #> [1] 1 #>  #> $periodic #>  [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 #>  #> $eta_n #> [1] 28 #>  #> $eta_loc #>  [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 #>  #> $voc_eta_n #> [1] 24 #>  #> $voc_eta_loc #>  [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 #>  #> $lkj_prior #> [1] 0.5 #>"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_dow_period.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate the day of the week periodicity — fv_dow_period","title":"Calculate the day of the week periodicity — fv_dow_period","text":"helper function allows user generate vector day week periods.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_dow_period.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate the day of the week periodicity — fv_dow_period","text":"","code":"fv_dow_period(t, start_date, specials = c(), special_to = \"Sunday\")"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_dow_period.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate the day of the week periodicity — fv_dow_period","text":"t integer indicating number dates start_date date indicating start date specials vector special dates modify day week . special_to character string indicating day week label assign holidays. default set \"Sunday\"","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_dow_period.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate the day of the week periodicity — fv_dow_period","text":"vector indicating period dates.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/fv_dow_period.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate the day of the week periodicity — fv_dow_period","text":"","code":"fv_dow_period(t = 10, start_date = as.Date(\"2021-12-01\")) #>  [1] 7 5 1 3 4 2 6 7 5 1"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_example.html","id":null,"dir":"Reference","previous_headings":"","what":"Load a package example — fv_example","title":"Load a package example — fv_example","text":"Loads examples posterior forecast summaries produced using example scripts. Used streamline examples, package tests enable users explore package functionality without needing install cmdstanr.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_example.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load a package example — fv_example","text":"","code":"fv_example(strains = 1, type = \"posterior\")"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_example.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load a package example — fv_example","text":"strains Integer number strains. Defaults 2. Current maximum 2. type character string indicating example load. Supported options \"posterior\", \"forecast\", \"observations\", \"script\" output fv_tidy_posterior(),  fv_extract_forecast(), filter_by_availability (date argument set \"2021-08-26\" applied germany_covid19_delta_obs package dataset), script used generate examples respectively.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_example.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load a package example — fv_example","text":"data.table summarised output","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/fv_example.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load a package example — fv_example","text":"","code":"# Load the summarised posterior from an example fit of the one strain model fv_example(strains = 1, type = \"posterior\") #> Available value types: model, cases, growth, rt, raw #>      value_type      variable                  clean_name date type obs #>   1:      model          beta                        Beta <NA>       NA #>   2:      model init_cases[1]               Initial cases <NA>       NA #>   3:      model        phi[1] Notification overdispersion <NA>       NA #>   4:      model        r_init              Initial growth <NA>       NA #>   5:      model       r_scale                 Growth (sd) <NA>       NA #>  ---                                                                    #> 187:        raw   log_lik[11]                             <NA>       NA #> 188:        raw   log_lik[12]                             <NA>       NA #> 189:        raw   log_lik[13]                             <NA>       NA #> 190:        raw   log_lik[14]                             <NA>       NA #> 191:        raw   log_lik[15]                             <NA>       NA #>      observed forecast_start exponentiated      mean    median       sd #>   1:       NA             NA         FALSE     0.146     0.141 3.99e-01 #>   2:       NA             NA         FALSE 89700.000 89400.000 6.15e+03 #>   3:       NA             NA         FALSE   108.000    88.400 8.50e+01 #>   4:       NA             NA         FALSE     0.141     0.139 7.16e-02 #>   5:       NA             NA         FALSE     0.117     0.112 5.20e-02 #>  ---                                                                    #> 187:       NA             NA            NA    -9.540    -9.470 5.69e-01 #> 188:       NA             NA            NA    -8.940    -8.900 4.33e-01 #> 189:       NA             NA            NA    -8.920    -8.800 6.72e-01 #> 190:       NA             NA            NA    -8.150    -8.050 5.99e-01 #> 191:       NA             NA            NA    -7.600    -7.500 6.33e-01 #>           mad        q5       q20       q80       q95 rhat ess_bulk ess_tail #>   1: 4.40e-01 -5.09e-01 -2.10e-01     0.522  7.99e-01    1     1050      781 #>   2: 6.02e+03  7.97e+04  8.46e+04 94800.000  1.00e+05    1     1930     1340 #>   3: 5.50e+01  2.66e+01  4.91e+01   149.000  2.65e+02    1      728      920 #>   4: 6.78e-02  2.25e-02  8.41e-02     0.198  2.61e-01    1     1310     1190 #>   5: 5.04e-02  4.42e-02  7.16e-02     0.157  2.11e-01    1      930     1060 #>  ---                                                                         #> 187: 4.97e-01 -1.06e+01 -9.92e+00    -9.080 -8.76e+00    1     1010      853 #> 188: 3.95e-01 -9.72e+00 -9.27e+00    -8.590 -8.31e+00    1      834     1140 #> 189: 5.21e-01 -1.02e+01 -9.34e+00    -8.420 -8.07e+00    1     1300     1110 #> 190: 5.16e-01 -9.26e+00 -8.57e+00    -7.670 -7.38e+00    1     1320     1320 #> 191: 4.71e-01 -8.76e+00 -7.96e+00    -7.140 -6.85e+00    1      833      993  # Load the summarised forecast from this posterior fv_example(strains = 1, type = \"forecast\") #> Available value types: cases, growth, rt #>     value_type    type       date horizon forecast_start         mean #>  1:      cases Overall 2021-07-03       1          FALSE 3010.0000000 #>  2:      cases Overall 2021-07-10       2          FALSE 1910.0000000 #>  3:      cases Overall 2021-07-17       3          FALSE 1320.0000000 #>  4:      cases Overall 2021-07-24       4          FALSE 1070.0000000 #>  5:     growth Overall 2021-06-26       1          FALSE   -0.4140714 #>  6:     growth Overall 2021-07-03       2          FALSE   -0.4085714 #>  7:     growth Overall 2021-07-10       3          FALSE   -0.4109286 #>  8:     growth Overall 2021-07-17       4          FALSE   -0.4085714 #>  9:         rt Overall 2021-06-26       1          FALSE    0.6609537 #> 10:         rt Overall 2021-07-03       2          FALSE    0.6645990 #> 11:         rt Overall 2021-07-10       3          FALSE    0.6630343 #> 12:         rt Overall 2021-07-17       4          FALSE    0.6645990 #>           median       sd     mad           q5          q20          q80 #>  1: 2910.0000000  797.000 661.000 1900.0000000 2400.0000000 3570.0000000 #>  2: 1720.0000000  942.000 660.000  843.0000000 1250.0000000 2450.0000000 #>  3: 1030.0000000 1440.000 592.000  342.0000000  628.0000000 1700.0000000 #>  4:  616.0000000 3900.000 477.000  133.0000000  297.0000000 1230.0000000 #>  5:   -0.4140714    0.163   0.145   -0.6277857   -0.5107143   -0.3166429 #>  6:   -0.4109286    0.227   0.198   -0.6945714   -0.5390000   -0.2757857 #>  7:   -0.4148571    0.272   0.236   -0.7472143   -0.5696429   -0.2514286 #>  8:   -0.4156429    0.317   0.276   -0.7857143   -0.5971429   -0.2231429 #>  9:    0.6609537    0.163   0.145    0.5337724    0.6000668    0.7285909 #> 10:    0.6630343    0.227   0.198    0.4992884    0.5833313    0.7589756 #> 11:    0.6604346    0.272   0.236    0.4736843    0.5657274    0.7776890 #> 12:    0.6599159    0.317   0.276    0.4557940    0.5503819    0.8000006 #>               q95 #>  1:  4.470000e+03 #>  2:  3.420000e+03 #>  3:  3.010000e+03 #>  4:  2.780000e+03 #>  5: -2.145000e-01 #>  6: -1.265000e-01 #>  7: -6.655000e-02 #>  8:  4.714286e-03 #>  9:  8.069448e-01 #> 10:  8.811741e-01 #> 11:  9.356161e-01 #> 12:  1.004725e+00  # Load the script used to generate these examples # Optionally source this script to regenerate the example readLines(fv_example(strains = 1, type = \"script\")) #>  [1] \"options(mc.cores = 2)\"                                               #>  [2] \"obs <- filter_by_availability(\"                                      #>  [3] \"  germany_covid19_delta_obs,\"                                        #>  [4] \"  date = \\\"2021-06-26\\\"\"                                             #>  [5] \")\"                                                                   #>  [6] \"\"                                                                    #>  [7] \"current_obs <- filter_by_availability(\"                              #>  [8] \"  germany_covid19_delta_obs,\"                                        #>  [9] \"  date = \\\"2021-08-26\\\"\"                                             #> [10] \")\"                                                                   #> [11] \"\"                                                                    #> [12] \"dt <- fv_as_data_list(\"                                              #> [13] \"  obs,\"                                                              #> [14] \"  overdispersion = TRUE,\"                                            #> [15] \"  voc_scale = c(0.4, 0.2)\"                                           #> [16] \")\"                                                                   #> [17] \"\"                                                                    #> [18] \"inits <- fv_inits(dt, strains = 1)\"                                  #> [19] \"\"                                                                    #> [20] \"model <- suppressMessages(fv_model(strains = 1))\"                    #> [21] \"\"                                                                    #> [22] \"fit <- fv_sample(\"                                                   #> [23] \"  data = dt, model = model, init = inits,\"                           #> [24] \"  adapt_delta = 0.99, max_treedepth = 15, chains = 2\"                #> [25] \")\"                                                                   #> [26] \"\"                                                                    #> [27] \"# summarise posterior assuming a mean generation time of  5.5 days.\" #> [28] \"posterior <- fv_tidy_posterior(fit, scale_r = 5.5 / 7)\"              #> [29] \"forecast <- fv_extract_forecast(posterior)\""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_extract_forecast.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract forecasts from a summarised posterior — fv_extract_forecast","title":"Extract forecasts from a summarised posterior — fv_extract_forecast","text":"Uses observed variable returned fv_tidy_posterior() return posterior predictions forecast dates .","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_extract_forecast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract forecasts from a summarised posterior — fv_extract_forecast","text":"","code":"fv_extract_forecast(posterior)"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_extract_forecast.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract forecasts from a summarised posterior — fv_extract_forecast","text":"posterior dataframe posterior output produced fv_tidy_posterior(). forecast dates extracted data value_type == \"cases\" must present.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_extract_forecast.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract forecasts from a summarised posterior — fv_extract_forecast","text":"data.frame forecasts format returned fv_tidy_posterior() fitting variables dropped.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/fv_extract_forecast.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract forecasts from a summarised posterior — fv_extract_forecast","text":"","code":"p <- fv_example(strains = 2, type = \"posterior\")  fv_extract_forecast(p) #> Available value types: cases, voc_frac, voc_advantage, growth, rt #>        value_type     type       date horizon forecast_start          mean #>  1:         cases Combined 2021-07-03       1          FALSE 3470.00000000 #>  2:         cases Combined 2021-07-10       2          FALSE 2620.00000000 #>  3:         cases Combined 2021-07-17       3          FALSE 2300.00000000 #>  4:         cases Combined 2021-07-24       4          FALSE 2330.00000000 #>  5:         cases      VOC 2021-06-19       1          FALSE 2100.00000000 #>  6:         cases      VOC 2021-06-26       2          FALSE 1950.00000000 #>  7:         cases      VOC 2021-07-03       3          FALSE 1810.00000000 #>  8:         cases      VOC 2021-07-10       4          FALSE 1730.00000000 #>  9:         cases      VOC 2021-07-17       5          FALSE 1780.00000000 #> 10:         cases      VOC 2021-07-24       6          FALSE 2010.00000000 #> 11:         cases  non-VOC 2021-06-19       1          FALSE 6180.00000000 #> 12:         cases  non-VOC 2021-06-26       2          FALSE 3180.00000000 #> 13:         cases  non-VOC 2021-07-03       3          FALSE 1660.00000000 #> 14:         cases  non-VOC 2021-07-10       4          FALSE  895.00000000 #> 15:         cases  non-VOC 2021-07-17       5          FALSE  514.00000000 #> 16:         cases  non-VOC 2021-07-24       6          FALSE  328.00000000 #> 17:      voc_frac      VOC 2021-06-19       1          FALSE    0.25300000 #> 18:      voc_frac      VOC 2021-06-26       2          FALSE    0.37800000 #> 19:      voc_frac      VOC 2021-07-03       3          FALSE    0.52000000 #> 20:      voc_frac      VOC 2021-07-10       4          FALSE    0.65800000 #> 21:      voc_frac      VOC 2021-07-17       5          FALSE    0.77400000 #> 22:      voc_frac      VOC 2021-07-24       6          FALSE    0.85800000 #> 23: voc_advantage      VOC 2021-06-12       1          FALSE    1.58849291 #> 24: voc_advantage      VOC 2021-06-19       2          FALSE    1.58849291 #> 25: voc_advantage      VOC 2021-06-26       3          FALSE    1.58849291 #> 26: voc_advantage      VOC 2021-07-03       4          FALSE    1.58849291 #> 27: voc_advantage      VOC 2021-07-10       5          FALSE    1.58849291 #> 28: voc_advantage      VOC 2021-07-17       6          FALSE    1.58849291 #> 29:        growth Combined 2021-06-26       1          FALSE   -0.29700000 #> 30:        growth Combined 2021-07-03       2          FALSE   -0.24121429 #> 31:        growth Combined 2021-07-10       3          FALSE   -0.19014286 #> 32:        growth Combined 2021-07-17       4          FALSE   -0.15635714 #> 33:        growth      VOC 2021-06-12       1          FALSE   -0.05272143 #> 34:        growth      VOC 2021-06-19       2          FALSE   -0.06222857 #> 35:        growth      VOC 2021-06-26       3          FALSE   -0.07613571 #> 36:        growth      VOC 2021-07-03       4          FALSE   -0.08485714 #> 37:        growth      VOC 2021-07-10       5          FALSE   -0.08721429 #> 38:        growth      VOC 2021-07-17       6          FALSE   -0.09192857 #> 39:        growth  non-VOC 2021-06-12       1          FALSE   -0.51542857 #> 40:        growth  non-VOC 2021-06-19       2          FALSE   -0.52485714 #> 41:        growth  non-VOC 2021-06-26       3          FALSE   -0.53900000 #> 42:        growth  non-VOC 2021-07-03       4          FALSE   -0.54764286 #> 43:        growth  non-VOC 2021-07-10       5          FALSE   -0.54921429 #> 44:        growth  non-VOC 2021-07-17       6          FALSE   -0.55471429 #> 45:            rt Combined 2021-06-26       1          FALSE    0.74304401 #> 46:            rt Combined 2021-07-03       2          FALSE    0.78567325 #> 47:            rt Combined 2021-07-10       3          FALSE    0.82684101 #> 48:            rt Combined 2021-07-17       4          FALSE    0.85525369 #> 49:            rt      VOC 2021-06-12       1          FALSE    0.94864424 #> 50:            rt      VOC 2021-06-19       2          FALSE    0.93966808 #> 51:            rt      VOC 2021-06-26       3          FALSE    0.92669043 #> 52:            rt      VOC 2021-07-03       4          FALSE    0.91864351 #> 53:            rt      VOC 2021-07-10       5          FALSE    0.91648069 #> 54:            rt      VOC 2021-07-17       6          FALSE    0.91217030 #> 55:            rt  non-VOC 2021-06-12       1          FALSE    0.59724458 #> 56:            rt  non-VOC 2021-06-19       2          FALSE    0.59163988 #> 57:            rt  non-VOC 2021-06-26       3          FALSE    0.58333129 #> 58:            rt  non-VOC 2021-07-03       4          FALSE    0.57831137 #> 59:            rt  non-VOC 2021-07-10       5          FALSE    0.57740331 #> 60:            rt  non-VOC 2021-07-17       6          FALSE    0.57423631 #>        value_type     type       date horizon forecast_start          mean #>            median       sd      mad           q5          q20           q80 #>  1: 3320.00000000 9.90e+02 8.30e+02 2160.0000000 2710.0000000  4.130000e+03 #>  2: 2360.00000000 1.31e+03 1.00e+03 1130.0000000 1630.0000000  3.380000e+03 #>  3: 1790.00000000 1.89e+03 1.10e+03  529.0000000 1050.0000000  3.090000e+03 #>  4: 1450.00000000 2.93e+03 1.19e+03  259.0000000  673.0000000  3.150000e+03 #>  5: 2050.00000000 5.04e+02 4.50e+02 1380.0000000 1700.0000000  2.450000e+03 #>  6: 1880.00000000 5.05e+02 4.29e+02 1260.0000000 1560.0000000  2.290000e+03 #>  7: 1720.00000000 6.18e+02 5.24e+02  980.0000000 1320.0000000  2.240000e+03 #>  8: 1550.00000000 9.07e+02 6.96e+02  687.0000000 1030.0000000  2.290000e+03 #>  9: 1380.00000000 1.50e+03 8.72e+02  395.0000000  789.0000000  2.400000e+03 #> 10: 1240.00000000 2.52e+03 1.02e+03  220.0000000  572.0000000  2.740000e+03 #> 11: 6090.00000000 1.06e+03 9.41e+02 4660.0000000 5350.0000000  6.930000e+03 #> 12: 3120.00000000 6.60e+02 5.49e+02 2260.0000000 2670.0000000  3.630000e+03 #> 13: 1590.00000000 5.37e+02 4.40e+02  938.0000000 1240.0000000  2.000000e+03 #> 14:  790.00000000 4.99e+02 3.55e+02  352.0000000  531.0000000  1.170000e+03 #> 15:  388.00000000 4.53e+02 2.59e+02  117.0000000  218.0000000  7.020000e+02 #> 16:  194.00000000 4.56e+02 1.70e+02   33.0000000   85.0000000  4.380000e+02 #> 17:    0.25000000 4.17e-02 3.63e-02    0.1910000    0.2190000  2.830000e-01 #> 18:    0.37600000 5.78e-02 5.14e-02    0.2900000    0.3300000  4.210000e-01 #> 19:    0.52000000 6.78e-02 6.08e-02    0.4120000    0.4650000  5.730000e-01 #> 20:    0.66200000 6.75e-02 6.08e-02    0.5480000    0.6050000  7.120000e-01 #> 21:    0.77800000 5.81e-02 5.16e-02    0.6760000    0.7290000  8.200000e-01 #> 22:    0.86300000 4.48e-02 3.84e-02    0.7810000    0.8250000  8.930000e-01 #> 23:    1.58849291 3.08e-02 2.97e-02    1.5296997    1.5575948  1.618732e+00 #> 24:    1.58849291 3.08e-02 2.97e-02    1.5296997    1.5575948  1.618732e+00 #> 25:    1.58849291 3.08e-02 2.97e-02    1.5296997    1.5575948  1.618732e+00 #> 26:    1.58849291 3.08e-02 2.97e-02    1.5296997    1.5575948  1.618732e+00 #> 27:    1.58849291 3.08e-02 2.97e-02    1.5296997    1.5575948  1.618732e+00 #> 28:    1.58849291 3.08e-02 2.97e-02    1.5296997    1.5575948  1.618732e+00 #> 29:   -0.29542857 1.71e-01 1.60e-01   -0.5177857   -0.4015000 -1.901429e-01 #> 30:   -0.24200000 2.35e-01 2.20e-01   -0.5405714   -0.3802857 -9.192857e-02 #> 31:   -0.18935714 2.84e-01 2.66e-01   -0.5531429   -0.3637857 -4.392143e-03 #> 32:   -0.15085714 3.38e-01 3.07e-01   -0.5916429   -0.3590714  4.698571e-02 #> 33:   -0.04957857 8.02e-02 7.29e-02   -0.1626429   -0.0990000 -3.370714e-03 #> 34:   -0.06317143 1.02e-01 9.55e-02   -0.1893571   -0.1249286 -1.815000e-04 #> 35:   -0.07637143 1.70e-01 1.60e-01   -0.2938571   -0.1807143  3.166429e-02 #> 36:   -0.08485714 2.34e-01 2.19e-01   -0.3881429   -0.2231429  6.505714e-02 #> 37:   -0.08642857 2.84e-01 2.68e-01   -0.4549286   -0.2608571  9.507143e-02 #> 38:   -0.08485714 3.38e-01 3.11e-01   -0.5287857   -0.2954286  1.170714e-01 #> 39:   -0.51307143 8.31e-02 7.58e-02   -0.6277857   -0.5657143 -4.635714e-01 #> 40:   -0.52642857 1.07e-01 1.01e-01   -0.6592143   -0.5900714 -4.604286e-01 #> 41:   -0.53900000 1.73e-01 1.65e-01   -0.7621429   -0.6458571 -4.305714e-01 #> 42:   -0.54607143 2.37e-01 2.23e-01   -0.8564286   -0.6890714 -3.944286e-01 #> 43:   -0.55157143 2.86e-01 2.73e-01   -0.9192857   -0.7252143 -3.669286e-01 #> 44:   -0.55000000 3.40e-01 3.15e-01   -1.0057143   -0.7597857 -3.441429e-01 #> 45:    0.74421257 1.71e-01 1.60e-01    0.5958384    0.6693153  8.268410e-01 #> 46:    0.78505618 2.35e-01 2.20e-01    0.5824153    0.6836660  9.121703e-01 #> 47:    0.82749092 2.84e-01 2.66e-01    0.5751394    0.6950401  9.956175e-01 #> 48:    0.85997054 3.38e-01 3.07e-01    0.5534174    0.6983245  1.048107e+00 #> 49:    0.95163038 8.02e-02 7.29e-02    0.8498947    0.9057427  9.966350e-01 #> 50:    0.93878253 1.02e-01 9.55e-02    0.8274909    0.8825599  9.998185e-01 #> 51:    0.92647202 1.70e-01 1.60e-01    0.7453830    0.8346738  1.032171e+00 #> 52:    0.91864351 2.34e-01 2.19e-01    0.6783154    0.8000006  1.067220e+00 #> 53:    0.91720106 2.84e-01 2.68e-01    0.6344933    0.7703910  1.099737e+00 #> 54:    0.91864351 3.38e-01 3.11e-01    0.5893201    0.7442126  1.124200e+00 #> 55:    0.59865403 8.31e-02 7.58e-02    0.5337724    0.5679543  6.290331e-01 #> 56:    0.59071089 1.07e-01 1.01e-01    0.5172576    0.5542877  6.310132e-01 #> 57:    0.58333129 1.73e-01 1.65e-01    0.4666654    0.5242130  6.501375e-01 #> 58:    0.57922086 2.37e-01 2.23e-01    0.4246761    0.5020420  6.740651e-01 #> 59:    0.57604389 2.86e-01 2.73e-01    0.3988038    0.4842208  6.928591e-01 #> 60:    0.57694981 3.40e-01 3.15e-01    0.3657833    0.4677667  7.088277e-01 #>            median       sd      mad           q5          q20           q80 #>               q95 #>  1: 5280.00000000 #>  2: 5150.00000000 #>  3: 5790.00000000 #>  4: 7380.00000000 #>  5: 2970.00000000 #>  6: 2800.00000000 #>  7: 2970.00000000 #>  8: 3400.00000000 #>  9: 4580.00000000 #> 10: 6400.00000000 #> 11: 7930.00000000 #> 12: 4330.00000000 #> 13: 2640.00000000 #> 14: 1790.00000000 #> 15: 1310.00000000 #> 16: 1010.00000000 #> 17:    0.32500000 #> 18:    0.47500000 #> 19:    0.63100000 #> 20:    0.76300000 #> 21:    0.86000000 #> 22:    0.92100000 #> 23:    1.65214002 #> 24:    1.65214002 #> 25:    1.65214002 #> 26:    1.65214002 #> 27:    1.65214002 #> 28:    1.65214002 #> 29:   -0.07542857 #> 30:    0.04635714 #> 31:    0.16971429 #> 32:    0.26635714 #> 33:    0.04447143 #> 34:    0.06859286 #> 35:    0.14535714 #> 36:    0.20664286 #> 37:    0.27185714 #> 38:    0.33707143 #> 39:   -0.41564286 #> 40:   -0.38185714 #> 41:   -0.31821429 #> 42:   -0.25378571 #> 43:   -0.18857143 #> 44:   -0.13042857 #> 45:    0.92734597 #> 46:    1.04744843 #> 47:    1.18496624 #> 48:    1.30520112 #> 49:    1.04547511 #> 50:    1.07100007 #> 51:    1.15645252 #> 52:    1.22954337 #> 53:    1.31239950 #> 54:    1.40083912 #> 55:    0.65991591 #> 56:    0.68259256 #> 57:    0.72744689 #> 58:    0.77585804 #> 59:    0.82814135 #> 60:    0.87771918 #>               q95"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_inits.html","id":null,"dir":"Reference","previous_headings":"","what":"Set up initial conditions for model — fv_inits","title":"Set up initial conditions for model — fv_inits","text":"Set initial conditions model","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_inits.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set up initial conditions for model — fv_inits","text":"","code":"fv_inits(data, strains = 2)"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_inits.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set up initial conditions for model — fv_inits","text":"data list data produced fv_as_data_list(). strains Integer number strains. Defaults 2. Current maximum 2.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_inits.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set up initial conditions for model — fv_inits","text":"function called returns list initial conditions package stan models.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/fv_inits.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set up initial conditions for model — fv_inits","text":"","code":"dt <- fv_as_data_list(latest_obs(germany_covid19_delta_obs)) inits <- fv_inits(dt) inits #> function ()  #> { #>     inits <- list(init_cases = array(log(abs(rnorm(1, data$X[1],  #>         data$X[1] * 0.01)))), r_init = rnorm(1, data$r_init_mean,  #>         data$r_init_sd * 0.1), r_scale = abs(rnorm(1, 0, 0.01)),  #>         eta = rnorm(data$eta_n, 0, 0.01), beta = rnorm(1, 0,  #>             0.1), sqrt_phi = abs(rnorm(2, 0, 0.01)), period_eff = array(rnorm(data$period,  #>             0, 0.1)), period_sd = array(abs(rnorm(1, 0, 0.1)))) #>     if (strains == 1) { #>         inits$sqrt_phi <- inits$sqrt_phi[1] #>     } #>     else { #>         inits$init_voc_cases <- array(log(abs(rnorm(1, max(2,  #>             data$X[data$t_nseq + 1] * data$Y[1]/data$N[1]), max(2,  #>             data$X[data$t_nseq + 1] * data$Y[1]/data$N[1]) *  #>             0.01)))) #>         inits$voc_mod <- rnorm(1, data$voc_mean, data$voc_sd *  #>             0.1) #>         inits$voc_beta <- rnorm(1, 0, 0.1) #>         inits$voc_scale <- abs(rnorm(1, 0, 0.01)) #>         inits$voc_eta <- rnorm(data$voc_eta_n, 0, 0.01) #>         inits$L_Omega <- matrix(c(1, runif(1), 0, runif(1)),  #>             2, 2) #>     } #>     return(inits) #> } #> <bytecode: 0x7fdaa5ba9718> #> <environment: 0x7fdaa5bb0160> inits() #> $init_cases #> [1] 11.37943 #>  #> $r_init #> [1] -0.01140342 #>  #> $r_scale #> [1] 0.007567866 #>  #> $eta #>  [1] -9.527326e-03  1.066313e-02 -8.875931e-03  1.777126e-02  1.352191e-02 #>  [6]  7.651714e-04 -1.798787e-03 -1.016527e-02  6.858640e-04 -6.108743e-04 #> [11]  9.045620e-03  1.808679e-03  8.398497e-03 -1.578206e-03 -3.534722e-03 #> [16]  3.023978e-05 -7.870671e-03  8.190563e-03 -4.471007e-03 -2.983057e-03 #> [21]  1.646510e-03  2.685825e-03  2.754673e-03 -2.636352e-02 -8.336352e-04 #> [26] -9.019431e-03  8.018148e-03 -4.019271e-03 #>  #> $beta #> [1] 0.1277009 #>  #> $sqrt_phi #> [1] 0.00982069 0.00256692 #>  #> $period_eff #> [1] 0.08748639 #>  #> $period_sd #> [1] 0.07866579 #>  #> $init_voc_cases #> [1] 5.34765 #>  #> $voc_mod #> [1] 0.009630939 #>  #> $voc_beta #> [1] 0.03677399 #>  #> $voc_scale #> [1] 0.002026505 #>  #> $voc_eta #>  [1]  5.691354e-03 -3.316330e-04 -4.017407e-03 -2.971907e-03 -2.741676e-03 #>  [6] -3.839959e-03 -1.737354e-02  2.532445e-03 -6.396004e-03 -2.197415e-03 #> [11] -1.076643e-02  1.310497e-02  1.445132e-03  2.533273e-03 -3.494337e-03 #> [16] -7.500002e-04 -5.910412e-03 -2.428491e-02  1.613201e-02 -1.959265e-03 #> [21] -5.097578e-05 -9.057797e-03  2.834718e-02  1.047948e-02 #>  #> $L_Omega #>           [,1]       [,2] #> [1,] 1.0000000 0.00000000 #> [2,] 0.3423255 0.02214961 #>"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Load and compile a strain model — fv_model","title":"Load and compile a strain model — fv_model","text":"Load compile strain model","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load and compile a strain model — fv_model","text":"","code":"fv_model(model, include, strains = 2, compile = TRUE, verbose = FALSE, ...)"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load and compile a strain model — fv_model","text":"model character string indicating path model. supplied package default model used. include character string specifying path stan files include model. missing package default used. strains Integer number strains. Defaults 2. Current maximum 2. compile Logical, defaults TRUE. model loaded compiled using cmdstanr::cmdstan_model(). verbose Logical, defaults TRUE. verbose messages shown. ... Additional arguments passed cmdstanr::cmdstan_model().","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_model.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load and compile a strain model — fv_model","text":"cmdstanr model.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/fv_model.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load and compile a strain model — fv_model","text":"","code":"if (FALSE) { # interactive() # one strain model mod <- fv_model(strains = 1)  # two strain model two_strain_mod <- fv_model(strains = 2) }"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_posterior.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarise the posterior — fv_posterior","title":"Summarise the posterior — fv_posterior","text":"generic wrapper around posterior::summarise_draws() opinionated defaults. See fv_tidy_posterior() opinionated wrapper cleaning tidying including linking observed data, tidying parameter names, transforming parameters interpretability.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_posterior.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarise the posterior — fv_posterior","text":"","code":"fv_posterior(fit, probs = c(0.05, 0.2, 0.8, 0.95), digits = 3, ...)"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_posterior.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarise the posterior — fv_posterior","text":"fit List output returned fv_sample(). probs vector numeric probabilities produce quantile summaries . default 5%, 20%, 80%, 95% quantiles also minimum set required plotting functions work (plot_cases(), plot_rt(), plot_voc_frac()). digits Numeric, defaults 3. Number digits round summary statistics . ... Additional arguments may passed used.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_posterior.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarise the posterior — fv_posterior","text":"dataframe summarising model posterior.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/fv_posterior.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summarise the posterior — fv_posterior","text":"","code":"if (FALSE) { # interactive() options(mc.cores = 4) obs <- filter_by_availability(   germany_covid19_delta_obs,   date = as.Date(\"2021-06-12\"), ) dt <- fv_as_data_list(obs) inits <- fv_inits(dt) fit <- fv_sample(dt, init = inits, adapt_delta = 0.99, max_treedepth = 15) fv_posterior(fit) }"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_sample.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit a brancing process strain model — fv_sample","title":"Fit a brancing process strain model — fv_sample","text":"Fit brancing process strain model","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_sample.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit a brancing process strain model — fv_sample","text":"","code":"fv_sample(   data,   model = forecast.vocs::fv_model(strains = 2),   diagnostics = TRUE,   ... )"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_sample.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit a brancing process strain model — fv_sample","text":"data list data produced fv_as_data_list(). model cmdstanr model object loaded fv_model(). diagnostics Logical, defaults TRUE. fitting diagnostics returned data.frame. ... Additional parameters passed sample method cmdstanr.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_sample.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit a brancing process strain model — fv_sample","text":"data.frame containing cmdstanr fit, input data, fitting arguments, optionally summary diagnostics.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/fv_sample.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fit a brancing process strain model — fv_sample","text":"","code":"if (FALSE) { # interactive() options(mc.cores = 4)  # format example data obs <- filter_by_availability(   germany_covid19_delta_obs,   date = as.Date(\"2021-06-12\"), ) dt <- fv_as_data_list(obs)  # single strain model inits <- fv_inits(dt, strains = 1) mod <- fv_model(strains = 1) fit <- fv_sample(   dt,   model = mod, init = inits,   adapt_delta = 0.99, max_treedepth = 15 ) fit  # two strain model inits <- fv_inits(dt, strains = 2)  mod <- fv_model(strains = 2)  two_strain_fit <- fv_sample(dt,   model = mod, init = inits,   adapt_delta = 0.99, max_treedepth = 15 ) two_strain_fit }"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_score_forecast.html","id":null,"dir":"Reference","previous_headings":"","what":"Evaluate forecasts using proper scoring rules — fv_score_forecast","title":"Evaluate forecasts using proper scoring rules — fv_score_forecast","text":"Acts wrapper scoringutils::eval_forecasts(). particular, handling filtering output various forecast.vocs functions linking output observed data. See documentation scoringutils package forecast scoring documentation examples simple examples context forecast.vocs.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_score_forecast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Evaluate forecasts using proper scoring rules — fv_score_forecast","text":"","code":"fv_score_forecast(forecast, obs, log = FALSE, round_to = 3, ...)"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_score_forecast.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Evaluate forecasts using proper scoring rules — fv_score_forecast","text":"forecast posterior forecast posterior prediction returned summary.fv_posterior(), summary.fv_forecast() fv_extract_forecast(). Internally case forecasts filtered using value_type variable present overall combined case counts (.e returned) 1 2 strain models. looking complex scoring may wise implement custom wrapper. obs data frame observed data produced latest_obs(). log Logical, defaults FALSE. scores calculated log scale (0.01 shift) observations forecasts. Scoring way can thought relative score vs usual absolute measure. may useful targets different scales forecaster interested good round performance versus good performance targets large values. round_to Integer defaults 3. Number digits round scoring output . ... Additional arguments passed scoringutils::eval_forecasts().","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_score_forecast.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Evaluate forecasts using proper scoring rules — fv_score_forecast","text":"data.table returned scoringutils::eval_forecasts().","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/fv_score_forecast.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Evaluate forecasts using proper scoring rules — fv_score_forecast","text":"","code":"if (FALSE) { # interactive() options(mc.cores = 4) library(data.table) library(scoringutils)  # Fit and forecast using both the one and two strain models forecasts <- forecast(   germany_covid19_delta_obs,   forecast_date = as.Date(\"2021-06-12\"),   horizon = 4,   strains = c(1, 2),   adapt_delta = 0.99,   max_treedepth = 15,   variant_relationship = \"scaled\" )  # Extract forecasts forecasts <- summary(forecasts, target = \"forecast\", type = \"cases\")  # Filter for the latest available observations obs <- latest_obs(germany_covid19_delta_obs)  # score overall fv_score_forecast(forecasts, obs, summarise_by = \"strains\")  # score overall on a log scale fv_score_forecast(forecasts, obs, summarise_by = \"strains\", log = TRUE)  # score by horizon fv_score_forecast(forecasts, obs, summarise_by = c(\"strains\", \"horizon\"))  # score by horizon on a log scale fv_score_forecast(   forecasts, obs,   summarise_by = c(\"strains\", \"horizon\"), log = TRUE ) }"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_tidy_posterior.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarise the posterior tidily — fv_tidy_posterior","title":"Summarise the posterior tidily — fv_tidy_posterior","text":"opinionated wrapper around posterior::summarise_draws() cleaning tidying including linking observed data, tidying parameter names, transforming parameters interpretability. See fv_posterior() generic solution.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_tidy_posterior.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarise the posterior tidily — fv_tidy_posterior","text":"","code":"fv_tidy_posterior(   fit,   probs = c(0.05, 0.2, 0.8, 0.95),   digits = 3,   voc_label = \"VOC\",   scale_r = 1,   timespan = 7 )"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_tidy_posterior.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarise the posterior tidily — fv_tidy_posterior","text":"fit List output returned fv_sample(). probs vector numeric probabilities produce quantile summaries . default 5%, 20%, 80%, 95% quantiles also minimum set required plotting functions work (plot_cases(), plot_rt(), plot_voc_frac()). digits Numeric, defaults 3. Number digits round summary statistics . voc_label character string, default \"VOC\". Defines label assign variant concern specific parameters. Example usage rename parameters use variant specific terminology. scale_r Numeric, defaults 1. Rescale timespan growth rate reproduction number calculated. example use case rescaling growth rate weekly scaled mean generation time (COVID-19 example 5.5 / 7. timespan Integer, defaults 7. Indicates number days observation. Defaults week.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_tidy_posterior.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarise the posterior tidily — fv_tidy_posterior","text":"dataframe summarising model posterior. Output stratified value_type posterior summaries case, voc, voc advantage vs non-voc time, rt, growth, model, raw posterior summary.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/fv_tidy_posterior.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summarise the posterior tidily — fv_tidy_posterior","text":"","code":"if (FALSE) { # interactive() options(mc.cores = 4) obs <- filter_by_availability(   germany_covid19_delta_obs,   date = as.Date(\"2021-06-12\"), ) dt <- fv_as_data_list(obs) inits <- fv_inits(dt) fit <- fv_sample(dt, init = inits, adapt_delta = 0.99, max_treedepth = 15) fv_tidy_posterior(fit) }"},{"path":"epiforecasts.io/forecast.vocs/reference/generate_obs.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Simulated Observations — generate_obs","title":"Generate Simulated Observations — generate_obs","text":"Generate simulated observations prior posterior distributions forecast.vocs model. single strain model used case data simulated multiple strain model used sequence data also simulated.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/generate_obs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Simulated Observations — generate_obs","text":"","code":"generate_obs(   obs,   strains = 2,   model = forecast.vocs::fv_model(strains = strains),   data_list = forecast.vocs::fv_as_data_list,   inits = forecast.vocs::fv_inits,   fit = forecast.vocs::fv_sample,   type = \"prior\",   datasets = 10,   ... )"},{"path":"epiforecasts.io/forecast.vocs/reference/generate_obs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Simulated Observations — generate_obs","text":"obs Observed data use parameterise model used fitting posterior required. strains Integer number strains use. Defaults 2. Current maximum 2. numeric vector can passed forecasts multiple strain models desired. model cmdstanr model object loaded fv_model(). data_list function returns list data ingested inits fit function. Must use arguments defined fv_as_data_list(). supplied package default fv_as_data_list() used. inits function returns function samples initial conditions arguments fv_inits(). supplied package default fv_inits() used. fit function fits supplied model arguments return values fv_sample(). supplied package default fv_sample() used performs MCMC sampling using cmdstanr. type character string indicating type data generate. Supported options data based \"prior\" data based  \"posterior\" default prior. datasets Numeric, defaults 10. Number datasets generate. ... Additional arguments pass fv_as_data_list().","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/generate_obs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Simulated Observations — generate_obs","text":"dataframe sampled dataset row following variables: parameters (prior/posterior parameters used generate data), obs (simulated observed data), data, (simulated data formatted using supplied data_list function (default fv_as_data_list()) arguments specified  simulation).","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/generate_obs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate Simulated Observations — generate_obs","text":"","code":"if (FALSE) { # interactive() options(mc.cores = 4) obs <- latest_obs(germany_covid19_delta_obs)  sim_obs <- generate_obs(obs, voc_scale = c(0.8, 0.1), r_init = c(-0.1, 0.05))  # fit a simulated dataset sim_dt <- sim_obs$data[[1]] inits <- fv_inits(sim_dt) fit <- fv_sample(   sim_dt,   init = inits, adapt_delta = 0.95, max_treedepth = 15 )  # summarise and plot simualated fit posterior <- fv_tidy_posterior(fit)  plot_cases(posterior, log = TRUE)  plot_voc(posterior)  plot_rt(posterior) }"},{"path":"epiforecasts.io/forecast.vocs/reference/generate_obs_scenario.html","id":null,"dir":"Reference","previous_headings":"","what":"Define observed data for a scenario — generate_obs_scenario","title":"Define observed data for a scenario — generate_obs_scenario","text":"Define observed data scenario","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/generate_obs_scenario.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Define observed data for a scenario — generate_obs_scenario","text":"","code":"generate_obs_scenario(obs, seq_lag, seq_samples)"},{"path":"epiforecasts.io/forecast.vocs/reference/generate_obs_scenario.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Define observed data for a scenario — generate_obs_scenario","text":"obs dataframe observations returned latest_obs() similar. seq_lag Number, number weeks lag sequence data behind date observation. seq_samples Fraction sequence samples include.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/generate_obs_scenario.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Define observed data for a scenario — generate_obs_scenario","text":"data.frame scenario definitions ids","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/generate_obs_scenario.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Define observed data for a scenario — generate_obs_scenario","text":"","code":"generate_obs_scenario(latest_obs(germany_covid19_delta_obs), 4, 0.1) #>           date location_name location  cases cases_available seq_total seq_voc #>  1: 2021-03-20       Germany       DE  87328      2021-03-20        NA      NA #>  2: 2021-03-27       Germany       DE 109442      2021-03-27        NA      NA #>  3: 2021-04-03       Germany       DE 117965      2021-04-03        NA      NA #>  4: 2021-04-10       Germany       DE 107223      2021-04-10        NA      NA #>  5: 2021-04-17       Germany       DE 142664      2021-04-17       411       1 #>  6: 2021-04-24       Germany       DE 145568      2021-04-24       454       3 #>  7: 2021-05-01       Germany       DE 131887      2021-05-01       367       5 #>  8: 2021-05-08       Germany       DE 107141      2021-05-08       455       9 #>  9: 2021-05-15       Germany       DE  77261      2021-05-15       369      10 #> 10: 2021-05-22       Germany       DE  57310      2021-05-22       382      12 #> 11: 2021-05-29       Germany       DE  33052      2021-05-29       278      10 #> 12: 2021-06-05       Germany       DE  22631      2021-06-05       220      18 #> 13: 2021-06-12       Germany       DE  15553      2021-06-12       157      31 #> 14: 2021-06-19       Germany       DE   7659      2021-06-19        99      41 #> 15: 2021-06-26       Germany       DE   5033      2021-06-26        71      45 #> 16: 2021-07-03       Germany       DE   4181      2021-07-03        80      63 #> 17: 2021-07-10       Germany       DE   5067      2021-07-10        74      64 #> 18: 2021-07-17       Germany       DE   7969      2021-07-17        56      52 #> 19: 2021-07-24       Germany       DE  11122      2021-07-24        NA      NA #> 20: 2021-07-31       Germany       DE  14654      2021-07-31        NA      NA #> 21: 2021-08-07       Germany       DE  18474      2021-08-07        NA      NA #> 22: 2021-08-14       Germany       DE  28646      2021-08-14        NA      NA #> 23: 2021-08-21       Germany       DE  44862      2021-08-21        NA      NA #> 24: 2021-08-28       Germany       DE  62984      2021-08-28        NA      NA #> 25: 2021-09-04       Germany       DE  71057      2021-09-04        NA      NA #> 26: 2021-09-11       Germany       DE  75107      2021-09-11        NA      NA #>           date location_name location  cases cases_available seq_total seq_voc #>       share_voc seq_available #>  1:          NA          <NA> #>  2:          NA          <NA> #>  3:          NA          <NA> #>  4:          NA          <NA> #>  5: 0.001460565    2021-05-15 #>  6: 0.007490637    2021-05-22 #>  7: 0.014725934    2021-05-29 #>  8: 0.019573345    2021-06-05 #>  9: 0.027386117    2021-06-12 #> 10: 0.031176316    2021-06-19 #> 11: 0.036677454    2021-06-26 #> 12: 0.082385071    2021-07-03 #> 13: 0.197318008    2021-07-10 #> 14: 0.417759839    2021-07-17 #> 15: 0.638810198    2021-07-24 #> 16: 0.785803238    2021-07-31 #> 17: 0.874829932    2021-08-07 #> 18: 0.923758865    2021-08-14 #> 19:          NA          <NA> #> 20:          NA          <NA> #> 21:          NA          <NA> #> 22:          NA          <NA> #> 23:          NA          <NA> #> 24:          NA          <NA> #> 25:          NA          <NA> #> 26:          NA          <NA> #>       share_voc seq_available"},{"path":"epiforecasts.io/forecast.vocs/reference/germany_covid19_delta_obs.html","id":null,"dir":"Reference","previous_headings":"","what":"Test positive COVID-19 cases and sequences in Germany — germany_covid19_delta_obs","title":"Test positive COVID-19 cases and sequences in Germany — germany_covid19_delta_obs","text":"Test positive COVID-19 cases sequences stratified voc variant status summarised week Germany. Data sourced RKI via Germany/Poland forecasting hub.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/germany_covid19_delta_obs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Test positive COVID-19 cases and sequences in Germany — germany_covid19_delta_obs","text":"","code":"germany_covid19_delta_obs"},{"path":"epiforecasts.io/forecast.vocs/reference/germany_covid19_delta_obs.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Test positive COVID-19 cases and sequences in Germany — germany_covid19_delta_obs","text":"object class data.table (inherits data.frame) 114 rows 9 columns.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/germany_covid19_delta_obs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Test positive COVID-19 cases and sequences in Germany — germany_covid19_delta_obs","text":"data.table following variables: date, location_name, location, cases, seq_total, seq_voc, share_voc, cases_available, seq_available.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/latest_obs.html","id":null,"dir":"Reference","previous_headings":"","what":"Filter for latest observations of all types — latest_obs","title":"Filter for latest observations of all types — latest_obs","text":"Filter latest observations types","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/latest_obs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Filter for latest observations of all types — latest_obs","text":"","code":"latest_obs(obs)"},{"path":"epiforecasts.io/forecast.vocs/reference/latest_obs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Filter for latest observations of all types — latest_obs","text":"obs data.frame following variables: date, cases, seq_voc, seq_total, cases_available, seq_available. seq_available case_available must uniquely define data rows rows can duplicated based data availability. data format allows multiple versions case sequence data given date different reporting dates. important using package evaluation settings real-time data sources liable updated new data becomes available. See germany_covid19_delta_obs example supported data set.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/latest_obs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Filter for latest observations of all types — latest_obs","text":"data.frame observations filtered latest available data.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/latest_obs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Filter for latest observations of all types — latest_obs","text":"","code":"dt <- rbind(   update_obs_availability(germany_covid19_delta_obs, seq_lag = 3),   update_obs_availability(germany_covid19_delta_obs, seq_lag = 1) ) latest_obs(dt) #>           date location_name location  cases cases_available seq_total seq_voc #>  1: 2021-03-20       Germany       DE  87328      2021-03-20        NA      NA #>  2: 2021-03-27       Germany       DE 109442      2021-03-27        NA      NA #>  3: 2021-04-03       Germany       DE 117965      2021-04-03        NA      NA #>  4: 2021-04-10       Germany       DE 107223      2021-04-10        NA      NA #>  5: 2021-04-17       Germany       DE 142664      2021-04-17      3757       3 #>  6: 2021-04-24       Germany       DE 145568      2021-04-24      3957      15 #>  7: 2021-05-01       Germany       DE 131887      2021-05-01      1913      19 #>  8: 2021-05-08       Germany       DE 107141      2021-05-08      2161      37 #>  9: 2021-05-15       Germany       DE  77261      2021-05-15      1676      40 #> 10: 2021-05-22       Germany       DE  57310      2021-05-22      1387      30 #> 11: 2021-05-29       Germany       DE  33052      2021-05-29      1328      34 #> 12: 2021-06-05       Germany       DE  22631      2021-06-05      1136      75 #> 13: 2021-06-12       Germany       DE  15553      2021-06-12       696     116 #> 14: 2021-06-19       Germany       DE   7659      2021-06-19       576     226 #> 15: 2021-06-26       Germany       DE   5033      2021-06-26       452     287 #> 16: 2021-07-03       Germany       DE   4181      2021-07-03       534     407 #> 17: 2021-07-10       Germany       DE   5067      2021-07-10       468     399 #> 18: 2021-07-17       Germany       DE   7969      2021-07-17       564     521 #> 19: 2021-07-24       Germany       DE  11122      2021-07-24        NA      NA #> 20: 2021-07-31       Germany       DE  14654      2021-07-31        NA      NA #> 21: 2021-08-07       Germany       DE  18474      2021-08-07        NA      NA #> 22: 2021-08-14       Germany       DE  28646      2021-08-14        NA      NA #> 23: 2021-08-21       Germany       DE  44862      2021-08-21        NA      NA #> 24: 2021-08-28       Germany       DE  62984      2021-08-28        NA      NA #> 25: 2021-09-04       Germany       DE  71057      2021-09-04        NA      NA #> 26: 2021-09-11       Germany       DE  75107      2021-09-11        NA      NA #>           date location_name location  cases cases_available seq_total seq_voc #>        share_voc seq_available #>  1:           NA          <NA> #>  2:           NA          <NA> #>  3:           NA          <NA> #>  4:           NA          <NA> #>  5: 0.0007985094    2021-05-08 #>  6: 0.0037907506    2021-05-15 #>  7: 0.0099320439    2021-05-22 #>  8: 0.0171217029    2021-05-29 #>  9: 0.0238663484    2021-06-05 #> 10: 0.0216294160    2021-06-12 #> 11: 0.0256024096    2021-06-19 #> 12: 0.0660211268    2021-06-26 #> 13: 0.1666666667    2021-07-03 #> 14: 0.3923611111    2021-07-10 #> 15: 0.6349557522    2021-07-17 #> 16: 0.7621722846    2021-07-24 #> 17: 0.8525641026    2021-07-31 #> 18: 0.9237588652    2021-08-07 #> 19:           NA          <NA> #> 20:           NA          <NA> #> 21:           NA          <NA> #> 22:           NA          <NA> #> 23:           NA          <NA> #> 24:           NA          <NA> #> 25:           NA          <NA> #> 26:           NA          <NA> #>        share_voc seq_available"},{"path":"epiforecasts.io/forecast.vocs/reference/link_dates_with_posterior.html","id":null,"dir":"Reference","previous_headings":"","what":"Link dates by time for posterior parameter estimates — link_dates_with_posterior","title":"Link dates by time for posterior parameter estimates — link_dates_with_posterior","text":"Link dates time posterior parameter estimates","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/link_dates_with_posterior.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Link dates by time for posterior parameter estimates — link_dates_with_posterior","text":"","code":"link_dates_with_posterior(posterior, data, timespan = 7, mod_end = 0)"},{"path":"epiforecasts.io/forecast.vocs/reference/link_dates_with_posterior.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Link dates by time for posterior parameter estimates — link_dates_with_posterior","text":"posterior data frame summarised posterior estimates returned cmdstanr::summary()  additional type variable contains following character string options: \"non-VOC\", \"VOC\", \"Combined\", \"Overall\". data list data returned \"data\" entry output returned fv_sample(). timespan Integer, defaults 7. Indicates number days observation. Defaults week. mod_end Integer, defaults 0. Amount shift end date estimates.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/link_dates_with_posterior.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Link dates by time for posterior parameter estimates — link_dates_with_posterior","text":"posterior data.frame additional data column.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/link_obs_with_posterior.html","id":null,"dir":"Reference","previous_headings":"","what":"Link posterior estimates with observed data — link_obs_with_posterior","title":"Link posterior estimates with observed data — link_obs_with_posterior","text":"Link posterior estimates observed data flag values observed .","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/link_obs_with_posterior.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Link posterior estimates with observed data — link_obs_with_posterior","text":"","code":"link_obs_with_posterior(posterior, obs, horizon, target_types)"},{"path":"epiforecasts.io/forecast.vocs/reference/link_obs_with_posterior.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Link posterior estimates with observed data — link_obs_with_posterior","text":"posterior data frame summarised posterior estimates returned cmdstanr::summary()  additional type variable contains following character string options: \"non-VOC\", \"VOC\", \"Combined\", \"Overall\". obs Numeric vector observed data link posterior estimates. horizon Integer indicating horizon unobserved forecasts. specified inferred obs. target_types character vector types (specified type variable) modify.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/link_obs_with_posterior.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Link posterior estimates with observed data — link_obs_with_posterior","text":"input data.frame combined obs observed variables.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/piecewise_steps.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate piecewise steps — piecewise_steps","title":"Calculate piecewise steps — piecewise_steps","text":"helper function streamlines calculation piecewise steps. may useful specifying random walks, AR processes, etc.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/piecewise_steps.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate piecewise steps — piecewise_steps","text":"","code":"piecewise_steps(t, step, offset = 0, steps_post_offset = TRUE)"},{"path":"epiforecasts.io/forecast.vocs/reference/piecewise_steps.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate piecewise steps — piecewise_steps","text":"t Integer, timespan calculate steps step Integer, frequency step. offset Integer, amount offset steps. can used index steps index. steps_post_offset Logical, defaults TRUE. steps added offset.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/piecewise_steps.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate piecewise steps — piecewise_steps","text":"list containing two elements: n (number steps) stepsthe location steps binary variable.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/plot.fv_forecast.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot method for forecast — plot.fv_forecast","title":"Plot method for forecast — plot.fv_forecast","text":"plot method class \"fv_forecast\". type plot produced can controlled using target type arguments latter functional target set \"posterior\" \"forecast\".","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot.fv_forecast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot method for forecast — plot.fv_forecast","text":"","code":"# S3 method for fv_forecast plot(x, obs = NULL, target = \"posterior\", type = \"cases\", ...)"},{"path":"epiforecasts.io/forecast.vocs/reference/plot.fv_forecast.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot method for forecast — plot.fv_forecast","text":"x data.table output produced forecast() class \"fv_forecast\". obs data frame observed data produced latest_obs(). target character string indicating target object within forecast() produce plots . Current options : posterior predictions (\"posterior\"), posterior forecasts (\"forecast\"), model fit (\"fit\"). \"posterior\" \"forecast\" used plot.fv_posterior() called whereas \"fit\" used plot_pairs() used. type character string indicating type plot required, defaulting \"cases\". Current options : \"cases\" calls plot_cases(), \"voc_frac\" calls plot_voc_frac(), \"voc_advantage\" calls plot_voc_advantage(), \"growth\" calls plot_growth(), \"rt\" calls plot_rt(), \"\" produces list plots call plot_posterior(). ... Pass additional arguments lower level plot functions.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot.fv_forecast.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot method for forecast — plot.fv_forecast","text":"ggplot2 object","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/plot.fv_forecast.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot method for forecast — plot.fv_forecast","text":"","code":"if (FALSE) { # interactive() options(mc.cores = 4)  forecasts <- forecast(   germany_covid19_delta_obs,   forecast_date = as.Date(\"2021-06-12\"),   horizon = 4,   strains = c(1, 2),   adapt_delta = 0.99,   max_treedepth = 15,   variant_relationship = \"scaled\" ) # inspect forecasts forecasts  # plot case posterior predictions plot(forecasts, log = TRUE)  # plot case posterior predictions with central estimates plot(forecasts, log = TRUE, central = TRUE)  # plot voc posterior predictions plot(forecasts, type = \"voc_frac\") }"},{"path":"epiforecasts.io/forecast.vocs/reference/plot.fv_posterior.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot method for fv_tidy_posterior — plot.fv_posterior","title":"Plot method for fv_tidy_posterior — plot.fv_posterior","text":"plot method class \"fv_posterior\". function wraps lower level plot functions.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot.fv_posterior.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot method for fv_tidy_posterior — plot.fv_posterior","text":"","code":"# S3 method for fv_posterior plot(   x,   obs = NULL,   type = \"cases\",   forecast_dates = NULL,   central = FALSE,   all_obs = FALSE,   voc_label = \"variant of concern\",   ... )"},{"path":"epiforecasts.io/forecast.vocs/reference/plot.fv_posterior.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot method for fv_tidy_posterior — plot.fv_posterior","text":"x data.table output produced fv_tidy_posterior(). obs data frame observed data produced latest_obs(). type character string indicating type plot required, defaulting \"cases\". Current options : \"cases\" calls plot_cases(), \"voc_frac\" calls plot_voc_frac(), \"voc_advantage\" calls plot_voc_advantage(), \"growth\" calls plot_growth(), \"rt\" calls plot_rt(), \"\" produces list plots call plot_posterior(). forecast_dates data.frame format produced extract_forecast_dates() (least date variable Data unavailable variable)). Specifies date availability add plots. May contain faceting variables. central Logical, defaults FALSE. mean median central estimates plot dashed solid lines respectively. Requires mean median variables present input. all_obs Logical, defaults FALSE. observations plot just date range estimates plot. voc_label Character string giving name assign variant concern. Defaults  \"variant concern\". ... Pass additional arguments lower level plot functions.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot.fv_posterior.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot method for fv_tidy_posterior — plot.fv_posterior","text":"ggplot2 object","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/plot.fv_posterior.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot method for fv_tidy_posterior — plot.fv_posterior","text":"","code":"posterior <- fv_example(strains = 2, type = \"posterior\")  # plot cases on the log scale plot(posterior, type = \"cases\", log = TRUE)   # plot cases with central estimates plot(posterior, type = \"cases\", log = FALSE, central = TRUE)   # plot fraction that have the variant of concern plot(posterior, type = \"voc_frac\")   # plot the transmission advantage for the the variant of concern plot(posterior, type = \"voc_advantage\")   # plot the growth rates for both voc and non-voc cases plot(posterior, type = \"growth\")   # plot the reproduction number estimates plot(posterior, type = \"rt\")"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_cases.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot the posterior prediction for cases — plot_cases","title":"Plot the posterior prediction for cases — plot_cases","text":"Plot posterior prediction cases","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_cases.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot the posterior prediction for cases — plot_cases","text":"","code":"plot_cases(   posterior,   obs = NULL,   forecast_dates = NULL,   all_obs = FALSE,   central = FALSE,   col = NULL,   log = TRUE )"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_cases.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot the posterior prediction for cases — plot_cases","text":"posterior dataframe posterior output produced fv_tidy_posterior(). forecast dates extracted data value_type == \"cases\" must present. obs data frame observed data produced latest_obs(). forecast_dates data.frame format produced extract_forecast_dates() (least date variable Data unavailable variable)). Specifies date availability add plots. May contain faceting variables. all_obs Logical, defaults FALSE. observations plot just date range estimates plot. central Logical, defaults FALSE. mean median central estimates plot dashed solid lines respectively. Requires mean median variables present input. col character string denoting variable use stratify ribbon plot. Defaults \"type\" indicates data stream. log Logical, defaults TRUE. cases plot log 2 scale?","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_cases.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot the posterior prediction for cases — plot_cases","text":"ggplot2 plot.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/plot_cases.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot the posterior prediction for cases — plot_cases","text":"","code":"posterior <- fv_example(strains = 2, type = \"posterior\")  # default with log transform plot_cases(posterior)   # without log transform plot_cases(posterior, log = FALSE)"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_default.html","id":null,"dir":"Reference","previous_headings":"","what":"Default posterior plot — plot_default","title":"Default posterior plot — plot_default","text":"Default posterior plot","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_default.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Default posterior plot — plot_default","text":"","code":"plot_default(   posterior,   target,   obs = NULL,   forecast_dates = NULL,   central = FALSE,   all_obs = FALSE,   ... )"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_default.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Default posterior plot — plot_default","text":"posterior dataframe posterior output produced fv_tidy_posterior(). forecast dates extracted data value_type == \"cases\" must present. target character string indicating variable extract posterior list. obs data frame observed data produced latest_obs(). forecast_dates data.frame format produced extract_forecast_dates() (least date variable Data unavailable variable)). Specifies date availability add plots. May contain faceting variables. central Logical, defaults FALSE. mean median central estimates plot dashed solid lines respectively. Requires mean median variables present input. all_obs Logical, defaults FALSE. observations plot just date range estimates plot. ... Additional arguments passed ggplot2::aes()","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_default.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Default posterior plot — plot_default","text":"ggplot2 plot.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/plot_growth.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot the posterior prediction for the growth rate — plot_growth","title":"Plot the posterior prediction for the growth rate — plot_growth","text":"Plot posterior prediction growth rate","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_growth.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot the posterior prediction for the growth rate — plot_growth","text":"","code":"plot_growth(posterior, forecast_dates = NULL, central = FALSE, col = NULL)"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_growth.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot the posterior prediction for the growth rate — plot_growth","text":"posterior dataframe posterior output produced fv_tidy_posterior(). forecast dates extracted data value_type == \"cases\" must present. forecast_dates data.frame format produced extract_forecast_dates() (least date variable Data unavailable variable)). Specifies date availability add plots. May contain faceting variables. central Logical, defaults FALSE. mean median central estimates plot dashed solid lines respectively. Requires mean median variables present input. col character string denoting variable use stratify ribbon plot. Defaults \"type\" indicates data stream.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_growth.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot the posterior prediction for the growth rate — plot_growth","text":"ggplot2 plot.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/plot_growth.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot the posterior prediction for the growth rate — plot_growth","text":"","code":"posterior <- fv_example(strains = 2, type = \"posterior\") plot_growth(posterior)"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_pairs.html","id":null,"dir":"Reference","previous_headings":"","what":"Pairs plot of parameters of interest and fitting diagnostics — plot_pairs","title":"Pairs plot of parameters of interest and fitting diagnostics — plot_pairs","text":"Pairs plot parameters interest fitting diagnostics","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_pairs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pairs plot of parameters of interest and fitting diagnostics — plot_pairs","text":"","code":"plot_pairs(   fit,   pars = c(\"r_init\", \"r_scale\", \"beta\", \"voc_beta\", \"voc_scale[1]\", \"init_cases[1]\",     \"init_cases[2]\", \"eta[1]\", \"voc_eta[1]\", \"sqrt_phi[1]\", \"sqrt_phi[2]\", \"sqrt_phi\"),   diagnostics = TRUE,   ... )"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_pairs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pairs plot of parameters of interest and fitting diagnostics — plot_pairs","text":"fit List output returned fv_sample(). pars Character vector parameters try include plot. included present fitted model. diagnostics Logical, defaults TRUE. fitting diagnostics returned data.frame. ... Additional parameters passed bayesplot::mcmc_pairs().","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_pairs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pairs plot of parameters of interest and fitting diagnostics — plot_pairs","text":"ggplot2 based pairs plot parameters interest","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/plot_pairs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Pairs plot of parameters of interest and fitting diagnostics — plot_pairs","text":"","code":"if (FALSE) { # interactive() obs <- filter_by_availability(   germany_covid19_delta_obs,   date = as.Date(\"2021-06-12\"), ) dt <- fv_as_data_list(obs) inits <- fv_inits(dt) fit <- fv_sample(dt, init = inits, adapt_voc = 0.99, max_treedepth = 15) plot_pairs(fit) }"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_posterior.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot posterior predictions — plot_posterior","title":"Plot posterior predictions — plot_posterior","text":"Plot posterior predictions","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_posterior.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot posterior predictions — plot_posterior","text":"","code":"plot_posterior(   posterior,   obs = NULL,   forecast_dates = NULL,   central = FALSE,   all_obs = FALSE,   voc_label = \"variant of concern\" )"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_posterior.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot posterior predictions — plot_posterior","text":"posterior dataframe posterior output produced fv_tidy_posterior(). forecast dates extracted data value_type == \"cases\" must present. obs data frame observed data produced latest_obs(). forecast_dates data.frame format produced extract_forecast_dates() (least date variable Data unavailable variable)). Specifies date availability add plots. May contain faceting variables. central Logical, defaults FALSE. mean median central estimates plot dashed solid lines respectively. Requires mean median variables present input. all_obs Logical, defaults FALSE. observations plot just date range estimates plot. voc_label Character string giving name assign variant concern. Defaults  \"variant concern\".","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_posterior.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot posterior predictions — plot_posterior","text":"named list supported package plots sensible defaults.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/plot_posterior.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot posterior predictions — plot_posterior","text":"","code":"posterior <- fv_example(strains = 2, type = \"posterior\") plot_posterior(posterior) #> $cases  #>  #> $log_cases  #>  #> $voc_frac  #>  #> $voc_advantage  #>  #> $growth  #>  #> $rt  #>"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_rt.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot the posterior prediction for the reproduction number — plot_rt","title":"Plot the posterior prediction for the reproduction number — plot_rt","text":"Plot posterior prediction reproduction number","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_rt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot the posterior prediction for the reproduction number — plot_rt","text":"","code":"plot_rt(posterior, forecast_dates = NULL, central = FALSE, col = NULL)"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_rt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot the posterior prediction for the reproduction number — plot_rt","text":"posterior dataframe posterior output produced fv_tidy_posterior(). forecast dates extracted data value_type == \"cases\" must present. forecast_dates data.frame format produced extract_forecast_dates() (least date variable Data unavailable variable)). Specifies date availability add plots. May contain faceting variables. central Logical, defaults FALSE. mean median central estimates plot dashed solid lines respectively. Requires mean median variables present input. col character string denoting variable use stratify ribbon plot. Defaults \"type\" indicates data stream.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_rt.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot the posterior prediction for the reproduction number — plot_rt","text":"ggplot2 plot.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/plot_rt.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot the posterior prediction for the reproduction number — plot_rt","text":"","code":"posterior <- fv_example(strains = 2, type = \"posterior\") plot_rt(posterior)"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_theme.html","id":null,"dir":"Reference","previous_headings":"","what":"Add the default plot theme — plot_theme","title":"Add the default plot theme — plot_theme","text":"Add default plot theme","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_theme.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add the default plot theme — plot_theme","text":"","code":"plot_theme(plot)"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_theme.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add the default plot theme — plot_theme","text":"plot ggplot2 object","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_theme.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add the default plot theme — plot_theme","text":"ggplot2 plot package theme applied.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/plot_voc_advantage.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot the posterior prediction for the transmission advantage for the variant\nof concern — plot_voc_advantage","title":"Plot the posterior prediction for the transmission advantage for the variant\nof concern — plot_voc_advantage","text":"Plot posterior prediction transmission advantage variant concern","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_voc_advantage.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot the posterior prediction for the transmission advantage for the variant\nof concern — plot_voc_advantage","text":"","code":"plot_voc_advantage(   posterior,   forecast_dates = NULL,   central = FALSE,   voc_label = \"variant of concern\",   ... )"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_voc_advantage.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot the posterior prediction for the transmission advantage for the variant\nof concern — plot_voc_advantage","text":"posterior dataframe posterior output produced fv_tidy_posterior(). forecast dates extracted data value_type == \"cases\" must present. forecast_dates data.frame format produced extract_forecast_dates() (least date variable Data unavailable variable)). Specifies date availability add plots. May contain faceting variables. central Logical, defaults FALSE. mean median central estimates plot dashed solid lines respectively. Requires mean median variables present input. voc_label Character string giving name assign variant concern. Defaults  \"variant concern\". ... Additional parameters passed plot_default().","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_voc_advantage.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot the posterior prediction for the transmission advantage for the variant\nof concern — plot_voc_advantage","text":"ggplot2 plot.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/plot_voc_advantage.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot the posterior prediction for the transmission advantage for the variant\nof concern — plot_voc_advantage","text":"","code":"posterior <- fv_example(strains = 2, type = \"posterior\") plot_voc_advantage(posterior)"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_voc_frac.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot the population posterior prediction for the fraction of samples with the\nvariant of concern — plot_voc_frac","title":"Plot the population posterior prediction for the fraction of samples with the\nvariant of concern — plot_voc_frac","text":"Plot population posterior prediction fraction samples variant concern","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_voc_frac.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot the population posterior prediction for the fraction of samples with the\nvariant of concern — plot_voc_frac","text":"","code":"plot_voc_frac(   posterior,   obs = NULL,   forecast_dates = NULL,   all_obs = FALSE,   central = FALSE,   voc_label = \"variant of concern\",   logit = TRUE,   ... )"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_voc_frac.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot the population posterior prediction for the fraction of samples with the\nvariant of concern — plot_voc_frac","text":"posterior dataframe posterior output produced fv_tidy_posterior(). forecast dates extracted data value_type == \"cases\" must present. obs data frame observed data produced latest_obs(). forecast_dates data.frame format produced extract_forecast_dates() (least date variable Data unavailable variable)). Specifies date availability add plots. May contain faceting variables. all_obs Logical, defaults FALSE. observations plot just date range estimates plot. central Logical, defaults FALSE. mean median central estimates plot dashed solid lines respectively. Requires mean median variables present input. voc_label Character string giving name assign variant concern. Defaults  \"variant concern\". logit Logical, defaults TRUE. variant proportions plot logit scale. ... Additional parameters passed plot_default().","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_voc_frac.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot the population posterior prediction for the fraction of samples with the\nvariant of concern — plot_voc_frac","text":"ggplot2 plot.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/plot_voc_frac.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot the population posterior prediction for the fraction of samples with the\nvariant of concern — plot_voc_frac","text":"","code":"posterior <- fv_example(strains = 2, type = \"posterior\") plot_voc_frac(posterior)"},{"path":"epiforecasts.io/forecast.vocs/reference/print.fv_posterior.html","id":null,"dir":"Reference","previous_headings":"","what":"Print method for fv_tidy_posterior — print.fv_posterior","title":"Print method for fv_tidy_posterior — print.fv_posterior","text":"print method class \"fv_posterior\". Prints available value types falls back data.table print method.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/print.fv_posterior.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print method for fv_tidy_posterior — print.fv_posterior","text":"","code":"# S3 method for fv_posterior print(x, ...)"},{"path":"epiforecasts.io/forecast.vocs/reference/print.fv_posterior.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print method for fv_tidy_posterior — print.fv_posterior","text":"x output output fv_tidy_posterior(). ... Pass additional arguments data.table printing method.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/print.fv_posterior.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print method for fv_tidy_posterior — print.fv_posterior","text":"summary data.frame","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/print.fv_posterior.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print method for fv_tidy_posterior — print.fv_posterior","text":"","code":"posterior <- fv_example(strains = 2, type = \"posterior\")  # case summary posterior #> Available value types: model, cases, voc_frac, voc_advantage, growth, rt, raw #>      value_type          variable                  clean_name date type obs #>   1:      model avg_voc_advantage          Average VOC effect <NA>       NA #>   2:      model              beta                        Beta <NA>       NA #>   3:      model     init_cases[1]               Initial cases <NA>       NA #>   4:      model init_voc_cases[1]           Initial VOC cases <NA>       NA #>   5:      model            phi[1] Notification overdispersion <NA>       NA #>  ---                                                                        #> 469:        raw       log_lik[11]                             <NA>       NA #> 470:        raw       log_lik[12]                             <NA>       NA #> 471:        raw       log_lik[13]                             <NA>       NA #> 472:        raw       log_lik[14]                             <NA>       NA #> 473:        raw       log_lik[15]                             <NA>       NA #>      observed forecast_start exponentiated      mean    median       sd #>   1:       NA             NA         FALSE     0.589     0.589 3.08e-02 #>   2:       NA             NA         FALSE     0.230     0.260 4.08e-01 #>   3:       NA             NA         FALSE 89800.000 89600.000 6.14e+03 #>   4:       NA             NA         FALSE   222.000   221.000 2.27e+01 #>   5:       NA             NA         FALSE    95.300    78.000 7.42e+01 #>  ---                                                                    #> 469:       NA             NA            NA   -14.700   -14.600 6.93e-01 #> 470:       NA             NA            NA   -13.800   -13.800 5.79e-01 #> 471:       NA             NA            NA   -13.500   -13.400 8.67e-01 #> 472:       NA             NA            NA    -8.160    -8.070 5.98e-01 #> 473:       NA             NA            NA    -7.730    -7.590 6.97e-01 #>           mad        q5       q20       q80       q95 rhat ess_bulk ess_tail #>   1: 2.97e-02     0.541     0.564     0.613     0.639 1.00     1270     1250 #>   2: 4.53e-01    -0.466    -0.151     0.621     0.846 1.00      779      923 #>   3: 5.82e+03 79900.000 84800.000 94600.000 99900.000 1.00     1360     1340 #>   4: 2.16e+01   186.000   203.000   240.000   261.000 1.00     1610     1060 #>   5: 5.32e+01    21.200    41.200   135.000   231.000 1.00      746     1030 #>  ---                                                                         #> 469: 6.23e-01   -16.000   -15.200   -14.100   -13.700 1.00     1300     1500 #> 470: 5.44e-01   -14.800   -14.300   -13.400   -13.000 1.01      915     1160 #> 471: 7.77e-01   -15.100   -14.100   -12.700   -12.300 1.00     1220     1490 #> 472: 4.91e-01    -9.200    -8.560    -7.690    -7.420 1.00     1070     1250 #> 473: 5.32e-01    -9.010    -8.150    -7.200    -6.880 1.00      910     1320"},{"path":"epiforecasts.io/forecast.vocs/reference/quantiles_to_long.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert summarised quantiles from wide to long format — quantiles_to_long","title":"Convert summarised quantiles from wide to long format — quantiles_to_long","text":"Convert summarised quantiles wide long format","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/quantiles_to_long.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert summarised quantiles from wide to long format — quantiles_to_long","text":"","code":"quantiles_to_long(posterior)"},{"path":"epiforecasts.io/forecast.vocs/reference/quantiles_to_long.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert summarised quantiles from wide to long format — quantiles_to_long","text":"posterior dataframe output fv_tidy_posterior(), fv_extract_forecast(), etc.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/quantiles_to_long.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert summarised quantiles from wide to long format — quantiles_to_long","text":"data frame quantiles long format.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/quantiles_to_long.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert summarised quantiles from wide to long format — quantiles_to_long","text":"","code":"posterior <- fv_example(strains = 2, type = \"posterior\") long_posterior <- quantiles_to_long(posterior) long_posterior #>       value_type          variable                  clean_name date type obs #>    1:      model avg_voc_advantage          Average VOC effect <NA>       NA #>    2:      model              beta                        Beta <NA>       NA #>    3:      model     init_cases[1]               Initial cases <NA>       NA #>    4:      model init_voc_cases[1]           Initial VOC cases <NA>       NA #>    5:      model            phi[1] Notification overdispersion <NA>       NA #>   ---                                                                        #> 1888:        raw       log_lik[11]                             <NA>       NA #> 1889:        raw       log_lik[12]                             <NA>       NA #> 1890:        raw       log_lik[13]                             <NA>       NA #> 1891:        raw       log_lik[14]                             <NA>       NA #> 1892:        raw       log_lik[15]                             <NA>       NA #>       observed forecast_start exponentiated      mean    median       sd #>    1:       NA             NA         FALSE     0.589     0.589 3.08e-02 #>    2:       NA             NA         FALSE     0.230     0.260 4.08e-01 #>    3:       NA             NA         FALSE 89800.000 89600.000 6.14e+03 #>    4:       NA             NA         FALSE   222.000   221.000 2.27e+01 #>    5:       NA             NA         FALSE    95.300    78.000 7.42e+01 #>   ---                                                                    #> 1888:       NA             NA            NA   -14.700   -14.600 6.93e-01 #> 1889:       NA             NA            NA   -13.800   -13.800 5.79e-01 #> 1890:       NA             NA            NA   -13.500   -13.400 8.67e-01 #> 1891:       NA             NA            NA    -8.160    -8.070 5.98e-01 #> 1892:       NA             NA            NA    -7.730    -7.590 6.97e-01 #>            mad rhat ess_bulk ess_tail quantile prediction #>    1: 2.97e-02 1.00     1270     1250     0.05      0.541 #>    2: 4.53e-01 1.00      779      923     0.05     -0.466 #>    3: 5.82e+03 1.00     1360     1340     0.05  79900.000 #>    4: 2.16e+01 1.00     1610     1060     0.05    186.000 #>    5: 5.32e+01 1.00      746     1030     0.05     21.200 #>   ---                                                     #> 1888: 6.23e-01 1.00     1300     1500     0.95    -13.700 #> 1889: 5.44e-01 1.01      915     1160     0.95    -13.000 #> 1890: 7.77e-01 1.00     1220     1490     0.95    -12.300 #> 1891: 4.91e-01 1.00     1070     1250     0.95     -7.420 #> 1892: 5.32e-01 1.00      910     1320     0.95     -6.880"},{"path":"epiforecasts.io/forecast.vocs/reference/sample_sequences.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample Sequence Observation Model — sample_sequences","title":"Sample Sequence Observation Model — sample_sequences","text":"Sample Sequence Observation Model","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/sample_sequences.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample Sequence Observation Model — sample_sequences","text":"","code":"sample_sequences(frac_voc, seq_total, phi)"},{"path":"epiforecasts.io/forecast.vocs/reference/sample_sequences.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sample Sequence Observation Model — sample_sequences","text":"frac_voc numeric vector expected proportions positive variant concern. seq_total integer vector total sequences available. phi overdispersion sampling process. supplied overdispersion used (.e binomial observation model vs beta binomial observation model).","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/sample_sequences.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Sample Sequence Observation Model — sample_sequences","text":"vector observed sequences positive variant concern.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/sample_sequences.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Sample Sequence Observation Model — sample_sequences","text":"","code":"# dummy sequence data frac_voc <- seq(0, 1, by = 0.1) seq_total <- seq(10, length.out = length(frac_voc), by = 100)  # binomial observation model sample_sequences(frac_voc, seq_total) #>  [1]    0   11   45  103  155  255  339  495  637  809 1010  # beta binomial observation model sample_sequences(frac_voc, seq_total, 0.5) #>  [1]    0    1    0  303   53   96    1  294  793  910 1010"},{"path":"epiforecasts.io/forecast.vocs/reference/save_plots.html","id":null,"dir":"Reference","previous_headings":"","what":"Save plots by name — save_plots","title":"Save plots by name — save_plots","text":"Save plots name","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/save_plots.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Save plots by name — save_plots","text":"","code":"save_plots(plots, save_path = NULL, type = \"png\", ...)"},{"path":"epiforecasts.io/forecast.vocs/reference/save_plots.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Save plots by name — save_plots","text":"plots named list ggplot2 plots. save_path character string indicating save plots required. type character string indicating format use save plots. ... Additional arguments passed ggplot2::ggsave()","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/save_plots.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Save plots by name — save_plots","text":"","code":"posterior <- fv_example(strains = 2, type = \"posterior\") p <- plot(posterior, type = \"all\") save_plots(p, save_path = tempdir()) #> Saving 6.67 x 6.67 in image #> Saving 6.67 x 6.67 in image #> Saving 6.67 x 6.67 in image #> Saving 6.67 x 6.67 in image #> Saving 6.67 x 6.67 in image #> Saving 6.67 x 6.67 in image"},{"path":"epiforecasts.io/forecast.vocs/reference/summary.fv_forecast.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary method for forecast — summary.fv_forecast","title":"Summary method for forecast — summary.fv_forecast","text":"summary method class \"fv_forecast\".","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/summary.fv_forecast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary method for forecast — summary.fv_forecast","text":"","code":"# S3 method for fv_forecast summary(   object,   target = \"posterior\",   type = \"model\",   as_dt = FALSE,   forecast = FALSE,   ... )"},{"path":"epiforecasts.io/forecast.vocs/reference/summary.fv_forecast.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summary method for forecast — summary.fv_forecast","text":"object data.table output forecast() class \"fv_forecast\". target character string indicating target object within forecast() summarise. Current options : posterior predictions (\"posterior\"), posterior forecasts (\"forecast\"), model fit (\"fit\"), model diagnostics (\"diagnostics\"). \"posterior\" \"forecast\" used summary.fv_posterior() called nested posterior forecast. type character string used filter summarised output defaulting \"model\". Current options : \"model\" returns summary key model parameters, \"cases\" returns summarised cases, \"voc_frac\" returns summarised estimates fraction cases variant concern, \"voc_advantage\" returns summarised estimates transmission advantage variant concern, \"growth\" returns summarised variant specific overall growth rates, \"rt\" returns summarised variant specific overall reproduction number estimates, \"raw\" returns raw posterior summary, \"\" returns tidied posterior estimates. as_dt Logical defaults FALSE. filtering applied summary() fall back using default data.table method. forecast Logical defaults FALSE. fv_extract_forecast() used return forecasts rather complete posterior. ... Additional summary arguments.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/summary.fv_forecast.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summary method for forecast — summary.fv_forecast","text":"summary data.table.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/summary.fv_forecast.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summary method for forecast — summary.fv_forecast","text":"","code":"if (FALSE) { # interactive() options(mc.cores = 4)  forecasts <- forecast(   germany_covid19_delta_obs,   forecast_date = as.Date(\"2021-06-12\"),   horizon = 4,   strains = c(1, 2),   adapt_delta = 0.99,   max_treedepth = 15,   variant_relationship = \"scaled\" ) # inspect forecasts forecasts  # extract the model summary summary(forecasts, type = \"model\")  # extract the fit object summary(forecasts, target = \"fit\")  # extract the case forecast summary(forecasts, type = \"cases\", forecast = TRUE) }"},{"path":"epiforecasts.io/forecast.vocs/reference/summary.fv_posterior.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary method for fv_tidy_posterior — summary.fv_posterior","title":"Summary method for fv_tidy_posterior — summary.fv_posterior","text":"summary method class \"fv_tidy_posterior\". Can used filter posterior variables interest, return forecasts , summarise using data.table method","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/summary.fv_posterior.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary method for fv_tidy_posterior — summary.fv_posterior","text":"","code":"# S3 method for fv_posterior summary(object, type = \"model\", forecast = FALSE, as_dt = FALSE, ...)"},{"path":"epiforecasts.io/forecast.vocs/reference/summary.fv_posterior.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summary method for fv_tidy_posterior — summary.fv_posterior","text":"object object class fv_posterior returned fv_tidy_posterior() . type character string used filter summarised output defaulting \"model\". Current options : \"model\" returns summary key model parameters, \"cases\" returns summarised cases, \"voc_frac\" returns summarised estimates fraction cases variant concern, \"voc_advantage\" returns summarised estimates transmission advantage variant concern, \"growth\" returns summarised variant specific overall growth rates, \"rt\" returns summarised variant specific overall reproduction number estimates, \"raw\" returns raw posterior summary, \"\" returns tidied posterior estimates. forecast Logical defaults FALSE. fv_extract_forecast() used return forecasts rather complete posterior. as_dt Logical defaults FALSE. filtering applied summary() fall back using default data.table method. ... Additional summary arguments.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/summary.fv_posterior.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summary method for fv_tidy_posterior — summary.fv_posterior","text":"summary data.table table unless type \"\" used case output still type \"fv_posterior\".","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/summary.fv_posterior.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summary method for fv_tidy_posterior — summary.fv_posterior","text":"","code":"posterior <- fv_example(strains = 2, type = \"posterior\")  # case summary summary(posterior, type = \"cases\") #>               variable       date     type    obs observed forecast_start #>  1:       sim_cases[1] 2021-03-20 Combined  87328     TRUE          FALSE #>  2:       sim_cases[2] 2021-03-27 Combined 109442     TRUE          FALSE #>  3:       sim_cases[3] 2021-04-03 Combined 117965     TRUE          FALSE #>  4:       sim_cases[4] 2021-04-10 Combined 107223     TRUE          FALSE #>  5:       sim_cases[5] 2021-04-17 Combined 142664     TRUE          FALSE #>  6:       sim_cases[6] 2021-04-24 Combined 145568     TRUE          FALSE #>  7:       sim_cases[7] 2021-05-01 Combined 131887     TRUE          FALSE #>  8:       sim_cases[8] 2021-05-08 Combined 107141     TRUE          FALSE #>  9:       sim_cases[9] 2021-05-15 Combined  77261     TRUE          FALSE #> 10:      sim_cases[10] 2021-05-22 Combined  57310     TRUE          FALSE #> 11:      sim_cases[11] 2021-05-29 Combined  33052     TRUE          FALSE #> 12:      sim_cases[12] 2021-06-05 Combined  22631     TRUE          FALSE #> 13:      sim_cases[13] 2021-06-12 Combined  15553     TRUE          FALSE #> 14:      sim_cases[14] 2021-06-19 Combined   7659     TRUE          FALSE #> 15:      sim_cases[15] 2021-06-26 Combined   5033     TRUE           TRUE #> 16:      sim_cases[16] 2021-07-03 Combined     NA    FALSE          FALSE #> 17:      sim_cases[17] 2021-07-10 Combined     NA    FALSE          FALSE #> 18:      sim_cases[18] 2021-07-17 Combined     NA    FALSE          FALSE #> 19:      sim_cases[19] 2021-07-24 Combined     NA    FALSE          FALSE #> 20:   sim_voc_cases[1] 2021-04-17      VOC     NA     TRUE          FALSE #> 21:   sim_voc_cases[2] 2021-04-24      VOC     NA     TRUE          FALSE #> 22:   sim_voc_cases[3] 2021-05-01      VOC     NA     TRUE          FALSE #> 23:   sim_voc_cases[4] 2021-05-08      VOC     NA     TRUE          FALSE #> 24:   sim_voc_cases[5] 2021-05-15      VOC     NA     TRUE          FALSE #> 25:   sim_voc_cases[6] 2021-05-22      VOC     NA     TRUE          FALSE #> 26:   sim_voc_cases[7] 2021-05-29      VOC     NA     TRUE          FALSE #> 27:   sim_voc_cases[8] 2021-06-05      VOC     NA     TRUE          FALSE #> 28:   sim_voc_cases[9] 2021-06-12      VOC     NA     TRUE           TRUE #> 29:  sim_voc_cases[10] 2021-06-19      VOC     NA    FALSE          FALSE #> 30:  sim_voc_cases[11] 2021-06-26      VOC     NA    FALSE          FALSE #> 31:  sim_voc_cases[12] 2021-07-03      VOC     NA    FALSE          FALSE #> 32:  sim_voc_cases[13] 2021-07-10      VOC     NA    FALSE          FALSE #> 33:  sim_voc_cases[14] 2021-07-17      VOC     NA    FALSE          FALSE #> 34:  sim_voc_cases[15] 2021-07-24      VOC     NA    FALSE          FALSE #> 35:  sim_nvoc_cases[1] 2021-03-20  non-VOC     NA     TRUE          FALSE #> 36:  sim_nvoc_cases[2] 2021-03-27  non-VOC     NA     TRUE          FALSE #> 37:  sim_nvoc_cases[3] 2021-04-03  non-VOC     NA     TRUE          FALSE #> 38:  sim_nvoc_cases[4] 2021-04-10  non-VOC     NA     TRUE          FALSE #> 39:  sim_nvoc_cases[5] 2021-04-17  non-VOC     NA     TRUE          FALSE #> 40:  sim_nvoc_cases[6] 2021-04-24  non-VOC     NA     TRUE          FALSE #> 41:  sim_nvoc_cases[7] 2021-05-01  non-VOC     NA     TRUE          FALSE #> 42:  sim_nvoc_cases[8] 2021-05-08  non-VOC     NA     TRUE          FALSE #> 43:  sim_nvoc_cases[9] 2021-05-15  non-VOC     NA     TRUE          FALSE #> 44: sim_nvoc_cases[10] 2021-05-22  non-VOC     NA     TRUE          FALSE #> 45: sim_nvoc_cases[11] 2021-05-29  non-VOC     NA     TRUE          FALSE #> 46: sim_nvoc_cases[12] 2021-06-05  non-VOC     NA     TRUE          FALSE #> 47: sim_nvoc_cases[13] 2021-06-12  non-VOC     NA     TRUE           TRUE #> 48: sim_nvoc_cases[14] 2021-06-19  non-VOC     NA    FALSE          FALSE #> 49: sim_nvoc_cases[15] 2021-06-26  non-VOC     NA    FALSE          FALSE #> 50: sim_nvoc_cases[16] 2021-07-03  non-VOC     NA    FALSE          FALSE #> 51: sim_nvoc_cases[17] 2021-07-10  non-VOC     NA    FALSE          FALSE #> 52: sim_nvoc_cases[18] 2021-07-17  non-VOC     NA    FALSE          FALSE #> 53: sim_nvoc_cases[19] 2021-07-24  non-VOC     NA    FALSE          FALSE #>               variable       date     type    obs observed forecast_start #>       mean median      sd     mad     q5    q20    q80    q95  rhat ess_bulk #>  1:  89700  89100 13800.0 12200.0  68400  79200 100000 112000 1.000     1630 #>  2: 103000 102000 14900.0 13200.0  78900  91100 113000 127000 1.000     2030 #>  3: 114000 113000 17800.0 14700.0  87900 101000 126000 144000 1.000     1810 #>  4: 122000 121000 19200.0 16200.0  92500 107000 135000 154000 1.000     1820 #>  5: 133000 133000 20800.0 18000.0 101000 117000 149000 168000 1.000     1830 #>  6: 138000 137000 21200.0 18800.0 105000 122000 153000 172000 1.000     1860 #>  7: 129000 128000 20000.0 17400.0  97200 114000 143000 161000 1.000     1980 #>  8: 107000 106000 16700.0 13800.0  82300  94100 118000 133000 1.000     2230 #>  9:  79700  78900 12500.0 10700.0  61200  70400  88700 100000 0.999     2100 #> 10:  55400  54900  8090.0  7300.0  42600  49000  61500  69300 1.000     2090 #> 11:  35800  35500  5490.0  4620.0  27700  31800  39600  44700 1.000     2180 #> 12:  22900  22700  3420.0  2880.0  17800  20300  25200  28400 1.000     2050 #> 13:  14200  14100  2050.0  1700.0  11100  12700  15600  17500 1.000     1830 #> 14:   8280   8220  1170.0   971.0   6580   7400   9010  10200 1.000     1950 #> 15:   5130   5040   833.0   678.0   3990   4510   5670   6590 1.000     1960 #> 16:   3470   3320   990.0   830.0   2160   2710   4130   5280 1.000     1800 #> 17:   2620   2360  1310.0  1000.0   1130   1630   3380   5150 1.000     1850 #> 18:   2300   1790  1890.0  1100.0    529   1050   3090   5790 1.000     1970 #> 19:   2330   1450  2930.0  1190.0    259    673   3150   7380 1.000     1970 #> 20:    221    219    40.4    37.1    160    189    253    291 1.000     2000 #> 21:    417    411    82.6    72.6    301    353    475    559 0.999     1600 #> 22:    692    684   125.0   114.0    501    594    785    902 1.000     1780 #> 23:   1030   1010   203.0   177.0    735    871   1170   1380 1.000     2050 #> 24:   1380   1360   266.0   245.0    991   1160   1580   1840 0.999     2340 #> 25:   1710   1670   355.0   320.0   1200   1430   1970   2330 1.000     2230 #> 26:   1960   1910   437.0   372.0   1360   1630   2260   2690 1.000     2100 #> 27:   2150   2110   478.0   434.0   1480   1770   2510   3010 1.000     1770 #> 28:   2230   2180   508.0   442.0   1490   1840   2600   3120 1.000     1680 #> 29:   2100   2050   504.0   450.0   1380   1700   2450   2970 1.000     1790 #> 30:   1950   1880   505.0   429.0   1260   1560   2290   2800 1.000     1650 #> 31:   1810   1720   618.0   524.0    980   1320   2240   2970 1.000     1750 #> 32:   1730   1550   907.0   696.0    687   1030   2290   3400 1.000     1790 #> 33:   1780   1380  1500.0   872.0    395    789   2400   4580 1.000     2010 #> 34:   2010   1240  2520.0  1020.0    220    572   2740   6400 1.000     2000 #> 35:  89700  89100 13800.0 12200.0  68400  79200 100000 112000 1.000     1630 #> 36: 103000 102000 14900.0 13200.0  78900  91100 113000 127000 1.000     2030 #> 37: 114000 113000 17800.0 14700.0  87900 101000 126000 144000 1.000     1810 #> 38: 122000 121000 19200.0 16200.0  92500 107000 135000 154000 1.000     1820 #> 39: 133000 133000 20800.0 18100.0 101000 117000 148000 168000 1.000     1830 #> 40: 137000 137000 21200.0 18800.0 105000 121000 153000 171000 1.000     1860 #> 41: 128000 127000 20000.0 17400.0  96500 113000 142000 160000 1.000     1980 #> 42: 106000 105000 16600.0 13700.0  81300  93100 117000 132000 1.000     2230 #> 43:  78300  77500 12400.0 10700.0  60000  69100  87200  99000 0.999     2100 #> 44:  53600  53200  8020.0  7210.0  41000  47400  59800  67400 1.000     2090 #> 45:  33800  33500  5370.0  4500.0  25700  29800  37600  42500 1.000     2170 #> 46:  20700  20500  3320.0  2780.0  15800  18200  23000  26200 1.000     2080 #> 47:  12000  11800  1950.0  1650.0   9100  10500  13300  15100 1.000     1890 #> 48:   6180   6090  1060.0   941.0   4660   5350   6930   7930 1.000     1910 #> 49:   3180   3120   660.0   549.0   2260   2670   3630   4330 1.000     2010 #> 50:   1660   1590   537.0   440.0    938   1240   2000   2640 1.000     1920 #> 51:    895    790   499.0   355.0    352    531   1170   1790 1.000     1810 #> 52:    514    388   453.0   259.0    117    218    702   1310 1.000     1810 #> 53:    328    194   456.0   170.0     33     85    438   1010 1.000     1750 #>       mean median      sd     mad     q5    q20    q80    q95  rhat ess_bulk #>     ess_tail #>  1:     1660 #>  2:     1750 #>  3:     1630 #>  4:     1580 #>  5:     1610 #>  6:     1520 #>  7:     1660 #>  8:     1980 #>  9:     1860 #> 10:     1810 #> 11:     1820 #> 12:     1820 #> 13:     1710 #> 14:     1720 #> 15:     1440 #> 16:     1540 #> 17:     1300 #> 18:     1460 #> 19:     1490 #> 20:     1760 #> 21:     1480 #> 22:     1660 #> 23:     1880 #> 24:     2000 #> 25:     1700 #> 26:     1820 #> 27:     1320 #> 28:     1190 #> 29:     1570 #> 30:     1270 #> 31:     1660 #> 32:     1500 #> 33:     1350 #> 34:     1480 #> 35:     1660 #> 36:     1750 #> 37:     1630 #> 38:     1580 #> 39:     1610 #> 40:     1520 #> 41:     1660 #> 42:     1970 #> 43:     1860 #> 44:     1820 #> 45:     1870 #> 46:     1790 #> 47:     1750 #> 48:     1670 #> 49:     1530 #> 50:     1290 #> 51:     1590 #> 52:     1700 #> 53:     1730 #>     ess_tail  # summary of the case summary summary(posterior, type = \"cases\", as_dt = TRUE) #>    variable              date                type                obs         #>  Length:53          Min.   :2021-03-20   Length:53          Min.   :  5033   #>  Class :character   1st Qu.:2021-04-24   Class :character   1st Qu.: 27842   #>  Mode  :character   Median :2021-05-29   Mode  :character   Median : 87328   #>                     Mean   :2021-05-25                      Mean   : 77848   #>                     3rd Qu.:2021-06-26                      3rd Qu.:113704   #>                     Max.   :2021-07-24                      Max.   :145568   #>                                                             NA's   :38       #>   observed       forecast_start       mean            median       #>  Mode :logical   Mode :logical   Min.   :   221   Min.   :   194   #>  FALSE:16        FALSE:50        1st Qu.:  1950   1st Qu.:  1670   #>  TRUE :37        TRUE :3         Median :  8280   Median :  8220   #>                                  Mean   : 44054   Mean   : 43670   #>                                  3rd Qu.:103000   3rd Qu.:102000   #>                                  Max.   :138000   Max.   :137000   #>                                                                    #>        sd               mad                q5              q20         #>  Min.   :   40.4   Min.   :   37.1   Min.   :    33   Min.   :    85   #>  1st Qu.:  508.0   1st Qu.:  442.0   1st Qu.:   980   1st Qu.:  1240   #>  Median : 2050.0   Median : 1190.0   Median :  6580   Median :  7400   #>  Mean   : 7040.5   Mean   : 5987.3   Mean   : 33450   Mean   : 38715   #>  3rd Qu.:14900.0   3rd Qu.:13200.0   3rd Qu.: 78900   3rd Qu.: 91100   #>  Max.   :21200.0   Max.   :18800.0   Max.   :105000   Max.   :122000   #>                                                                        #>       q80              q95              rhat           ess_bulk    #>  Min.   :   253   Min.   :   291   Min.   :0.9990   Min.   :1600   #>  1st Qu.:  2290   1st Qu.:  2970   1st Qu.:1.0000   1st Qu.:1810   #>  Median :  9010   Median : 10200   Median :1.0000   Median :1920   #>  Mean   : 48940   Mean   : 55618   Mean   :0.9999   Mean   :1928   #>  3rd Qu.:113000   3rd Qu.:127000   3rd Qu.:1.0000   3rd Qu.:2050   #>  Max.   :153000   Max.   :172000   Max.   :1.0000   Max.   :2340   #>                                                                    #>     ess_tail    #>  Min.   :1190   #>  1st Qu.:1520   #>  Median :1660   #>  Mean   :1641   #>  3rd Qu.:1760   #>  Max.   :2000   #>                  # case forecast only summary(posterior, type = \"cases\", forecast = TRUE) #>         type       date horizon forecast_start mean median   sd  mad   q5  q20 #>  1: Combined 2021-07-03       1          FALSE 3470   3320  990  830 2160 2710 #>  2: Combined 2021-07-10       2          FALSE 2620   2360 1310 1000 1130 1630 #>  3: Combined 2021-07-17       3          FALSE 2300   1790 1890 1100  529 1050 #>  4: Combined 2021-07-24       4          FALSE 2330   1450 2930 1190  259  673 #>  5:      VOC 2021-06-19       1          FALSE 2100   2050  504  450 1380 1700 #>  6:      VOC 2021-06-26       2          FALSE 1950   1880  505  429 1260 1560 #>  7:      VOC 2021-07-03       3          FALSE 1810   1720  618  524  980 1320 #>  8:      VOC 2021-07-10       4          FALSE 1730   1550  907  696  687 1030 #>  9:      VOC 2021-07-17       5          FALSE 1780   1380 1500  872  395  789 #> 10:      VOC 2021-07-24       6          FALSE 2010   1240 2520 1020  220  572 #> 11:  non-VOC 2021-06-19       1          FALSE 6180   6090 1060  941 4660 5350 #> 12:  non-VOC 2021-06-26       2          FALSE 3180   3120  660  549 2260 2670 #> 13:  non-VOC 2021-07-03       3          FALSE 1660   1590  537  440  938 1240 #> 14:  non-VOC 2021-07-10       4          FALSE  895    790  499  355  352  531 #> 15:  non-VOC 2021-07-17       5          FALSE  514    388  453  259  117  218 #> 16:  non-VOC 2021-07-24       6          FALSE  328    194  456  170   33   85 #>      q80  q95 #>  1: 4130 5280 #>  2: 3380 5150 #>  3: 3090 5790 #>  4: 3150 7380 #>  5: 2450 2970 #>  6: 2290 2800 #>  7: 2240 2970 #>  8: 2290 3400 #>  9: 2400 4580 #> 10: 2740 6400 #> 11: 6930 7930 #> 12: 3630 4330 #> 13: 2000 2640 #> 14: 1170 1790 #> 15:  702 1310 #> 16:  438 1010  # voc fraction summary summary(posterior, type = \"voc_frac\") #>         variable       date type         obs observed forecast_start    mean #>  1:  frac_voc[1] 2021-04-17  VOC 0.001465917     TRUE          FALSE 0.00168 #>  2:  frac_voc[2] 2021-04-24  VOC 0.007085917     TRUE          FALSE 0.00302 #>  3:  frac_voc[3] 2021-05-01  VOC 0.015085025     TRUE          FALSE 0.00542 #>  4:  frac_voc[4] 2021-05-08  VOC 0.019443217     TRUE          FALSE 0.00971 #>  5:  frac_voc[5] 2021-05-15  VOC 0.026459592     TRUE          FALSE 0.01740 #>  6:  frac_voc[6] 2021-05-22  VOC 0.032900194     TRUE          FALSE 0.03090 #>  7:  frac_voc[7] 2021-05-29  VOC 0.038084020     TRUE          FALSE 0.05450 #>  8:  frac_voc[8] 2021-06-05  VOC 0.085600907     TRUE          FALSE 0.09430 #>  9:  frac_voc[9] 2021-06-12  VOC 0.166666667     TRUE           TRUE 0.15800 #> 10: frac_voc[10] 2021-06-19  VOC          NA    FALSE          FALSE 0.25300 #> 11: frac_voc[11] 2021-06-26  VOC          NA    FALSE          FALSE 0.37800 #> 12: frac_voc[12] 2021-07-03  VOC          NA    FALSE          FALSE 0.52000 #> 13: frac_voc[13] 2021-07-10  VOC          NA    FALSE          FALSE 0.65800 #> 14: frac_voc[14] 2021-07-17  VOC          NA    FALSE          FALSE 0.77400 #> 15: frac_voc[15] 2021-07-24  VOC          NA    FALSE          FALSE 0.85800 #>      median       sd      mad      q5     q20     q80     q95  rhat ess_bulk #>  1: 0.00166 0.000226 0.000203 0.00136 0.00150 0.00185 0.00207 1.000     1410 #>  2: 0.00298 0.000352 0.000324 0.00250 0.00273 0.00327 0.00362 1.000     1560 #>  3: 0.00538 0.000572 0.000530 0.00457 0.00495 0.00585 0.00637 1.000     1720 #>  4: 0.00965 0.001000 0.000944 0.00821 0.00891 0.01050 0.01140 1.000     1860 #>  5: 0.01730 0.001900 0.001750 0.01460 0.01590 0.01880 0.02050 1.000     1970 #>  6: 0.03070 0.003790 0.003340 0.02530 0.02800 0.03370 0.03740 1.000     1990 #>  7: 0.05420 0.007570 0.006670 0.04350 0.04840 0.05990 0.06750 1.000     2020 #>  8: 0.09360 0.014600 0.012700 0.07300 0.08280 0.10500 0.11900 0.999     1900 #>  9: 0.15700 0.026000 0.022700 0.12000 0.13800 0.17700 0.20300 1.000     1800 #> 10: 0.25000 0.041700 0.036300 0.19100 0.21900 0.28300 0.32500 1.000     1710 #> 11: 0.37600 0.057800 0.051400 0.29000 0.33000 0.42100 0.47500 1.000     1640 #> 12: 0.52000 0.067800 0.060800 0.41200 0.46500 0.57300 0.63100 1.000     1570 #> 13: 0.66200 0.067500 0.060800 0.54800 0.60500 0.71200 0.76300 1.000     1530 #> 14: 0.77800 0.058100 0.051600 0.67600 0.72900 0.82000 0.86000 1.000     1500 #> 15: 0.86300 0.044800 0.038400 0.78100 0.82500 0.89300 0.92100 1.000     1480 #>     ess_tail #>  1:     1140 #>  2:     1190 #>  3:     1340 #>  4:     1640 #>  5:     1540 #>  6:     1400 #>  7:     1340 #>  8:     1380 #>  9:     1290 #> 10:     1240 #> 11:     1180 #> 12:     1190 #> 13:     1210 #> 14:     1220 #> 15:     1240  # voc advantage summary summary(posterior, type = \"voc_advantage\") #>              variable       date type observed forecast_start     mean   median #>  1:  voc_advantage[1] 2021-04-17  VOC     TRUE          FALSE 1.588493 1.588493 #>  2:  voc_advantage[2] 2021-04-24  VOC     TRUE          FALSE 1.588493 1.588493 #>  3:  voc_advantage[3] 2021-05-01  VOC     TRUE          FALSE 1.588493 1.588493 #>  4:  voc_advantage[4] 2021-05-08  VOC     TRUE          FALSE 1.588493 1.588493 #>  5:  voc_advantage[5] 2021-05-15  VOC     TRUE          FALSE 1.588493 1.588493 #>  6:  voc_advantage[6] 2021-05-22  VOC     TRUE          FALSE 1.588493 1.588493 #>  7:  voc_advantage[7] 2021-05-29  VOC     TRUE          FALSE 1.588493 1.588493 #>  8:  voc_advantage[8] 2021-06-05  VOC     TRUE           TRUE 1.588493 1.588493 #>  9:  voc_advantage[9] 2021-06-12  VOC    FALSE          FALSE 1.588493 1.588493 #> 10: voc_advantage[10] 2021-06-19  VOC    FALSE          FALSE 1.588493 1.588493 #> 11: voc_advantage[11] 2021-06-26  VOC    FALSE          FALSE 1.588493 1.588493 #> 12: voc_advantage[12] 2021-07-03  VOC    FALSE          FALSE 1.588493 1.588493 #> 13: voc_advantage[13] 2021-07-10  VOC    FALSE          FALSE 1.588493 1.588493 #> 14: voc_advantage[14] 2021-07-17  VOC    FALSE          FALSE 1.588493 1.588493 #>         sd    mad     q5      q20      q80     q95 rhat ess_bulk ess_tail #>  1: 0.0308 0.0297 1.5297 1.557595 1.618732 1.65214    1     1270     1250 #>  2: 0.0308 0.0297 1.5297 1.557595 1.618732 1.65214    1     1270     1250 #>  3: 0.0308 0.0297 1.5297 1.557595 1.618732 1.65214    1     1270     1250 #>  4: 0.0308 0.0297 1.5297 1.557595 1.618732 1.65214    1     1270     1250 #>  5: 0.0308 0.0297 1.5297 1.557595 1.618732 1.65214    1     1270     1250 #>  6: 0.0308 0.0297 1.5297 1.557595 1.618732 1.65214    1     1270     1250 #>  7: 0.0308 0.0297 1.5297 1.557595 1.618732 1.65214    1     1270     1250 #>  8: 0.0308 0.0297 1.5297 1.557595 1.618732 1.65214    1     1270     1250 #>  9: 0.0308 0.0297 1.5297 1.557595 1.618732 1.65214    1     1270     1250 #> 10: 0.0308 0.0297 1.5297 1.557595 1.618732 1.65214    1     1270     1250 #> 11: 0.0308 0.0297 1.5297 1.557595 1.618732 1.65214    1     1270     1250 #> 12: 0.0308 0.0297 1.5297 1.557595 1.618732 1.65214    1     1270     1250 #> 13: 0.0308 0.0297 1.5297 1.557595 1.618732 1.65214    1     1270     1250 #> 14: 0.0308 0.0297 1.5297 1.557595 1.618732 1.65214    1     1270     1250  # growth summary summary(posterior, type = \"growth\") #>      variable       date     type observed forecast_start        mean #>  1:  com_r[1] 2021-03-20 Combined     TRUE          FALSE  0.10450000 #>  2:  com_r[2] 2021-03-27 Combined     TRUE          FALSE  0.07935714 #>  3:  com_r[3] 2021-04-03 Combined     TRUE          FALSE  0.05256429 #>  4:  com_r[4] 2021-04-10 Combined     TRUE          FALSE  0.07016429 #>  5:  com_r[5] 2021-04-17 Combined     TRUE          FALSE  0.02867857 #>  6:  com_r[6] 2021-04-24 Combined     TRUE          FALSE -0.05617857 #>  7:  com_r[7] 2021-05-01 Combined     TRUE          FALSE -0.14614286 #>  8:  com_r[8] 2021-05-08 Combined     TRUE          FALSE -0.22628571 #>  9:  com_r[9] 2021-05-15 Combined     TRUE          FALSE -0.28128571 #> 10: com_r[10] 2021-05-22 Combined     TRUE          FALSE -0.33550000 #> 11: com_r[11] 2021-05-29 Combined     TRUE          FALSE -0.34257143 #> 12: com_r[12] 2021-06-05 Combined     TRUE          FALSE -0.35907143 #> 13: com_r[13] 2021-06-12 Combined     TRUE          FALSE -0.39757143 #> 14: com_r[14] 2021-06-19 Combined     TRUE           TRUE -0.34885714 #> 15: com_r[15] 2021-06-26 Combined    FALSE          FALSE -0.29700000 #> 16: com_r[16] 2021-07-03 Combined    FALSE          FALSE -0.24121429 #> 17: com_r[17] 2021-07-10 Combined    FALSE          FALSE -0.19014286 #> 18: com_r[18] 2021-07-17 Combined    FALSE          FALSE -0.15635714 #> 19:  voc_r[1] 2021-04-17      VOC     TRUE          FALSE  0.49028571 #> 20:  voc_r[2] 2021-04-24      VOC     TRUE          FALSE  0.40385714 #> 21:  voc_r[3] 2021-05-01      VOC     TRUE          FALSE  0.31192857 #> 22:  voc_r[4] 2021-05-08      VOC     TRUE          FALSE  0.22864286 #> 23:  voc_r[5] 2021-05-15      VOC     TRUE          FALSE  0.16735714 #> 24:  voc_r[6] 2021-05-22      VOC     TRUE          FALSE  0.10214286 #> 25:  voc_r[7] 2021-05-29      VOC     TRUE          FALSE  0.07613571 #> 26:  voc_r[8] 2021-06-05      VOC     TRUE           TRUE  0.02962143 #> 27:  voc_r[9] 2021-06-12      VOC    FALSE          FALSE -0.05272143 #> 28: voc_r[10] 2021-06-19      VOC    FALSE          FALSE -0.06222857 #> 29: voc_r[11] 2021-06-26      VOC    FALSE          FALSE -0.07613571 #> 30: voc_r[12] 2021-07-03      VOC    FALSE          FALSE -0.08485714 #> 31: voc_r[13] 2021-07-10      VOC    FALSE          FALSE -0.08721429 #> 32: voc_r[14] 2021-07-17      VOC    FALSE          FALSE -0.09192857 #> 33:      r[1] 2021-03-20  non-VOC     TRUE          FALSE  0.10450000 #> 34:      r[2] 2021-03-27  non-VOC     TRUE          FALSE  0.07935714 #> 35:      r[3] 2021-04-03  non-VOC     TRUE          FALSE  0.05256429 #> 36:      r[4] 2021-04-10  non-VOC     TRUE          FALSE  0.07016429 #> 37:      r[5] 2021-04-17  non-VOC     TRUE          FALSE  0.02726429 #> 38:      r[6] 2021-04-24  non-VOC     TRUE          FALSE -0.05869286 #> 39:      r[7] 2021-05-01  non-VOC     TRUE          FALSE -0.15085714 #> 40:      r[8] 2021-05-08  non-VOC     TRUE          FALSE -0.23414286 #> 41:      r[9] 2021-05-15  non-VOC     TRUE          FALSE -0.29542857 #> 42:     r[10] 2021-05-22  non-VOC     TRUE          FALSE -0.36064286 #> 43:     r[11] 2021-05-29  non-VOC     TRUE          FALSE -0.38657143 #> 44:     r[12] 2021-06-05  non-VOC     TRUE           TRUE -0.43292857 #> 45:     r[13] 2021-06-12  non-VOC    FALSE          FALSE -0.51542857 #> 46:     r[14] 2021-06-19  non-VOC    FALSE          FALSE -0.52485714 #> 47:     r[15] 2021-06-26  non-VOC    FALSE          FALSE -0.53900000 #> 48:     r[16] 2021-07-03  non-VOC    FALSE          FALSE -0.54764286 #> 49:     r[17] 2021-07-10  non-VOC    FALSE          FALSE -0.54921429 #> 50:     r[18] 2021-07-17  non-VOC    FALSE          FALSE -0.55471429 #>      variable       date     type observed forecast_start        mean #>          median     sd    mad           q5         q20          q80         q95 #>  1:  0.10607143 0.0762 0.0721  0.006961429  0.05790714  0.151642857  0.20035714 #>  2:  0.08014286 0.0637 0.0569 -0.001367143  0.04250714  0.117071429  0.15635714 #>  3:  0.05704286 0.0713 0.0600 -0.045728571  0.01304286  0.094285714  0.13514286 #>  4:  0.06733571 0.0763 0.0627 -0.027421429  0.02757857  0.113142857  0.17285714 #>  5:  0.02647857 0.0731 0.0633 -0.057357143 -0.01422143  0.071264286  0.12021429 #>  6: -0.05672857 0.0670 0.0583 -0.141428571 -0.09428571 -0.018228571  0.02915000 #>  7: -0.14535714 0.0687 0.0598 -0.236500000 -0.18621429 -0.106857143 -0.05704286 #>  8: -0.22471429 0.0696 0.0595 -0.316642857 -0.26478571 -0.185428571 -0.13671429 #>  9: -0.28128571 0.0717 0.0586 -0.371642857 -0.32214286 -0.241214286 -0.18778571 #> 10: -0.33392857 0.0690 0.0583 -0.427428571 -0.37478571 -0.295428571 -0.25378571 #> 11: -0.34571429 0.0698 0.0592 -0.428214286 -0.38264286 -0.305642857 -0.24750000 #> 12: -0.36300000 0.0703 0.0615 -0.443928571 -0.40071429 -0.318214286 -0.26557143 #> 13: -0.39442857 0.0803 0.0715 -0.507571429 -0.44550000 -0.348071429 -0.30328571 #> 14: -0.34885714 0.1030 0.0966 -0.476928571 -0.41250000 -0.286785714 -0.21921429 #> 15: -0.29542857 0.1710 0.1600 -0.517785714 -0.40150000 -0.190142857 -0.07542857 #> 16: -0.24200000 0.2350 0.2200 -0.540571429 -0.38028571 -0.091928571  0.04635714 #> 17: -0.18935714 0.2840 0.2660 -0.553142857 -0.36378571 -0.004392143  0.16971429 #> 18: -0.15085714 0.3380 0.3070 -0.591642857 -0.35907143  0.046985714  0.26635714 #> 19:  0.48792857 0.0750 0.0665  0.400714286  0.44785714  0.534285714  0.58850000 #> 20:  0.40385714 0.0687 0.0609  0.315071429  0.36378571  0.446285714  0.48871429 #> 21:  0.31192857 0.0725 0.0663  0.215285714  0.26792857  0.357500000  0.40150000 #> 22:  0.23021429 0.0735 0.0678  0.130428571  0.18307143  0.274214286  0.31900000 #> 23:  0.16814286 0.0784 0.0668  0.067964286  0.12021429  0.210571429  0.26950000 #> 24:  0.10371429 0.0733 0.0658  0.005366429  0.05853571  0.146928571  0.18935714 #> 25:  0.07409286 0.0739 0.0640 -0.012650000  0.03182143  0.118642857  0.17600000 #> 26:  0.02757857 0.0724 0.0638 -0.058300000 -0.01272857  0.070242857  0.12571429 #> 27: -0.04957857 0.0802 0.0729 -0.162642857 -0.09900000 -0.003370714  0.04447143 #> 28: -0.06317143 0.1020 0.0955 -0.189357143 -0.12492857 -0.000181500  0.06859286 #> 29: -0.07637143 0.1700 0.1600 -0.293857143 -0.18071429  0.031664286  0.14535714 #> 30: -0.08485714 0.2340 0.2190 -0.388142857 -0.22314286  0.065057143  0.20664286 #> 31: -0.08642857 0.2840 0.2680 -0.454928571 -0.26085714  0.095071429  0.27185714 #> 32: -0.08485714 0.3380 0.3110 -0.528785714 -0.29542857  0.117071429  0.33707143 #> 33:  0.10607143 0.0762 0.0721  0.006961429  0.05790714  0.151642857  0.20035714 #> 34:  0.08014286 0.0637 0.0569 -0.001367143  0.04250714  0.117071429  0.15635714 #> 35:  0.05704286 0.0713 0.0600 -0.045728571  0.01304286  0.094285714  0.13514286 #> 36:  0.06733571 0.0763 0.0627 -0.027421429  0.02757857  0.113142857  0.17285714 #> 37:  0.02498571 0.0731 0.0633 -0.058614286 -0.01563571  0.069850000  0.11864286 #> 38: -0.05908571 0.0670 0.0582 -0.143785714 -0.09664286 -0.020742857  0.02647857 #> 39: -0.15007143 0.0687 0.0597 -0.241214286 -0.19092857 -0.110785714 -0.06160000 #> 40: -0.23335714 0.0697 0.0593 -0.324500000 -0.27264286 -0.193285714 -0.14378571 #> 41: -0.29542857 0.0717 0.0589 -0.385785714 -0.33707143 -0.254571429 -0.20271429 #> 42: -0.35907143 0.0691 0.0583 -0.451000000 -0.39992857 -0.321357143 -0.27735714 #> 43: -0.38971429 0.0703 0.0603 -0.470642857 -0.42664286 -0.347285714 -0.29071429 #> 44: -0.43607143 0.0723 0.0643 -0.520928571 -0.47692857 -0.390500000 -0.33785714 #> 45: -0.51307143 0.0831 0.0758 -0.627785714 -0.56571429 -0.463571429 -0.41564286 #> 46: -0.52642857 0.1070 0.1010 -0.659214286 -0.59007143 -0.460428571 -0.38185714 #> 47: -0.53900000 0.1730 0.1650 -0.762142857 -0.64585714 -0.430571429 -0.31821429 #> 48: -0.54607143 0.2370 0.2230 -0.856428571 -0.68907143 -0.394428571 -0.25378571 #> 49: -0.55157143 0.2860 0.2730 -0.919285714 -0.72521429 -0.366928571 -0.18857143 #> 50: -0.55000000 0.3400 0.3150 -1.005714286 -0.75978571 -0.344142857 -0.13042857 #>          median     sd    mad           q5         q20          q80         q95 #>      rhat ess_bulk ess_tail #>  1: 1.000      950      923 #>  2: 1.000     1530     1550 #>  3: 1.000     1190     1520 #>  4: 1.000     1050     1330 #>  5: 1.000     1540     1530 #>  6: 1.000     1920     1760 #>  7: 1.000     1920     1290 #>  8: 1.000     1640     1330 #>  9: 1.000     1930     1400 #> 10: 1.000     1910     1760 #> 11: 1.000     1760     1560 #> 12: 0.999     1460     1660 #> 13: 1.000     1690     1660 #> 14: 1.000     2140     1790 #> 15: 1.000     1780     1360 #> 16: 1.000     1840     1340 #> 17: 1.000     1930     1400 #> 18: 1.000     1830     1470 #> 19: 1.000     1700     1700 #> 20: 1.000     1880     1820 #> 21: 1.000     1850     1670 #> 22: 1.000     1860     1460 #> 23: 1.000     1660     1480 #> 24: 1.000     1970     1860 #> 25: 1.000     1560     1530 #> 26: 1.000     1420     1660 #> 27: 1.000     1740     1660 #> 28: 1.000     2140     1700 #> 29: 1.000     1790     1460 #> 30: 1.000     1840     1290 #> 31: 1.000     1900     1320 #> 32: 1.000     1800     1540 #> 33: 1.000      950      923 #> 34: 1.000     1530     1550 #> 35: 1.000     1190     1520 #> 36: 1.000     1050     1330 #> 37: 1.000     1540     1590 #> 38: 1.000     1920     1760 #> 39: 1.000     1910     1290 #> 40: 1.000     1640     1350 #> 41: 1.000     1940     1390 #> 42: 1.000     1880     1620 #> 43: 1.000     1830     1540 #> 44: 1.000     1540     1670 #> 45: 1.000     1530     1530 #> 46: 1.000     2110     1640 #> 47: 1.000     1780     1400 #> 48: 1.000     1790     1430 #> 49: 1.000     1850     1390 #> 50: 1.000     1740     1620 #>      rhat ess_bulk ess_tail  # Rt summary summary(posterior, type = \"rt\") #>      variable       date     type observed forecast_start      mean    median #>  1:  com_r[1] 2021-03-20 Combined     TRUE          FALSE 1.1101554 1.1119013 #>  2:  com_r[2] 2021-03-27 Combined     TRUE          FALSE 1.0825909 1.0834418 #>  3:  com_r[3] 2021-04-03 Combined     TRUE          FALSE 1.0539703 1.0587012 #>  4:  com_r[4] 2021-04-10 Combined     TRUE          FALSE 1.0726844 1.0696545 #>  5:  com_r[5] 2021-04-17 Combined     TRUE          FALSE 1.0290938 1.0268322 #>  6:  com_r[6] 2021-04-24 Combined     TRUE          FALSE 0.9453703 0.9448505 #>  7:  com_r[7] 2021-05-01 Combined     TRUE          FALSE 0.8640343 0.8647134 #>  8:  com_r[8] 2021-05-08 Combined     TRUE          FALSE 0.7974902 0.7987444 #>  9:  com_r[9] 2021-05-15 Combined     TRUE          FALSE 0.7548126 0.7548126 #> 10: com_r[10] 2021-05-22 Combined     TRUE          FALSE 0.7149805 0.7161049 #> 11: com_r[11] 2021-05-29 Combined     TRUE          FALSE 0.7099424 0.7077147 #> 12: com_r[12] 2021-06-05 Combined     TRUE          FALSE 0.6983245 0.6955864 #> 13: com_r[13] 2021-06-12 Combined     TRUE          FALSE 0.6719499 0.6740651 #> 14: com_r[14] 2021-06-19 Combined     TRUE           TRUE 0.7054939 0.7054939 #> 15: com_r[15] 2021-06-26 Combined    FALSE          FALSE 0.7430440 0.7442126 #> 16: com_r[16] 2021-07-03 Combined    FALSE          FALSE 0.7856732 0.7850562 #> 17: com_r[17] 2021-07-10 Combined    FALSE          FALSE 0.8268410 0.8274909 #> 18: com_r[18] 2021-07-17 Combined    FALSE          FALSE 0.8552537 0.8599705 #> 19:  voc_r[1] 2021-04-17      VOC     TRUE          FALSE 1.6327827 1.6289385 #> 20:  voc_r[2] 2021-04-24      VOC     TRUE          FALSE 1.4975900 1.4975900 #> 21:  voc_r[3] 2021-05-01      VOC     TRUE          FALSE 1.3660571 1.3660571 #> 22:  voc_r[4] 2021-05-08      VOC     TRUE          FALSE 1.2568931 1.2588697 #> 23:  voc_r[5] 2021-05-15      VOC     TRUE          FALSE 1.1821764 1.1831056 #> 24:  voc_r[6] 2021-05-22      VOC     TRUE          FALSE 1.1075417 1.1092835 #> 25:  voc_r[7] 2021-05-29      VOC     TRUE          FALSE 1.0791090 1.0769068 #> 26:  voc_r[8] 2021-06-05      VOC     TRUE           TRUE 1.0300645 1.0279624 #> 27:  voc_r[9] 2021-06-12      VOC    FALSE          FALSE 0.9486442 0.9516304 #> 28: voc_r[10] 2021-06-19      VOC    FALSE          FALSE 0.9396681 0.9387825 #> 29: voc_r[11] 2021-06-26      VOC    FALSE          FALSE 0.9266904 0.9264720 #> 30: voc_r[12] 2021-07-03      VOC    FALSE          FALSE 0.9186435 0.9186435 #> 31: voc_r[13] 2021-07-10      VOC    FALSE          FALSE 0.9164807 0.9172011 #> 32: voc_r[14] 2021-07-17      VOC    FALSE          FALSE 0.9121703 0.9186435 #> 33:      r[1] 2021-03-20  non-VOC     TRUE          FALSE 1.1101554 1.1119013 #> 34:      r[2] 2021-03-27  non-VOC     TRUE          FALSE 1.0825909 1.0834418 #> 35:      r[3] 2021-04-03  non-VOC     TRUE          FALSE 1.0539703 1.0587012 #> 36:      r[4] 2021-04-10  non-VOC     TRUE          FALSE 1.0726844 1.0696545 #> 37:      r[5] 2021-04-17  non-VOC     TRUE          FALSE 1.0276394 1.0253005 #> 38:      r[6] 2021-04-24  non-VOC     TRUE          FALSE 0.9429964 0.9426260 #> 39:      r[7] 2021-05-01  non-VOC     TRUE          FALSE 0.8599705 0.8606465 #> 40:      r[8] 2021-05-08  non-VOC     TRUE          FALSE 0.7912488 0.7918707 #> 41:      r[9] 2021-05-15  non-VOC     TRUE          FALSE 0.7442126 0.7442126 #> 42:     r[10] 2021-05-22  non-VOC     TRUE          FALSE 0.6972280 0.6983245 #> 43:     r[11] 2021-05-29  non-VOC     TRUE          FALSE 0.6793822 0.6772503 #> 44:     r[12] 2021-06-05  non-VOC     TRUE           TRUE 0.6486068 0.6465715 #> 45:     r[13] 2021-06-12  non-VOC    FALSE          FALSE 0.5972446 0.5986540 #> 46:     r[14] 2021-06-19  non-VOC    FALSE          FALSE 0.5916399 0.5907109 #> 47:     r[15] 2021-06-26  non-VOC    FALSE          FALSE 0.5833313 0.5833313 #> 48:     r[16] 2021-07-03  non-VOC    FALSE          FALSE 0.5783114 0.5792209 #> 49:     r[17] 2021-07-10  non-VOC    FALSE          FALSE 0.5774033 0.5760439 #> 50:     r[18] 2021-07-17  non-VOC    FALSE          FALSE 0.5742363 0.5769498 #>      variable       date     type observed forecast_start      mean    median #>         sd    mad        q5       q20       q80       q95  rhat ess_bulk #>  1: 0.0762 0.0721 1.0069857 1.0596166 1.1637445 1.2218391 1.000      950 #>  2: 0.0637 0.0569 0.9986338 1.0434235 1.1241997 1.1692437 1.000     1530 #>  3: 0.0713 0.0600 0.9553012 1.0131283 1.0988737 1.1447003 1.000     1190 #>  4: 0.0763 0.0627 0.9729511 1.0279624 1.1197919 1.1886963 1.000     1050 #>  5: 0.0731 0.0633 0.9442568 0.9858792 1.0738650 1.1277385 1.000     1540 #>  6: 0.0670 0.0583 0.8681172 0.9100227 0.9819366 1.0295790 1.000     1920 #>  7: 0.0687 0.0598 0.7893859 0.8300957 0.8986540 0.9445536 1.000     1920 #>  8: 0.0696 0.0595 0.7285909 0.7673704 0.8307482 0.8722194 1.000     1640 #>  9: 0.0717 0.0586 0.6896005 0.7245947 0.7856732 0.8287923 1.000     1930 #> 10: 0.0690 0.0583 0.6521840 0.6874366 0.7442126 0.7758580 1.000     1910 #> 11: 0.0698 0.0592 0.6516718 0.6820564 0.7366497 0.7807502 1.000     1760 #> 12: 0.0703 0.0615 0.6415112 0.6698414 0.7274469 0.7667677 0.999     1460 #> 13: 0.0803 0.0715 0.6019557 0.6405039 0.7060484 0.7383881 1.000     1690 #> 14: 0.1030 0.0966 0.6206869 0.6619932 0.7506726 0.8031496 1.000     2140 #> 15: 0.1710 0.1600 0.5958384 0.6693153 0.8268410 0.9273460 1.000     1780 #> 16: 0.2350 0.2200 0.5824153 0.6836660 0.9121703 1.0474484 1.000     1840 #> 17: 0.2840 0.2660 0.5751394 0.6950401 0.9956175 1.1849662 1.000     1930 #> 18: 0.3380 0.3070 0.5534174 0.6983245 1.0481070 1.3052011 1.000     1830 #> 19: 0.0750 0.0665 1.4928907 1.5649551 1.7062291 1.8012845 1.000     1700 #> 20: 0.0687 0.0609 1.3703572 1.4387659 1.5624978 1.6302189 1.000     1880 #> 21: 0.0725 0.0663 1.2402162 1.3072538 1.4297506 1.4940641 1.000     1850 #> 22: 0.0735 0.0678 1.1393166 1.2009002 1.3154967 1.3757513 1.000     1860 #> 23: 0.0784 0.0668 1.0703271 1.1277385 1.2343832 1.3093096 1.000     1660 #> 24: 0.0733 0.0658 1.0053809 1.0602829 1.1582712 1.2084725 1.000     1970 #> 25: 0.0739 0.0640 0.9874297 1.0323331 1.1259677 1.1924381 1.000     1560 #> 26: 0.0724 0.0638 0.9433669 0.9873521 1.0727687 1.1339581 1.000     1420 #> 27: 0.0802 0.0729 0.8498947 0.9057427 0.9966350 1.0454751 1.000     1740 #> 28: 0.1020 0.0955 0.8274909 0.8825599 0.9998185 1.0710001 1.000     2140 #> 29: 0.1700 0.1600 0.7453830 0.8346738 1.0321709 1.1564525 1.000     1790 #> 30: 0.2340 0.2190 0.6783154 0.8000006 1.0672200 1.2295434 1.000     1840 #> 31: 0.2840 0.2680 0.6344933 0.7703910 1.0997374 1.3123995 1.000     1900 #> 32: 0.3380 0.3110 0.5893201 0.7442126 1.1241997 1.4008391 1.000     1800 #> 33: 0.0762 0.0721 1.0069857 1.0596166 1.1637445 1.2218391 1.000      950 #> 34: 0.0637 0.0569 0.9986338 1.0434235 1.1241997 1.1692437 1.000     1530 #> 35: 0.0713 0.0600 0.9553012 1.0131283 1.0988737 1.1447003 1.000     1190 #> 36: 0.0763 0.0627 0.9729511 1.0279624 1.1197919 1.1886963 1.000     1050 #> 37: 0.0731 0.0633 0.9430705 0.9844859 1.0723473 1.1259677 1.000     1540 #> 38: 0.0670 0.0582 0.8660733 0.9078802 0.9794708 1.0268322 1.000     1920 #> 39: 0.0687 0.0597 0.7856732 0.8261916 0.8951305 0.9402589 1.000     1910 #> 40: 0.0697 0.0593 0.7228887 0.7613647 0.8242464 0.8660733 1.000     1640 #> 41: 0.0717 0.0589 0.6799162 0.7138578 0.7752487 0.8165115 1.000     1940 #> 42: 0.0691 0.0583 0.6369908 0.6703679 0.7251642 0.7577838 1.000     1880 #> 43: 0.0703 0.0603 0.6246006 0.6526966 0.7066034 0.7477293 1.000     1830 #> 44: 0.0723 0.0643 0.5939687 0.6206869 0.6767184 0.7132972 1.000     1540 #> 45: 0.0831 0.0758 0.5337724 0.5679543 0.6290331 0.6599159 1.000     1530 #> 46: 0.1070 0.1010 0.5172576 0.5542877 0.6310132 0.6825926 1.000     2110 #> 47: 0.1730 0.1650 0.4666654 0.5242130 0.6501375 0.7274469 1.000     1780 #> 48: 0.2370 0.2230 0.4246761 0.5020420 0.6740651 0.7758580 1.000     1790 #> 49: 0.2860 0.2730 0.3988038 0.4842208 0.6928591 0.8281413 1.000     1850 #> 50: 0.3400 0.3150 0.3657833 0.4677667 0.7088277 0.8777192 1.000     1740 #>         sd    mad        q5       q20       q80       q95  rhat ess_bulk #>     ess_tail #>  1:      923 #>  2:     1550 #>  3:     1520 #>  4:     1330 #>  5:     1530 #>  6:     1760 #>  7:     1290 #>  8:     1330 #>  9:     1400 #> 10:     1760 #> 11:     1560 #> 12:     1660 #> 13:     1660 #> 14:     1790 #> 15:     1360 #> 16:     1340 #> 17:     1400 #> 18:     1470 #> 19:     1700 #> 20:     1820 #> 21:     1670 #> 22:     1460 #> 23:     1480 #> 24:     1860 #> 25:     1530 #> 26:     1660 #> 27:     1660 #> 28:     1700 #> 29:     1460 #> 30:     1290 #> 31:     1320 #> 32:     1540 #> 33:      923 #> 34:     1550 #> 35:     1520 #> 36:     1330 #> 37:     1590 #> 38:     1760 #> 39:     1290 #> 40:     1350 #> 41:     1390 #> 42:     1620 #> 43:     1540 #> 44:     1670 #> 45:     1530 #> 46:     1640 #> 47:     1400 #> 48:     1430 #> 49:     1390 #> 50:     1620 #>     ess_tail  # model parameter summary summary(posterior, type = \"model\") #>             variable                  clean_name exponentiated         mean #> 1: avg_voc_advantage          Average VOC effect         FALSE     0.589000 #> 2:              beta                        Beta         FALSE     0.230000 #> 3:     init_cases[1]               Initial cases         FALSE 89800.000000 #> 4: init_voc_cases[1]           Initial VOC cases         FALSE   222.000000 #> 5:            phi[1] Notification overdispersion         FALSE    95.300000 #> 6:            phi[2]   Sequencing overdispersion         FALSE   191.000000 #> 7:            r_init              Initial growth         FALSE     0.133000 #> 8:           r_scale                 Growth (sd)         FALSE     0.118000 #> 9:           voc_mod          Initial VOC effect          TRUE     1.802185 #>          median       sd      mad           q5          q20          q80 #> 1:     0.589000 3.08e-02 2.97e-02     0.541000     0.564000     0.613000 #> 2:     0.260000 4.08e-01 4.53e-01    -0.466000    -0.151000     0.621000 #> 3: 89600.000000 6.14e+03 5.82e+03 79900.000000 84800.000000 94600.000000 #> 4:   221.000000 2.27e+01 2.16e+01   186.000000   203.000000   240.000000 #> 5:    78.000000 7.42e+01 5.32e+01    21.200000    41.200000   135.000000 #> 6:   160.000000 1.33e+02 9.83e+01    44.500000    92.200000   268.000000 #> 7:     0.135000 7.62e-02 7.21e-02     0.008860     0.073700     0.193000 #> 8:     0.111000 5.58e-02 5.42e-02     0.044000     0.068600     0.161000 #> 9:     1.802185 3.08e-02 2.97e-02     1.717724     1.757689     1.845961 #>             q95 rhat ess_bulk ess_tail #> 1:     0.639000    1     1270     1250 #> 2:     0.846000    1      779      923 #> 3: 99900.000000    1     1360     1340 #> 4:   261.000000    1     1610     1060 #> 5:   231.000000    1      746     1030 #> 6:   443.000000    1     1760     1150 #> 7:     0.255000    1      950      923 #> 8:     0.218000    1      771     1310 #> 9:     1.894585    1     1270     1250  # raw posterior values summary(posterior, type = \"raw\") #>         variable      mean    median     sd    mad        q5       q20 #>   1:        lp__ -3360.000 -3360.000 4.6500 4.5500 -3.37e+03 -3.36e+03 #>   2:      r_init     0.133     0.135 0.0762 0.0721  8.86e-03  7.37e-02 #>   3:     r_scale     0.118     0.111 0.0558 0.0542  4.40e-02  6.86e-02 #>   4:        beta     0.230     0.260 0.4080 0.4530 -4.66e-01 -1.51e-01 #>   5:      eta[1]    -0.285    -0.308 0.8170 0.7920 -1.59e+00 -9.71e-01 #>  ---                                                                   #> 278: log_lik[11]   -14.700   -14.600 0.6930 0.6230 -1.60e+01 -1.52e+01 #> 279: log_lik[12]   -13.800   -13.800 0.5790 0.5440 -1.48e+01 -1.43e+01 #> 280: log_lik[13]   -13.500   -13.400 0.8670 0.7770 -1.51e+01 -1.41e+01 #> 281: log_lik[14]    -8.160    -8.070 0.5980 0.4910 -9.20e+00 -8.56e+00 #> 282: log_lik[15]    -7.730    -7.590 0.6970 0.5320 -9.01e+00 -8.15e+00 #>            q80       q95 rhat ess_bulk ess_tail #>   1: -3360.000 -3350.000 1.01      529      816 #>   2:     0.193     0.255 1.00      950      923 #>   3:     0.161     0.218 1.00      771     1310 #>   4:     0.621     0.846 1.00      779      923 #>   5:     0.380     1.050 1.00     1130     1060 #>  ---                                            #> 278:   -14.100   -13.700 1.00     1300     1500 #> 279:   -13.400   -13.000 1.01      915     1160 #> 280:   -12.700   -12.300 1.00     1220     1490 #> 281:    -7.690    -7.420 1.00     1070     1250 #> 282:    -7.200    -6.880 1.00      910     1320"},{"path":"epiforecasts.io/forecast.vocs/reference/unnest_posterior.html","id":null,"dir":"Reference","previous_headings":"","what":"Unnest posterior estimates from a forecast data.frame — unnest_posterior","title":"Unnest posterior estimates from a forecast data.frame — unnest_posterior","text":"Unnest posterior predictions forecasts output produced forecast() (multiple combined calls) dropping diagnostic fitting variables process.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/unnest_posterior.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Unnest posterior estimates from a forecast data.frame — unnest_posterior","text":"","code":"unnest_posterior(forecasts, target = \"posterior\")"},{"path":"epiforecasts.io/forecast.vocs/reference/unnest_posterior.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Unnest posterior estimates from a forecast data.frame — unnest_posterior","text":"forecasts data frame forecasts produced forecast(). target character string indicating list outputs unnest.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/unnest_posterior.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Unnest posterior estimates from a forecast data.frame — unnest_posterior","text":"unnested data.frame posterior estimates variables produced forecast().","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/unnest_posterior.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Unnest posterior estimates from a forecast data.frame — unnest_posterior","text":"","code":"if (FALSE) { # interactive() library(data.table) options(mc.cores = 4) dt <- forecast(   germany_covid19_delta_obs,   forecast_date = as.Date(\"2021-06-12\"),   max_treedepth = 15, adapt_delta = 0.99 )  # unnest posterior predictions posterior <- unnest_posterior(dt) posterior  # unnest forecasts forecasts <- unnest_posterior(dt, target = \"forecast\") forecasts }"},{"path":"epiforecasts.io/forecast.vocs/reference/update_obs_availability.html","id":null,"dir":"Reference","previous_headings":"","what":"Update observations based on availability — update_obs_availability","title":"Update observations based on availability — update_obs_availability","text":"Update observations based availability","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/update_obs_availability.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update observations based on availability — update_obs_availability","text":"","code":"update_obs_availability(obs, cases_lag, seq_lag)"},{"path":"epiforecasts.io/forecast.vocs/reference/update_obs_availability.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update observations based on availability — update_obs_availability","text":"obs data.frame following variables: date, cases, seq_voc, seq_total, cases_available, seq_available. seq_available case_available must uniquely define data rows rows can duplicated based data availability. data format allows multiple versions case sequence data given date different reporting dates. important using package evaluation settings real-time data sources liable updated new data becomes available. See germany_covid19_delta_obs example supported data set. cases_lag Number weeks case data takes reported. Defaults alter input data. seq_lag Number weeks sequence data takes reported. Defaults alter input data.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/update_obs_availability.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Update observations based on availability — update_obs_availability","text":"data.frame observations updated case sequence availability dates.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/update_obs_availability.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Update observations based on availability — update_obs_availability","text":"","code":"update_obs_availability(   germany_covid19_delta_obs,   cases_lag = 2, seq_lag = 3 ) #>            date location_name location  cases cases_available seq_total seq_voc #>   1: 2021-03-20       Germany       DE  87328      2021-04-03        NA      NA #>   2: 2021-03-27       Germany       DE 109442      2021-04-10        NA      NA #>   3: 2021-04-03       Germany       DE 117965      2021-04-17        NA      NA #>   4: 2021-04-10       Germany       DE 107223      2021-04-24        NA      NA #>   5: 2021-04-17       Germany       DE 142664      2021-05-01      3757       3 #>  ---                                                                            #> 110: 2021-08-14       Germany       DE  28646      2021-08-28        NA      NA #> 111: 2021-08-21       Germany       DE  44862      2021-09-04        NA      NA #> 112: 2021-08-28       Germany       DE  62984      2021-09-11        NA      NA #> 113: 2021-09-04       Germany       DE  71057      2021-09-18        NA      NA #> 114: 2021-09-11       Germany       DE  75107      2021-09-25        NA      NA #>         share_voc seq_available #>   1:           NA          <NA> #>   2:           NA          <NA> #>   3:           NA          <NA> #>   4:           NA          <NA> #>   5: 0.0007985094    2021-05-08 #>  ---                            #> 110:           NA          <NA> #> 111:           NA          <NA> #> 112:           NA          <NA> #> 113:           NA          <NA> #> 114:           NA          <NA>"},{"path":"epiforecasts.io/forecast.vocs/reference/update_voc_label.html","id":null,"dir":"Reference","previous_headings":"","what":"Label the Variant of Concern — update_voc_label","title":"Label the Variant of Concern — update_voc_label","text":"Assign custom label variant concern output fv_tidy_posterior().","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/update_voc_label.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Label the Variant of Concern — update_voc_label","text":"","code":"update_voc_label(posterior, label, target_label = \"VOC\")"},{"path":"epiforecasts.io/forecast.vocs/reference/update_voc_label.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Label the Variant of Concern — update_voc_label","text":"posterior dataframe posterior output produced fv_tidy_posterior(). forecast dates extracted data value_type == \"cases\" must present. label Character string  indicating new label use variant concern. target_label character string defaulting \"VOC\". Indicates current label variant concern.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/update_voc_label.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Label the Variant of Concern — update_voc_label","text":"list data frames returned `fv_tidy_posterior() updated labels.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/update_voc_label.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Label the Variant of Concern — update_voc_label","text":"","code":"p <- fv_example(strains = 2, type = \"posterior\") p <- update_voc_label(p, \"Delta\") summary(p, type = \"cases\") #>               variable       date      type    obs observed forecast_start #>  1:       sim_cases[1] 2021-03-20  Combined  87328     TRUE          FALSE #>  2:       sim_cases[2] 2021-03-27  Combined 109442     TRUE          FALSE #>  3:       sim_cases[3] 2021-04-03  Combined 117965     TRUE          FALSE #>  4:       sim_cases[4] 2021-04-10  Combined 107223     TRUE          FALSE #>  5:       sim_cases[5] 2021-04-17  Combined 142664     TRUE          FALSE #>  6:       sim_cases[6] 2021-04-24  Combined 145568     TRUE          FALSE #>  7:       sim_cases[7] 2021-05-01  Combined 131887     TRUE          FALSE #>  8:       sim_cases[8] 2021-05-08  Combined 107141     TRUE          FALSE #>  9:       sim_cases[9] 2021-05-15  Combined  77261     TRUE          FALSE #> 10:      sim_cases[10] 2021-05-22  Combined  57310     TRUE          FALSE #> 11:      sim_cases[11] 2021-05-29  Combined  33052     TRUE          FALSE #> 12:      sim_cases[12] 2021-06-05  Combined  22631     TRUE          FALSE #> 13:      sim_cases[13] 2021-06-12  Combined  15553     TRUE          FALSE #> 14:      sim_cases[14] 2021-06-19  Combined   7659     TRUE          FALSE #> 15:      sim_cases[15] 2021-06-26  Combined   5033     TRUE           TRUE #> 16:      sim_cases[16] 2021-07-03  Combined     NA    FALSE          FALSE #> 17:      sim_cases[17] 2021-07-10  Combined     NA    FALSE          FALSE #> 18:      sim_cases[18] 2021-07-17  Combined     NA    FALSE          FALSE #> 19:      sim_cases[19] 2021-07-24  Combined     NA    FALSE          FALSE #> 20:   sim_voc_cases[1] 2021-04-17     Delta     NA     TRUE          FALSE #> 21:   sim_voc_cases[2] 2021-04-24     Delta     NA     TRUE          FALSE #> 22:   sim_voc_cases[3] 2021-05-01     Delta     NA     TRUE          FALSE #> 23:   sim_voc_cases[4] 2021-05-08     Delta     NA     TRUE          FALSE #> 24:   sim_voc_cases[5] 2021-05-15     Delta     NA     TRUE          FALSE #> 25:   sim_voc_cases[6] 2021-05-22     Delta     NA     TRUE          FALSE #> 26:   sim_voc_cases[7] 2021-05-29     Delta     NA     TRUE          FALSE #> 27:   sim_voc_cases[8] 2021-06-05     Delta     NA     TRUE          FALSE #> 28:   sim_voc_cases[9] 2021-06-12     Delta     NA     TRUE           TRUE #> 29:  sim_voc_cases[10] 2021-06-19     Delta     NA    FALSE          FALSE #> 30:  sim_voc_cases[11] 2021-06-26     Delta     NA    FALSE          FALSE #> 31:  sim_voc_cases[12] 2021-07-03     Delta     NA    FALSE          FALSE #> 32:  sim_voc_cases[13] 2021-07-10     Delta     NA    FALSE          FALSE #> 33:  sim_voc_cases[14] 2021-07-17     Delta     NA    FALSE          FALSE #> 34:  sim_voc_cases[15] 2021-07-24     Delta     NA    FALSE          FALSE #> 35:  sim_nvoc_cases[1] 2021-03-20 non-Delta     NA     TRUE          FALSE #> 36:  sim_nvoc_cases[2] 2021-03-27 non-Delta     NA     TRUE          FALSE #> 37:  sim_nvoc_cases[3] 2021-04-03 non-Delta     NA     TRUE          FALSE #> 38:  sim_nvoc_cases[4] 2021-04-10 non-Delta     NA     TRUE          FALSE #> 39:  sim_nvoc_cases[5] 2021-04-17 non-Delta     NA     TRUE          FALSE #> 40:  sim_nvoc_cases[6] 2021-04-24 non-Delta     NA     TRUE          FALSE #> 41:  sim_nvoc_cases[7] 2021-05-01 non-Delta     NA     TRUE          FALSE #> 42:  sim_nvoc_cases[8] 2021-05-08 non-Delta     NA     TRUE          FALSE #> 43:  sim_nvoc_cases[9] 2021-05-15 non-Delta     NA     TRUE          FALSE #> 44: sim_nvoc_cases[10] 2021-05-22 non-Delta     NA     TRUE          FALSE #> 45: sim_nvoc_cases[11] 2021-05-29 non-Delta     NA     TRUE          FALSE #> 46: sim_nvoc_cases[12] 2021-06-05 non-Delta     NA     TRUE          FALSE #> 47: sim_nvoc_cases[13] 2021-06-12 non-Delta     NA     TRUE           TRUE #> 48: sim_nvoc_cases[14] 2021-06-19 non-Delta     NA    FALSE          FALSE #> 49: sim_nvoc_cases[15] 2021-06-26 non-Delta     NA    FALSE          FALSE #> 50: sim_nvoc_cases[16] 2021-07-03 non-Delta     NA    FALSE          FALSE #> 51: sim_nvoc_cases[17] 2021-07-10 non-Delta     NA    FALSE          FALSE #> 52: sim_nvoc_cases[18] 2021-07-17 non-Delta     NA    FALSE          FALSE #> 53: sim_nvoc_cases[19] 2021-07-24 non-Delta     NA    FALSE          FALSE #>               variable       date      type    obs observed forecast_start #>       mean median      sd     mad     q5    q20    q80    q95  rhat ess_bulk #>  1:  89700  89100 13800.0 12200.0  68400  79200 100000 112000 1.000     1630 #>  2: 103000 102000 14900.0 13200.0  78900  91100 113000 127000 1.000     2030 #>  3: 114000 113000 17800.0 14700.0  87900 101000 126000 144000 1.000     1810 #>  4: 122000 121000 19200.0 16200.0  92500 107000 135000 154000 1.000     1820 #>  5: 133000 133000 20800.0 18000.0 101000 117000 149000 168000 1.000     1830 #>  6: 138000 137000 21200.0 18800.0 105000 122000 153000 172000 1.000     1860 #>  7: 129000 128000 20000.0 17400.0  97200 114000 143000 161000 1.000     1980 #>  8: 107000 106000 16700.0 13800.0  82300  94100 118000 133000 1.000     2230 #>  9:  79700  78900 12500.0 10700.0  61200  70400  88700 100000 0.999     2100 #> 10:  55400  54900  8090.0  7300.0  42600  49000  61500  69300 1.000     2090 #> 11:  35800  35500  5490.0  4620.0  27700  31800  39600  44700 1.000     2180 #> 12:  22900  22700  3420.0  2880.0  17800  20300  25200  28400 1.000     2050 #> 13:  14200  14100  2050.0  1700.0  11100  12700  15600  17500 1.000     1830 #> 14:   8280   8220  1170.0   971.0   6580   7400   9010  10200 1.000     1950 #> 15:   5130   5040   833.0   678.0   3990   4510   5670   6590 1.000     1960 #> 16:   3470   3320   990.0   830.0   2160   2710   4130   5280 1.000     1800 #> 17:   2620   2360  1310.0  1000.0   1130   1630   3380   5150 1.000     1850 #> 18:   2300   1790  1890.0  1100.0    529   1050   3090   5790 1.000     1970 #> 19:   2330   1450  2930.0  1190.0    259    673   3150   7380 1.000     1970 #> 20:    221    219    40.4    37.1    160    189    253    291 1.000     2000 #> 21:    417    411    82.6    72.6    301    353    475    559 0.999     1600 #> 22:    692    684   125.0   114.0    501    594    785    902 1.000     1780 #> 23:   1030   1010   203.0   177.0    735    871   1170   1380 1.000     2050 #> 24:   1380   1360   266.0   245.0    991   1160   1580   1840 0.999     2340 #> 25:   1710   1670   355.0   320.0   1200   1430   1970   2330 1.000     2230 #> 26:   1960   1910   437.0   372.0   1360   1630   2260   2690 1.000     2100 #> 27:   2150   2110   478.0   434.0   1480   1770   2510   3010 1.000     1770 #> 28:   2230   2180   508.0   442.0   1490   1840   2600   3120 1.000     1680 #> 29:   2100   2050   504.0   450.0   1380   1700   2450   2970 1.000     1790 #> 30:   1950   1880   505.0   429.0   1260   1560   2290   2800 1.000     1650 #> 31:   1810   1720   618.0   524.0    980   1320   2240   2970 1.000     1750 #> 32:   1730   1550   907.0   696.0    687   1030   2290   3400 1.000     1790 #> 33:   1780   1380  1500.0   872.0    395    789   2400   4580 1.000     2010 #> 34:   2010   1240  2520.0  1020.0    220    572   2740   6400 1.000     2000 #> 35:  89700  89100 13800.0 12200.0  68400  79200 100000 112000 1.000     1630 #> 36: 103000 102000 14900.0 13200.0  78900  91100 113000 127000 1.000     2030 #> 37: 114000 113000 17800.0 14700.0  87900 101000 126000 144000 1.000     1810 #> 38: 122000 121000 19200.0 16200.0  92500 107000 135000 154000 1.000     1820 #> 39: 133000 133000 20800.0 18100.0 101000 117000 148000 168000 1.000     1830 #> 40: 137000 137000 21200.0 18800.0 105000 121000 153000 171000 1.000     1860 #> 41: 128000 127000 20000.0 17400.0  96500 113000 142000 160000 1.000     1980 #> 42: 106000 105000 16600.0 13700.0  81300  93100 117000 132000 1.000     2230 #> 43:  78300  77500 12400.0 10700.0  60000  69100  87200  99000 0.999     2100 #> 44:  53600  53200  8020.0  7210.0  41000  47400  59800  67400 1.000     2090 #> 45:  33800  33500  5370.0  4500.0  25700  29800  37600  42500 1.000     2170 #> 46:  20700  20500  3320.0  2780.0  15800  18200  23000  26200 1.000     2080 #> 47:  12000  11800  1950.0  1650.0   9100  10500  13300  15100 1.000     1890 #> 48:   6180   6090  1060.0   941.0   4660   5350   6930   7930 1.000     1910 #> 49:   3180   3120   660.0   549.0   2260   2670   3630   4330 1.000     2010 #> 50:   1660   1590   537.0   440.0    938   1240   2000   2640 1.000     1920 #> 51:    895    790   499.0   355.0    352    531   1170   1790 1.000     1810 #> 52:    514    388   453.0   259.0    117    218    702   1310 1.000     1810 #> 53:    328    194   456.0   170.0     33     85    438   1010 1.000     1750 #>       mean median      sd     mad     q5    q20    q80    q95  rhat ess_bulk #>     ess_tail #>  1:     1660 #>  2:     1750 #>  3:     1630 #>  4:     1580 #>  5:     1610 #>  6:     1520 #>  7:     1660 #>  8:     1980 #>  9:     1860 #> 10:     1810 #> 11:     1820 #> 12:     1820 #> 13:     1710 #> 14:     1720 #> 15:     1440 #> 16:     1540 #> 17:     1300 #> 18:     1460 #> 19:     1490 #> 20:     1760 #> 21:     1480 #> 22:     1660 #> 23:     1880 #> 24:     2000 #> 25:     1700 #> 26:     1820 #> 27:     1320 #> 28:     1190 #> 29:     1570 #> 30:     1270 #> 31:     1660 #> 32:     1500 #> 33:     1350 #> 34:     1480 #> 35:     1660 #> 36:     1750 #> 37:     1630 #> 38:     1580 #> 39:     1610 #> 40:     1520 #> 41:     1660 #> 42:     1970 #> 43:     1860 #> 44:     1820 #> 45:     1870 #> 46:     1790 #> 47:     1750 #> 48:     1670 #> 49:     1530 #> 50:     1290 #> 51:     1590 #> 52:     1700 #> 53:     1730 #>     ess_tail summary(p, type = \"model\") #>             variable                  clean_name exponentiated         mean #> 1: avg_voc_advantage        Average Delta effect         FALSE     0.589000 #> 2:              beta                        Beta         FALSE     0.230000 #> 3:     init_cases[1]               Initial cases         FALSE 89800.000000 #> 4: init_voc_cases[1]         Initial Delta cases         FALSE   222.000000 #> 5:            phi[1] Notification overdispersion         FALSE    95.300000 #> 6:            phi[2]   Sequencing overdispersion         FALSE   191.000000 #> 7:            r_init              Initial growth         FALSE     0.133000 #> 8:           r_scale                 Growth (sd)         FALSE     0.118000 #> 9:           voc_mod        Initial Delta effect          TRUE     1.802185 #>          median       sd      mad           q5          q20          q80 #> 1:     0.589000 3.08e-02 2.97e-02     0.541000     0.564000     0.613000 #> 2:     0.260000 4.08e-01 4.53e-01    -0.466000    -0.151000     0.621000 #> 3: 89600.000000 6.14e+03 5.82e+03 79900.000000 84800.000000 94600.000000 #> 4:   221.000000 2.27e+01 2.16e+01   186.000000   203.000000   240.000000 #> 5:    78.000000 7.42e+01 5.32e+01    21.200000    41.200000   135.000000 #> 6:   160.000000 1.33e+02 9.83e+01    44.500000    92.200000   268.000000 #> 7:     0.135000 7.62e-02 7.21e-02     0.008860     0.073700     0.193000 #> 8:     0.111000 5.58e-02 5.42e-02     0.044000     0.068600     0.161000 #> 9:     1.802185 3.08e-02 2.97e-02     1.717724     1.757689     1.845961 #>             q95 rhat ess_bulk ess_tail #> 1:     0.639000    1     1270     1250 #> 2:     0.846000    1      779      923 #> 3: 99900.000000    1     1360     1340 #> 4:   261.000000    1     1610     1060 #> 5:   231.000000    1      746     1030 #> 6:   443.000000    1     1760     1150 #> 7:     0.255000    1      950      923 #> 8:     0.218000    1      771     1310 #> 9:     1.894585    1     1270     1250"},{"path":[]},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"model-0-0-9","dir":"Changelog","previous_headings":"Features","what":"Model","title":"forecast.vocs 0.0.9","text":"Switched “pooled” model use vector autoregression set renamed resulting control parameter “correlated”. test data performs substantially better old model readily extensible. Added ability (via r_step argument) set step width AR(1) process growth rate. means fitting daily data, example, growth rate can specified change weekly. increases tractability model hence reducing run-times may match underlying epidemiology better settings. Added increased prior flexibility users able alter prior AR(1) process approximate random walk (via beta) specify expected amount correlation strains “correlated” model (lkj). Update internal model configuration non-vectorised case AR(1) process can easily generalised AR(P) process. Thisfunctionality yet exposed users via control interface. Added new functionality delay case reporting sequence reporting probability mass function. Thisfunctionality yet exposed users via control interface. Made piecewise constant growth rates backwards looking last available data rather forward looking previously case. means forecasts made using full window data estimate growth rate also means precise dates steps change new data added. Add new argument r_forecast controls growth rate allowed vary outside range data. Add optional adjustment periodic case data based random effect. can used account day week month effects.","code":""},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"evaluation-and-visualisation-0-0-9","dir":"Changelog","previous_headings":"Features","what":"Evaluation and visualisation","title":"forecast.vocs 0.0.9","text":"Added optional integration scoringutils package streamline evaluating forecasts using proper scoring rules. Added example using fv_score_forecast() README. Generalise plot labels. Updated plot_cases() use log 2 scaling rather log scaling. Updated default scaling logit `plot_voc_frac(). Added new plotting argument plot functions - central. controls whether central estimates (.e mean median) shown. change default visualisations now shown automatically setting central = TRUE user can elect add estimates plot.","code":""},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"bug-fixes-0-0-9","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"forecast.vocs 0.0.9","text":"Fixed bug output forecast() function prior specifications initial growth variant scaling partially included. Tighten overly permissive argument passing S3 methods allowed users pass arguments didn’t exist. lead bugs user code hard spot. Beta-binomial output log likelihood (fitting) corrected use overdispersion sequences cases. Fixed bug summary.fv_forecast() failed return diagnostics.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"features-0-0-8","dir":"Changelog","previous_headings":"","what":"Features","title":"forecast.vocs 0.0.8","text":"Adds summary plot methods forecast() fv_tidy_posterior() interfaces lower level functions. Adds new summary variable transmission advantage VOC output fv_tidy_posterior(). Adds new plotting function plot_voc_advantage() extract plot . Adds plot_voc_advantage() plot_posterior additional output. Added new timespan argument allows custom date processing. allows use data non-weekly spaces (though spacing must constant across sequences case counts). Updates example data include new output. Adds tests new functionality.","code":""},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"breaking-changes-0-0-8","dir":"Changelog","previous_headings":"","what":"Breaking changes","title":"forecast.vocs 0.0.8","text":"variant fraction label renamed voc_frac voc due new variant advantage label. plot_voc() renamed plot_voc_frac() due new plot_voc_advantage() function.","code":""},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"bug-fixes-0-0-8","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"forecast.vocs 0.0.8","text":"Spell checks documentation. Refactors model description improve clarity. Fixed issue voc_label passed forecast() lower level methods hence new labels specifying VOC assigned.","code":""},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"forecastvocs-007","dir":"Changelog","previous_headings":"","what":"forecast.vocs 0.0.7","title":"forecast.vocs 0.0.7","text":"generalised forecast family accept custom data forecast extraction functions. Split generic posterior summary function specific posterior summary function. Catch data passing bugs forecast new tests Add argument passing fv_posterior allow used forecast. Added runtime diagnostic fit output. Fixes generate_obs() work strain models adds unit tests function functionality. Fixed package building r-universe.","code":""},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"forecastvocs-006","dir":"Changelog","previous_headings":"","what":"forecast.vocs 0.0.6","title":"forecast.vocs 0.0.6","text":"Add vignette defining package models. Updated documentation use preferably. Add basic tests modelling functions. Add tests postprocessing functions. Add tests plotting functions. Add tests forecasting functions. Add new utility, fv_example() can used load built example output scripts. used postprocessing plotting examples well testing plotting static input. Model specific functions (.e load_model, summarise_posterior, functions prefixed stan_ renamed fv_ prefix). Added ability pass model specific functions forecast function wrappers enabling users supply custom models make use remaining package functionality.","code":""},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"forecastvocs-005","dir":"Changelog","previous_headings":"","what":"forecast.vocs 0.0.5","title":"forecast.vocs 0.0.5","text":"Overhaul package documentation examples. Enforce proper printing data.table output. Add structure documentation website.","code":""},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"forecastvocs-004","dir":"Changelog","previous_headings":"","what":"forecast.vocs 0.0.4","title":"forecast.vocs 0.0.4","text":"Improve robustness plotting observations forecast dates can faceted using variables used plotting estimates/forecasts. Added option scale growth rates reproduction numbers. allows crude scaling generation time etc increasing interpretability estimates. Surfaced options plotting allow increased generalisability.","code":""},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"forecastvocs-003","dir":"Changelog","previous_headings":"","what":"forecast.vocs 0.0.3","title":"forecast.vocs 0.0.3","text":"fv_tidy_posterior now returns single data.table downstream processing plotting functions updated use forma forecast updated use framework forecast_dt forecast_dt removed. combine_posteriors_dt removed favour unnest_posterior. allows output forecast (wrappers produce data.table) easily untested used without additional changes downstream plotting processing functions. add update_voc_label part workflow forecast exposed user facing argument control label. Fixes bug specifying number initial weeks without sequence data. resulting weeks without sequence data assumed start likely causing model fitting issues. Added check functions make sure input observation arguments correct format. Added unit tests preprocessing functions. Custom VOC labelling now feature fv_tidy_posterior() (hence forecast()) well standalone option via update_voc_label().","code":""},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"infrastructure-0-0-3","dir":"Changelog","previous_headings":"","what":"Infrastructure","title":"forecast.vocs 0.0.3","text":"Switched installing cmdstanr GitHub.","code":""},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"forecastvocs-002","dir":"Changelog","previous_headings":"","what":"forecast.vocs 0.0.2","title":"forecast.vocs 0.0.2","text":"Package generalised variants concern beyond Delta. Tooling added forecast across dates scenarios. Tooling added prior posterior predictive checks. Tooling added simulating data model (useful simulation-based calibration amongst things). Example data updated use snapshots COVID-19 notifications Delta sequences sourced RKI (Germany).","code":""},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"forecastvocs-001","dir":"Changelog","previous_headings":"","what":"forecast.vocs 0.0.1","title":"forecast.vocs 0.0.1","text":"Extracted package code analysis code started work generalising use case. Added initial version forecasting model 1 2 strains optional independence, partial pooling, scaled relationships.","code":""}]
