[{"path":[]},{"path":"epiforecasts.io/forecast.vocs/CODE_OF_CONDUCT.html","id":"our-pledge","dir":"","previous_headings":"","what":"Our Pledge","title":"Contributor Covenant Code of Conduct","text":"members, contributors, leaders pledge make participation community harassment-free experience everyone, regardless age, body size, visible invisible disability, ethnicity, sex characteristics, gender identity expression, level experience, education, socio-economic status, nationality, personal appearance, race, religion, sexual identity orientation. pledge act interact ways contribute open, welcoming, diverse, inclusive, healthy community.","code":""},{"path":"epiforecasts.io/forecast.vocs/CODE_OF_CONDUCT.html","id":"our-standards","dir":"","previous_headings":"","what":"Our Standards","title":"Contributor Covenant Code of Conduct","text":"Examples behavior contributes positive environment community include: Demonstrating empathy kindness toward people respectful differing opinions, viewpoints, experiences Giving gracefully accepting constructive feedback Accepting responsibility apologizing affected mistakes, learning experience Focusing best just us individuals, overall community Examples unacceptable behavior include: use sexualized language imagery, sexual attention advances kind Trolling, insulting derogatory comments, personal political attacks Public private harassment Publishing others’ private information, physical email address, without explicit permission conduct reasonably considered inappropriate professional setting","code":""},{"path":"epiforecasts.io/forecast.vocs/CODE_OF_CONDUCT.html","id":"enforcement-responsibilities","dir":"","previous_headings":"","what":"Enforcement Responsibilities","title":"Contributor Covenant Code of Conduct","text":"Community leaders responsible clarifying enforcing standards acceptable behavior take appropriate fair corrective action response behavior deem inappropriate, threatening, offensive, harmful. Community leaders right responsibility remove, edit, reject comments, commits, code, wiki edits, issues, contributions aligned Code Conduct, communicate reasons moderation decisions appropriate.","code":""},{"path":"epiforecasts.io/forecast.vocs/CODE_OF_CONDUCT.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"Contributor Covenant Code of Conduct","text":"Code Conduct applies within community spaces, also applies individual officially representing community public spaces. Examples representing community include using official e-mail address, posting via official social media account, acting appointed representative online offline event.","code":""},{"path":"epiforecasts.io/forecast.vocs/CODE_OF_CONDUCT.html","id":"enforcement","dir":"","previous_headings":"","what":"Enforcement","title":"Contributor Covenant Code of Conduct","text":"Instances abusive, harassing, otherwise unacceptable behavior may reported community leaders responsible enforcement [INSERT CONTACT METHOD]. complaints reviewed investigated promptly fairly. community leaders obligated respect privacy security reporter incident.","code":""},{"path":"epiforecasts.io/forecast.vocs/CODE_OF_CONDUCT.html","id":"enforcement-guidelines","dir":"","previous_headings":"","what":"Enforcement Guidelines","title":"Contributor Covenant Code of Conduct","text":"Community leaders follow Community Impact Guidelines determining consequences action deem violation Code Conduct:","code":""},{"path":"epiforecasts.io/forecast.vocs/CODE_OF_CONDUCT.html","id":"1-correction","dir":"","previous_headings":"Enforcement Guidelines","what":"1. Correction","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Use inappropriate language behavior deemed unprofessional unwelcome community. Consequence: private, written warning community leaders, providing clarity around nature violation explanation behavior inappropriate. public apology may requested.","code":""},{"path":"epiforecasts.io/forecast.vocs/CODE_OF_CONDUCT.html","id":"2-warning","dir":"","previous_headings":"Enforcement Guidelines","what":"2. Warning","title":"Contributor Covenant Code of Conduct","text":"Community Impact: violation single incident series actions. Consequence: warning consequences continued behavior. interaction people involved, including unsolicited interaction enforcing Code Conduct, specified period time. includes avoiding interactions community spaces well external channels like social media. Violating terms may lead temporary permanent ban.","code":""},{"path":"epiforecasts.io/forecast.vocs/CODE_OF_CONDUCT.html","id":"3-temporary-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"3. Temporary Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: serious violation community standards, including sustained inappropriate behavior. Consequence: temporary ban sort interaction public communication community specified period time. public private interaction people involved, including unsolicited interaction enforcing Code Conduct, allowed period. Violating terms may lead permanent ban.","code":""},{"path":"epiforecasts.io/forecast.vocs/CODE_OF_CONDUCT.html","id":"4-permanent-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"4. Permanent Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Demonstrating pattern violation community standards, including sustained inappropriate behavior, harassment individual, aggression toward disparagement classes individuals. Consequence: permanent ban sort public interaction within community.","code":""},{"path":"epiforecasts.io/forecast.vocs/CODE_OF_CONDUCT.html","id":"attribution","dir":"","previous_headings":"","what":"Attribution","title":"Contributor Covenant Code of Conduct","text":"Code Conduct adapted Contributor Covenant, version 2.0, available https://www.contributor-covenant.org/version/2/0/ code_of_conduct.html. Community Impact Guidelines inspired Mozilla’s code conduct enforcement ladder. answers common questions code conduct, see FAQ https://www.contributor-covenant.org/faq. Translations available https:// www.contributor-covenant.org/translations.","code":""},{"path":"epiforecasts.io/forecast.vocs/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2021 forecast.vocs authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"epiforecasts.io/forecast.vocs/articles/model-definitions.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"Model definitions","text":"package currently supports two models various options. baseline single strain model two strain model flexible variable dynamics. share underlying structure expected notifications assumed product past expected notifications, exponentiated time-varying term. term modelled instances differenced autoregressive process signal lag term. two strain model process can either modelled jointly variants, correlated process, independently. default assumed vary inline timestep data can altered speed computation improve sample performance. Observed cases estimated expected cases assuming either negative binomial Poisson observation model. two strain model variant concern positive samples estimated using Beta-binomial binomial observation model. Detailed model definitions given . Prior values given represent package defaults can, generally , altered user based domain specific knowledge.","code":""},{"path":"epiforecasts.io/forecast.vocs/articles/model-definitions.html","id":"single-strain","dir":"Articles","previous_headings":"","what":"Single strain","title":"Model definitions","text":"model mean (\\(\\lambda_t\\)) reported cases (\\(C_t\\)) order 1 autoregressive (AR(P)) process time unit (\\(t\\)). model initialised assuming initial reported cases representative small amount error (2.5%) \\(t \\lt P\\). \\[\\begin{align}   \\lambda_t &\\sim \\text{LogNormal}\\left(\\log C_t , 0.025 \\times \\log C_t \\right),\\ t \\leq P \\\\   \\lambda_t &= \\text{exp}\\left(r_t\\right) \\sum_{p = 1}^{P} \\alpha_p  \\lambda_{t-p},\\ t \\gt P   \\end{align}\\] \\(r_t\\) can interpreted growth rate exponential \\(r_t\\) effective reproduction number (\\(R_t\\)) assuming mean generation time equal scaling rate used (see documentation scale_r ?forecast()). \\(r_t\\) modelled piecewise constant differenced AR(1) process, \\[\\begin{align}   r_1 &\\sim \\text{Normal}\\left(0, 0.25 \\right) \\\\   r_t &= r_{t-1} + \\epsilon_t  \\\\   \\epsilon_1 &= \\eta_1 \\\\   \\epsilon_t &= \\beta \\epsilon_{t-1} + \\eta_t \\end{align}\\] , \\[\\begin{align}   \\eta_t &\\sim \\text{Normal}\\left(0, \\sigma \\right) \\\\   \\sigma &\\sim \\text{Normal}\\left(0, 0.2 \\right) \\\\   \\beta &\\sim \\text{Normal}\\left(0, 0.5 \\right) \\end{align}\\] assume negative binomial observation model overdispersion \\(\\phi_c\\) reported cases (\\(C_t\\)), \\[\\begin{align}   C_{t} &\\sim \\text{NegBinomial}\\left(\\lambda_t, \\phi_c\\right) \\\\   \\frac{1}{\\sqrt{\\phi_c}} &\\sim \\text{Normal}(0, 0.5)  \\end{align}\\] \\(\\sigma\\), \\(\\frac{1}{\\sqrt{phi_c}}\\) truncated greater 0 \\(\\beta\\) truncated -1 1. Optionally Poisson observation model may instead used (see documentation overdispersion ?forecast()). stan code model available can loaded R using following code,","code":"library(forecast.vocs) readLines(fv_model(strains = 1, compile = FALSE))"},{"path":"epiforecasts.io/forecast.vocs/articles/model-definitions.html","id":"two-strain","dir":"Articles","previous_headings":"","what":"Two strain","title":"Model definitions","text":"model strain dynamics using single strain model starting point addition strain specific AR(P) case model beta binomial (optionally binomial) observation process sequence data. variant concerns growth rate modelled either fixed scaling non-variant concern growth rate, independent AR(1) process, vector autoregression framework correlated AR(1) process. last formulation described detail along modifications required define two formulations. Parameters related variant concern (VoC) given \\(\\delta\\) superscript parameters related non-VoC cases given \\(o\\) superscript. Mean reported cases defined using AR(1) process log scale strain combined overall mean reported cases. \\[\\begin{align}   \\lambda_t &\\sim \\text{LogNormal}\\left(\\log C_t , 0.025 \\times \\log C_t \\right) ,\\ t \\leq P\\\\   \\lambda^{\\delta}_t &\\sim \\text{LogNormal}\\left(\\log C^{\\delta}_t , 0.025 \\times \\log C^{\\delta}_t \\right),\\ t \\leq P \\\\   \\lambda^{o}_t &= \\lambda_t - \\lambda^{\\delta}_t,\\ t \\leq P \\\\   \\lambda^{\\delta}_t &= \\text{exp}\\left(r^{\\delta}_t\\right) \\sum_{p = 1}^{P} \\alpha^{\\delta}_p  \\lambda^{\\delta}_{t-p},\\ t \\gt P \\\\   \\lambda^{o}_t &= \\text{exp}\\left(r^{o}_t\\right) \\sum_{p = 1}^{P} \\alpha^{o}_p  \\lambda^{o}_{t-p}, t \\gt P   \\\\   \\lambda_t &= \\lambda^{\\delta}_t + \\lambda^{o}_t \\end{align}\\] \\(C^{\\delta}_0\\) derived calculating mean proportion cases VoC first time point using overall number reported cases, number sequenced cases, number sequences positive VoC. growth rate VoC non-VoC cases (\\(r^{o, \\delta}_t\\)) modelled differenced AR(1) processes now combined variant specific modifier (\\(s^{o, \\delta}_0\\)) growth variant sequences first reported (\\(t_{seq}\\)), correlation structure time strain varying error terms (\\(\\eta^{o, \\delta}\\)). \\[\\begin{align}   r^{o}_1 &\\sim \\text{Normal}\\left(0, 0.25 \\right),\\\\   r^{\\delta}_{t_{seq}} &= r^{o}_{t_{seq}} + s^{\\delta} \\\\   r^{o, \\delta}_t &= r^{o, \\delta}_{t-1} + \\epsilon^{o, \\delta}_t  \\\\   \\epsilon^{o, \\delta}_0 &= \\eta^{o, \\delta}_0 \\\\   \\epsilon^{o, \\delta}_t &= \\beta \\epsilon^{o, \\delta}_{t-1} + \\eta^{o, \\delta}_t \\end{align}\\] , \\[\\begin{align}   s^{\\beta} &\\sim \\text{Normal}(0, 0.5)  \\\\   \\eta^{o, \\delta}_t &\\sim \\text{MVN}\\left(0, \\boldsymbol \\Sigma \\right) \\\\   \\beta &\\sim \\text{Normal}\\left(0, 0.5 \\right) \\end{align}\\] \\(\\boldsymbol \\Sigma\\) \\(2 \\times 2\\) covariance matrix decompose computational stability diagonal matrix containing variant specific scale parameters (\\(\\boldsymbol \\Delta\\)) symmetric correlation matrix (\\(\\boldsymbol \\Omega\\)) follows,[1] \\[\\begin{align}   \\boldsymbol \\Sigma &= \\boldsymbol \\Delta \\boldsymbol \\Omega \\boldsymbol \\Delta \\\\   \\boldsymbol \\Delta &=  \\left[ {\\begin{array}{cc}                             \\sigma^o & 0 \\\\                             0& \\sigma^{\\delta} \\\\                                 \\end{array} } \\right] \\\\   \\boldsymbol \\Omega &\\sim \\left[ {\\begin{array}{cc}                             1 & \\omega \\\\                             \\omega & 1 \\\\                               \\end{array} } \\right] \\\\   \\sigma^{o, \\delta} &\\sim \\text{Normal}\\left(0, 0.2 \\right) \\end{align}\\] \\(\\boldsymbol \\Omega\\) Lewandowski-Kurowicka-Joe (LKJ) prior \\(\\omega\\) controls prior expectation correlation variants (\\(\\omega = 1\\) resulting uniform prior correlations, \\(\\omega \\lt 1\\) placing weight larger correlations $1 placing weight small amounts correlations). default set \\(\\omega = 0.5\\) giving weight correlations variants dynamics. top correlated strain dynamic model forecast.vocs also offers two options represent extremes correlated model. first assumes strains evolve independent differenced AR(1) growth rates scaling factor (s^{}) linking . second assumes strains growth rates completely correlated time (.e governed single AR(1) differenced process) differ based scaling factor (\\(s^{\\delta}\\)). See documentation variant_relationship ?forecast() details.  assume negative binomial observation model overdispersion \\(\\phi_c\\) reported cases (\\(C_t\\)) single strain model, \\[\\begin{align}   C_{t} &\\sim \\text{NegBinomial}\\left(\\lambda_t, \\phi_c\\right) \\\\   \\frac{1}{\\sqrt{\\phi_c}} &\\sim \\text{Normal}(0, 0.5)  \\end{align}\\] \\(\\sigma\\), \\(\\frac{1}{\\sqrt{phi_c}}\\) truncated greater 0 \\(\\beta\\) truncated -1 1. Poisson observation model may instead used (see documentation overdispersion ?forecast()). Finally, mean proportion samples VoC (\\(p_t\\)) estimated using mean reported cases VoC overall mean reported cases. \\[\\begin{equation}    p_t = \\frac{\\lambda^{\\delta}_t}{\\lambda_t} \\end{equation}\\] assume beta binomial observation model number sequences (\\(N_t\\)) positive (\\(P_t\\)) VoC overdispersion \\(\\phi_s\\). \\[\\begin{align}   P_{t} &\\sim \\mathrm{BetaBinomial}\\left(N_t, p_t \\phi_s, (1 - p_t) \\phi_s\\right) \\\\   \\frac{1}{\\sqrt{\\phi_s}} &\\sim \\text{Normal}(0, 0.5)  \\end{align}\\] \\(\\sigma^{o, \\delta}\\), \\(\\frac{1}{\\sqrt{\\phi_s}}\\) truncated greater 0. binomial observation model also available (see documentation overdispersion ?forecast()). stan code model available can loaded R using following code,","code":"library(forecast.vocs) readLines(fv_model(strains = 2, compile = FALSE))"},{"path":"epiforecasts.io/forecast.vocs/articles/model-definitions.html","id":"summary-statistics","dir":"Articles","previous_headings":"","what":"Summary statistics","title":"Model definitions","text":"well posterior predictions forecasts notifications variant variant concern proportion models also return several summary statistics may useful drawing inferences underlying transmission dynamics. include log scale growth rate (\\(g^{o, \\delta}_t\\)), instantaneous effective reproduction number (\\(R^{o, \\delta}_t\\)), transmission advantage variant concern (\\(A_t\\)). calculated follows: \\[\\begin{align}   g^{o, \\delta}_t &= T_s r^{o, \\delta}_t \\\\   R^{o, \\delta}_t &= \\text{exp}\\left(T_s r^{o, \\delta}_t\\right) \\\\   A_t &= \\text{exp}\\left(T_s \\left(r^{\\delta}_t - r^{o}_t \\right)\\right)\\\\ \\end{align}\\] \\(T_s\\) user set scaling parameter defines timespan summary metrics apply dependent time step data. can set using scale_r defaults 1 returns summary statistics scaled timestep data. Depending setup model used summary measures less related epidemiological definitions. particular, adding weighting past expected cases complex simple lag may cause interpretation issues.","code":""},{"path":"epiforecasts.io/forecast.vocs/articles/model-definitions.html","id":"implementation","dir":"Articles","previous_headings":"","what":"Implementation","title":"Model definitions","text":"models implemented stan using cmdstanr defaults altered[1,2]. Due complexity posterior likely increasing adapt_delta may required mitigate potential bias posterior estimates.[3] forecast.vocs incorporates additional functionality written R[4] enable plotting forecasts posterior predictions, summarising forecasts, scoring using scoringutils[5]. functionality modular allowing users extend alter underlying model whilst continuing use package framework.","code":""},{"path":"epiforecasts.io/forecast.vocs/articles/model-definitions.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Model definitions","text":"1. Team, S. D. (2021). Stan modeling language users guide reference manual, 2.28.1. 2. Gabry, J., & Češnovar, R. (2021). Cmdstanr: R interface ’cmdstan’. 3. Betancourt, M. (2017). Diagnosing biased inference divergences. Stan Case Studies, 4. https://mc-stan.org/users/documentation/case-studies/divergences_and_bias.html 4. R Core Team. (2019). R: language environment statistical computing. R Foundation Statistical Computing. https://www.R-project.org/ 5. Bosse, N. (2020). Scoringutils: collection proper scoring rules metrics assess predictions. https://github.com/epiforecasts/scoringutils","code":""},{"path":"epiforecasts.io/forecast.vocs/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Sam Abbott. Author, maintainer.","code":""},{"path":"epiforecasts.io/forecast.vocs/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Sam Abbott (2021). forecast.vocs: Forecast case sequence notifications using variant concern strain dynamics,  DOI: 10.5281/zenodo.5559016","code":"@Article{,   title = {forecast.vocs: Forecast case and sequence notifications using variant of concern strain dynamics},   author = {Sam Abbott},   journal = {Zenodo},   year = {2021},   doi = {10.5281/zenodo.5559016}, }"},{"path":"epiforecasts.io/forecast.vocs/index.html","id":"forecast-case-and-sequence-notifications-using-variant-of-concern-strain-dynamics","dir":"","previous_headings":"","what":"Forecast Case and Sequence Notifications using Variant of Concern\n    Strain Dynamics","title":"Forecast Case and Sequence Notifications using Variant of Concern\n    Strain Dynamics","text":"Contains models tools produce short-term forecasts case sequence notifications assuming circulation either one two variants. Tools also provided allow evaluation use sequence data short-term forecasts real-world settings user generated scenarios.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/index.html","id":"installing-the-package","dir":"","previous_headings":"Installation","what":"Installing the package","title":"Forecast Case and Sequence Notifications using Variant of Concern\n    Strain Dynamics","text":"Install stable development version package : Install unstable development GitHub using following,","code":"install.packages(\"forecast.vocs\", repos = \"https://epiforecasts.r-universe.dev\") remotes::install_github(\"epiforecasts/forecast.vocs\", dependencies = TRUE)"},{"path":"epiforecasts.io/forecast.vocs/index.html","id":"installing-cmdstan","dir":"","previous_headings":"Installation","what":"Installing CmdStan","title":"Forecast Case and Sequence Notifications using Variant of Concern\n    Strain Dynamics","text":"don’t already CmdStan installed , addition installing forecast.vocs, also necessary install CmdStan using CmdStanR’s install_cmdstan() function enable model fitting forecast.vocs. suitable C++ toolchain also required. Instructions provided Getting started CmdStanR vignette. See CmdStanR documentation details support.","code":"cmdstanr::install_cmdstan()"},{"path":"epiforecasts.io/forecast.vocs/index.html","id":"quick-start","dir":"","previous_headings":"","what":"Quick start","title":"Forecast Case and Sequence Notifications using Variant of Concern\n    Strain Dynamics","text":"quick start uses data Germany includes COVID-19 notifications sequences sequences either positive negative Delta variant. shows produce forecasts one two strain model 19th June 2021 latest available data estimated approximately 7% COVID-19 positive Delta variant. Note estimated growth rates reproduction numbers shown rescaled using assumed generation time 5.5 days weakly informative prior centred around Delta 50% transmissible non-Delta cases used.","code":"library(forecast.vocs) options(mc.cores = 4)  obs <- filter_by_availability(   germany_covid19_delta_obs,   date = as.Date(\"2021-06-19\") ) obs #>           date location_name location  cases cases_available seq_total seq_voc #>  1: 2021-03-20       Germany       DE  87328      2021-03-20        NA      NA #>  2: 2021-03-27       Germany       DE 109442      2021-03-27        NA      NA #>  3: 2021-04-03       Germany       DE 117965      2021-04-03        NA      NA #>  4: 2021-04-10       Germany       DE 107223      2021-04-10        NA      NA #>  5: 2021-04-17       Germany       DE 142664      2021-04-17      4072       6 #>  6: 2021-04-24       Germany       DE 145568      2021-04-24      4500      32 #>  7: 2021-05-01       Germany       DE 131887      2021-05-01      3607      55 #>  8: 2021-05-08       Germany       DE 107141      2021-05-08      4491      86 #>  9: 2021-05-15       Germany       DE  77261      2021-05-15      3443      92 #> 10: 2021-05-22       Germany       DE  57310      2021-05-22      3392     114 #> 11: 2021-05-29       Germany       DE  33052      2021-05-29      2258      89 #> 12: 2021-06-05       Germany       DE  22631      2021-06-05      1136      75 #> 13: 2021-06-12       Germany       DE  15553      2021-06-12        NA      NA #> 14: 2021-06-19       Germany       DE   7659      2021-06-19        NA      NA #>       share_voc seq_available #>  1:          NA          <NA> #>  2:          NA          <NA> #>  3:          NA          <NA> #>  4:          NA          <NA> #>  5: 0.001473477    2021-06-16 #>  6: 0.007111111    2021-06-16 #>  7: 0.015248129    2021-06-16 #>  8: 0.019149410    2021-06-16 #>  9: 0.026720883    2021-06-16 #> 10: 0.033608491    2021-06-16 #> 11: 0.039415412    2021-06-16 #> 12: 0.066021127    2021-06-16 #> 13:          NA    2021-07-29 #> 14:          NA    2021-07-29  current_obs <- latest_obs(germany_covid19_delta_obs)"},{"path":"epiforecasts.io/forecast.vocs/index.html","id":"forecast-all-in-one","dir":"","previous_headings":"Quick start","what":"Forecast all-in-one","title":"Forecast Case and Sequence Notifications using Variant of Concern\n    Strain Dynamics","text":"Run forecast one two strain models (optionally just one ) using forecast() function. provides wrapper around package tooling initialise, fit, summarise forecasts. Multiple forecasts can performed efficiently across dates scenarios using forecast_across_dates() forecast_across_scenarios(). Summarised posterior forecast estimates can directly extracted output using included summary() method. Alternatively, complete summarised posterior can extracted using following (also summary() plot() options make exploring results easier). See documentation details. Plot posterior prediction cases single strain model (“Overall”), two strain model (“Combined”), unobserved estimates strain.  Plot posterior prediction fraction cases Delta variant two strain model.  Plot posterior estimate growth rate mean generation time COVID-19 cases (assumed 5.5 days).  Plot posterior estimate effective reproduction number Delta non-Delta cases.  Plot estimated transmission advantage Delta vs non-Delta time. Note model correlated variant growth rates used meaning difference variants may vary time (potentially suitable imports present variant greater immune escape baseline). likely growth advantage constant time consider fixed scaling model. variants likely circulating independent populations consider independent variant model. See documentation model definition vignette details.  Alternatively list plots sensible defaults can produced using following. potentially useful optional integration scoringutils package also provided streamline scoring forecasts using proper scoring rules. See documentation scoringutils package simple example calculate average scores single two strain models single Forecast","code":"forecasts <- forecast(obs,   strains = c(1, 2), voc_scale = c(0.4, 0.2),   voc_label = \"Delta\", scale_r = 5.5 / 7,   adapt_delta = 0.99, max_treedepth = 15,   refresh = 0, show_messages = FALSE ) #> Running MCMC with 4 parallel chains... #>  #> Chain 1 finished in 16.0 seconds. #> Chain 4 finished in 16.4 seconds. #> Chain 2 finished in 16.9 seconds. #> Chain 3 finished in 17.1 seconds. #>  #> All 4 chains finished successfully. #> Mean chain execution time: 16.6 seconds. #> Total execution time: 17.3 seconds. #> Running MCMC with 4 parallel chains... #>  #> Chain 1 finished in 67.6 seconds. #> Chain 2 finished in 70.6 seconds. #> Chain 3 finished in 82.2 seconds. #> Chain 4 finished in 110.9 seconds. #>  #> All 4 chains finished successfully. #> Mean chain execution time: 82.8 seconds. #> Total execution time: 111.0 seconds. forecasts #>    id forecast_date strains overdispersion variant_relationship  r_init #> 1:  0    2021-06-19       1           TRUE           correlated 0, 0.25 #> 2:  0    2021-06-19       2           TRUE           correlated 0, 0.25 #>    voc_scale error               fit       data  fit_args samples max_rhat #> 1:  0.4, 0.2       <CmdStanMCMC[31]> <list[26]> <list[5]>    4000     1.01 #> 2:  0.4, 0.2       <CmdStanMCMC[31]> <list[26]> <list[5]>    4000     1.00 #>    divergent_transitions per_divergent_transitions max_treedepth #> 1:                     5                   0.00125            10 #> 2:                     0                   0.00000            11 #>    no_at_max_treedepth per_at_max_treedepth  time              posterior #> 1:                  82              0.02050  17.3 <fv_posterior[148x20]> #> 2:                 473              0.11825 111.0 <fv_posterior[456x20]> #>                 forecast #> 1: <fv_posterior[12x13]> #> 2: <fv_posterior[60x13]> summary(forecasts, target = \"posterior\", type = \"all\") plot(forecasts, current_obs) plot(forecasts, current_obs, type = \"voc_frac\", voc_label = \"Delta variant\") plot(forecasts, type = \"growth\") plot(forecasts, type = \"rt\") plot(forecasts, type = \"voc_advantage\") plot(forecasts, current_obs, type = \"all\", voc_label = \"Delta variant\") library(scoringutils) #> Note: The definition of the weighted interval score has slightly changed in version 0.1.5. If you want to use the old definition, use the argument `count_median_twice = TRUE` in the function `eval_forecasts()` library(knitr)  pp_forecasts <- summary(forecasts, target = \"forecast\", type = \"cases\") scores <- fv_score_forecast(pp_forecasts, current_obs, summarise_by = \"strains\") kable(scores)"},{"path":"epiforecasts.io/forecast.vocs/index.html","id":"step-by-step-forecast","dir":"","previous_headings":"Quick start","what":"Step by step forecast","title":"Forecast Case and Sequence Notifications using Variant of Concern\n    Strain Dynamics","text":"Rather using --one forecast() function individual package functions can used produce forecast follows. forecasts produced forecast() function summary plots estimates can produced using summary(), plot() methods. example case forecasts can returned using following,","code":"dt <- fv_as_data_list(obs, horizon = 4)  model <- fv_model(strains = 2)  inits <- fv_inits(dt, strains = 2)  fit <- fv_sample(   data = dt, model = model, init = inits,   voc_scale = c(0.4, 0.2),   adapt_delta = 0.99, max_treedepth = 15,   refresh = 0, show_messages = FALSE )  posterior <- fv_tidy_posterior(fit, voc_label = \"Delta\", scale_r = 5.5 / 7) summary(posterior, type = \"cases\", forecast = TRUE)"},{"path":"epiforecasts.io/forecast.vocs/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Forecast Case and Sequence Notifications using Variant of Concern\n    Strain Dynamics","text":"using forecast.vocs work please consider citing using following,","code":"#>  #> To cite forecast.vocs in publications use: #>  #>   Sam Abbott (2021). forecast.vocs: Forecast case and sequence #>   notifications using variant of concern strain dynamics, DOI: #>   10.5281/zenodo.5559016 #>  #> A BibTeX entry for LaTeX users is #>  #>   @Article{, #>     title = {forecast.vocs: Forecast case and sequence notifications using variant of concern strain dynamics}, #>     author = {Sam Abbott}, #>     journal = {Zenodo}, #>     year = {2021}, #>     doi = {10.5281/zenodo.5559016}, #>   }"},{"path":"epiforecasts.io/forecast.vocs/index.html","id":"how-to-make-a-bug-report-or-feature-request","dir":"","previous_headings":"","what":"How to make a bug report or feature request","title":"Forecast Case and Sequence Notifications using Variant of Concern\n    Strain Dynamics","text":"Please briefly describe problem output expect issue. question, please don’t open issue. Instead, ask Q page.","code":""},{"path":"epiforecasts.io/forecast.vocs/index.html","id":"contributing","dir":"","previous_headings":"","what":"Contributing","title":"Forecast Case and Sequence Notifications using Variant of Concern\n    Strain Dynamics","text":"welcome contributions new contributors! particularly appreciate help priority problems issues. Please check add issues, /add pull request.","code":""},{"path":"epiforecasts.io/forecast.vocs/index.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"Forecast Case and Sequence Notifications using Variant of Concern\n    Strain Dynamics","text":"Please note forecast.vocs project released Contributor Code Conduct. contributing project, agree abide terms.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/add_forecast_dates.html","id":null,"dir":"Reference","previous_headings":"","what":"Add the forecast dates to a plot — add_forecast_dates","title":"Add the forecast dates to a plot — add_forecast_dates","text":"Add forecast dates plot","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/add_forecast_dates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add the forecast dates to a plot — add_forecast_dates","text":"","code":"add_forecast_dates(plot, forecast_dates = NULL)"},{"path":"epiforecasts.io/forecast.vocs/reference/add_forecast_dates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add the forecast dates to a plot — add_forecast_dates","text":"plot ggplot2 object forecast_dates data.frame format produced extract_forecast_dates() (least date variable Data unavailable variable)). Specifies date availability add plots. May contain faceting variables.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/add_forecast_dates.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add the forecast dates to a plot — add_forecast_dates","text":"ggplot2 plot dates data unavailability added.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/bp_launch_shinystan.html","id":null,"dir":"Reference","previous_headings":"","what":"Launch shinystan — bp_launch_shinystan","title":"Launch shinystan — bp_launch_shinystan","text":"Launch shinystan interactive tool stan model evaluation","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/bp_launch_shinystan.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Launch shinystan — bp_launch_shinystan","text":"","code":"bp_launch_shinystan(fit)"},{"path":"epiforecasts.io/forecast.vocs/reference/bp_launch_shinystan.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Launch shinystan — bp_launch_shinystan","text":"fit List output returned fv_sample().","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/bp_launch_shinystan.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Launch shinystan — bp_launch_shinystan","text":"","code":"if (FALSE) { # interactive() obs <- filter_by_availability(   germany_covid19_delta_obs,   date = as.Date(\"2021-06-12\") )  dt <- fv_as_data_list(obs) inits <- fv_inits(dt) fit <- fv_sample(dt, init = inits, adapt_delta = 0.99, max_treedepth = 15) bp_launch_shinystan(fit) }"},{"path":"epiforecasts.io/forecast.vocs/reference/check_dataframe.html","id":null,"dir":"Reference","previous_headings":"","what":"Check a data.frame — check_dataframe","title":"Check a data.frame — check_dataframe","text":"Check data.frame","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/check_dataframe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check a data.frame — check_dataframe","text":"","code":"check_dataframe(dataframe, req_vars, req_types, rows)"},{"path":"epiforecasts.io/forecast.vocs/reference/check_dataframe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check a data.frame — check_dataframe","text":"dataframe data.frame check. req_vars character vector variables required. req_types character vector types required variable. rows Integer specifying number rows data.frame .","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/check_observations.html","id":null,"dir":"Reference","previous_headings":"","what":"Check observations are in the correct format — check_observations","title":"Check observations are in the correct format — check_observations","text":"Check observations correct format","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/check_observations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check observations are in the correct format — check_observations","text":"","code":"check_observations(obs)"},{"path":"epiforecasts.io/forecast.vocs/reference/check_observations.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check observations are in the correct format — check_observations","text":"obs data.frame following variables: date, cases, seq_voc, seq_total, cases_available, seq_available. seq_available case_available must uniquely define data rows rows can duplicated based data availability. data format allows multiple versions case sequence data given date different reporting dates. important using package evaluation settings real-time data sources liable updated new data becomes available. See germany_covid19_delta_obs example supported data set.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/check_observations.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check observations are in the correct format — check_observations","text":"","code":"obs <- latest_obs(germany_covid19_delta_obs) check_observations(obs)"},{"path":"epiforecasts.io/forecast.vocs/reference/check_param.html","id":null,"dir":"Reference","previous_headings":"","what":"Check a parameter is the correct type and length — check_param","title":"Check a parameter is the correct type and length — check_param","text":"Check parameter correct type length","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/check_param.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check a parameter is the correct type and length — check_param","text":"","code":"check_param(param, name = \"param\", type = \"numeric\", length)"},{"path":"epiforecasts.io/forecast.vocs/reference/check_param.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check a parameter is the correct type and length — check_param","text":"param parameter check format . name character string naming variable check. type character string identifying allowed parameter type (must type .type function except Date). length Numeric, allowed length variable. Defaults allowed length.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/check_quantiles.html","id":null,"dir":"Reference","previous_headings":"","what":"Check Quantiles Required are Present — check_quantiles","title":"Check Quantiles Required are Present — check_quantiles","text":"Check Quantiles Required Present","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/check_quantiles.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check Quantiles Required are Present — check_quantiles","text":"","code":"check_quantiles(posterior, req_probs = c(0.5, 0.95, 0.2, 0.8))"},{"path":"epiforecasts.io/forecast.vocs/reference/check_quantiles.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check Quantiles Required are Present — check_quantiles","text":"posterior dataframe containing quantiles identified using q5 naming scheme. req_probs numeric vector required probabilities.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/convert_to_stanfit.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert to stanfit object — convert_to_stanfit","title":"Convert to stanfit object — convert_to_stanfit","text":"Convert stanfit object","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/convert_to_stanfit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert to stanfit object — convert_to_stanfit","text":"","code":"convert_to_stanfit(fit)"},{"path":"epiforecasts.io/forecast.vocs/reference/convert_to_stanfit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert to stanfit object — convert_to_stanfit","text":"fit List output returned fv_sample().","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/convert_to_stanfit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert to stanfit object — convert_to_stanfit","text":"model fit stanfit object","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/convert_to_stanfit.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert to stanfit object — convert_to_stanfit","text":"","code":"if (FALSE) { # interactive() obs <- filter_by_availability(   germany_covid19_delta_obs,   date = as.Date(\"2021-06-12\"), ) dt <- fv_as_data_list(obs) inits <- fv_inits(dt) fit <- fv_sample(dt, init = inits, adapt_delta = 0.99, max_treedepth = 15) convert_to_stanfit(fit) }"},{"path":"epiforecasts.io/forecast.vocs/reference/define_scenarios.html","id":null,"dir":"Reference","previous_headings":"","what":"Define data availability scenarios — define_scenarios","title":"Define data availability scenarios — define_scenarios","text":"Define data availability scenarios","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/define_scenarios.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Define data availability scenarios — define_scenarios","text":"","code":"define_scenarios(   seq_lag = 0:3,   seq_samples = seq(1, by = -0.25, length.out = 4),   voc_scale = list(c(0, 0.5)) )"},{"path":"epiforecasts.io/forecast.vocs/reference/define_scenarios.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Define data availability scenarios — define_scenarios","text":"seq_lag number weeks sequences lag date. Default test 0 3 weeks lag. seq_samples Fraction samples include (deterministic scaling). default test samples 25% samples 25% increments. voc_scale list mean standard  deviations use inform prior additional transmissibility VOC variant. default uninformed prior knowledge prior (0, 0.5). adjusted growth (0.74, 0.1).","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/define_scenarios.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Define data availability scenarios — define_scenarios","text":"data frame scenario definitions ids","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/define_scenarios.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Define data availability scenarios — define_scenarios","text":"","code":"define_scenarios() #>     id seq_lag seq_samples voc_scale #>  1:  1       0        1.00   0.0,0.5 #>  2:  2       0        0.75   0.0,0.5 #>  3:  3       0        0.50   0.0,0.5 #>  4:  4       0        0.25   0.0,0.5 #>  5:  5       1        1.00   0.0,0.5 #>  6:  6       1        0.75   0.0,0.5 #>  7:  7       1        0.50   0.0,0.5 #>  8:  8       1        0.25   0.0,0.5 #>  9:  9       2        1.00   0.0,0.5 #> 10: 10       2        0.75   0.0,0.5 #> 11: 11       2        0.50   0.0,0.5 #> 12: 12       2        0.25   0.0,0.5 #> 13: 13       3        1.00   0.0,0.5 #> 14: 14       3        0.75   0.0,0.5 #> 15: 15       3        0.50   0.0,0.5 #> 16: 16       3        0.25   0.0,0.5"},{"path":"epiforecasts.io/forecast.vocs/reference/extract_draws.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract posterior draws — extract_draws","title":"Extract posterior draws — extract_draws","text":"Extract posterior draws","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/extract_draws.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract posterior draws — extract_draws","text":"","code":"extract_draws(fit, ...)"},{"path":"epiforecasts.io/forecast.vocs/reference/extract_draws.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract posterior draws — extract_draws","text":"fit list produced fv_sample(). ... Additional parameters passed cmdstanr::draws()","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/extract_draws.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract posterior draws — extract_draws","text":"cmdstanr::draws() object posterior package.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/extract_draws.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract posterior draws — extract_draws","text":"","code":"if (FALSE) { # interactive() obs <- filter_by_availability(   germany_covid19_delta_obs,   date = as.Date(\"2021-06-12\"), ) dt <- fv_as_data_list(obs) inits <- fv_inits(dt) fit <- fv_sample(dt, init = inits, adapt_delta = 0.99, max_treedepth = 15) extract_draws(fit) }"},{"path":"epiforecasts.io/forecast.vocs/reference/extract_forecast_dates.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract forecast dates — extract_forecast_dates","title":"Extract forecast dates — extract_forecast_dates","text":"Extract forecast dates based availability case sequence data.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/extract_forecast_dates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract forecast dates — extract_forecast_dates","text":"","code":"extract_forecast_dates(posterior)"},{"path":"epiforecasts.io/forecast.vocs/reference/extract_forecast_dates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract forecast dates — extract_forecast_dates","text":"posterior dataframe posterior output produced fv_tidy_posterior(). forecast dates extracted data value_type == \"cases\" must present.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/extract_forecast_dates.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract forecast dates — extract_forecast_dates","text":"data.frame containing least two vectors: Data unavailable indicating type data missing, date giving date data last available .","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/extract_forecast_dates.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract forecast dates — extract_forecast_dates","text":"","code":"p <- fv_example(strains = 2, type = \"posterior\")  extract_forecast_dates(p) #>    Data unavailable       date #> 1:            Cases 2021-06-26 #> 2:        Sequences 2021-06-12"},{"path":"epiforecasts.io/forecast.vocs/reference/filter_by_availability.html","id":null,"dir":"Reference","previous_headings":"","what":"Filter data based on availability and forecast date — filter_by_availability","title":"Filter data based on availability and forecast date — filter_by_availability","text":"Filter data based availability forecast date","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/filter_by_availability.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Filter data based on availability and forecast date — filter_by_availability","text":"","code":"filter_by_availability(   obs,   date = max(obs$date),   seq_date = date,   case_date = date )"},{"path":"epiforecasts.io/forecast.vocs/reference/filter_by_availability.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Filter data based on availability and forecast date — filter_by_availability","text":"obs data.frame following variables: date, cases, seq_voc, seq_total, cases_available, seq_available. seq_available case_available must uniquely define data rows rows can duplicated based data availability. data format allows multiple versions case sequence data given date different reporting dates. important using package evaluation settings real-time data sources liable updated new data becomes available. See germany_covid19_delta_obs example supported data set. date Date filter. Defaults maximum date obs. seq_date Date use available sequence data. Defaults date. case_date Date use available case data. Defaults date.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/filter_by_availability.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Filter data based on availability and forecast date — filter_by_availability","text":"data.frame observations filter latest available data specified dates interest.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/filter_by_availability.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Filter data based on availability and forecast date — filter_by_availability","text":"","code":"options(mc.cores = 4) obs <- filter_by_availability(   germany_covid19_delta_obs,   date = as.Date(\"2021-06-12\"), ) dt <- rbind(   update_obs_availability(obs, seq_lag = 3),   update_obs_availability(obs, seq_lag = 1) ) # filter out duplicates and up to the present date filter_by_availability(dt) #>           date location_name location  cases cases_available seq_total seq_voc #>  1: 2021-03-20       Germany       DE  87328      2021-03-20        NA      NA #>  2: 2021-03-27       Germany       DE 109442      2021-03-27        NA      NA #>  3: 2021-04-03       Germany       DE 117965      2021-04-03        NA      NA #>  4: 2021-04-10       Germany       DE 107223      2021-04-10        NA      NA #>  5: 2021-04-17       Germany       DE 142664      2021-04-17      4066       5 #>  6: 2021-04-24       Germany       DE 145568      2021-04-24      4494      31 #>  7: 2021-05-01       Germany       DE 131887      2021-05-01      3615      55 #>  8: 2021-05-08       Germany       DE 107141      2021-05-08      4479      86 #>  9: 2021-05-15       Germany       DE  77261      2021-05-15      3399      93 #> 10: 2021-05-22       Germany       DE  57310      2021-05-22      3275     108 #> 11: 2021-05-29       Germany       DE  33052      2021-05-29      1328      34 #> 12: 2021-06-05       Germany       DE  22631      2021-06-05        NA      NA #> 13: 2021-06-12       Germany       DE  15553      2021-06-12        NA      NA #>       share_voc seq_available #>  1:          NA          <NA> #>  2:          NA          <NA> #>  3:          NA          <NA> #>  4:          NA          <NA> #>  5: 0.001229710    2021-05-08 #>  6: 0.006898086    2021-05-15 #>  7: 0.015214385    2021-05-22 #>  8: 0.019200714    2021-05-29 #>  9: 0.027360989    2021-06-05 #> 10: 0.032977099    2021-06-12 #> 11: 0.025602410    2021-06-05 #> 12:          NA    2021-06-26 #> 13:          NA    2021-07-03  # filter to only use sequence data up the the 12th of June filter_by_availability(dt, seq_date = \"2021-06-12\") #>           date location_name location  cases cases_available seq_total seq_voc #>  1: 2021-03-20       Germany       DE  87328      2021-03-20        NA      NA #>  2: 2021-03-27       Germany       DE 109442      2021-03-27        NA      NA #>  3: 2021-04-03       Germany       DE 117965      2021-04-03        NA      NA #>  4: 2021-04-10       Germany       DE 107223      2021-04-10        NA      NA #>  5: 2021-04-17       Germany       DE 142664      2021-04-17      4066       5 #>  6: 2021-04-24       Germany       DE 145568      2021-04-24      4494      31 #>  7: 2021-05-01       Germany       DE 131887      2021-05-01      3615      55 #>  8: 2021-05-08       Germany       DE 107141      2021-05-08      4479      86 #>  9: 2021-05-15       Germany       DE  77261      2021-05-15      3399      93 #> 10: 2021-05-22       Germany       DE  57310      2021-05-22      3275     108 #> 11: 2021-05-29       Germany       DE  33052      2021-05-29      1328      34 #> 12: 2021-06-05       Germany       DE  22631      2021-06-05        NA      NA #> 13: 2021-06-12       Germany       DE  15553      2021-06-12        NA      NA #>       share_voc seq_available #>  1:          NA          <NA> #>  2:          NA          <NA> #>  3:          NA          <NA> #>  4:          NA          <NA> #>  5: 0.001229710    2021-05-08 #>  6: 0.006898086    2021-05-15 #>  7: 0.015214385    2021-05-22 #>  8: 0.019200714    2021-05-29 #>  9: 0.027360989    2021-06-05 #> 10: 0.032977099    2021-06-12 #> 11: 0.025602410    2021-06-05 #> 12:          NA    2021-06-26 #> 13:          NA    2021-07-03  # as above but only use filter_by_availability(dt,   seq_date = \"2021-06-12\",   case_date = \"2021-07-01\" ) #>           date location_name location  cases cases_available seq_total seq_voc #>  1: 2021-03-20       Germany       DE  87328      2021-03-20        NA      NA #>  2: 2021-03-27       Germany       DE 109442      2021-03-27        NA      NA #>  3: 2021-04-03       Germany       DE 117965      2021-04-03        NA      NA #>  4: 2021-04-10       Germany       DE 107223      2021-04-10        NA      NA #>  5: 2021-04-17       Germany       DE 142664      2021-04-17      4066       5 #>  6: 2021-04-24       Germany       DE 145568      2021-04-24      4494      31 #>  7: 2021-05-01       Germany       DE 131887      2021-05-01      3615      55 #>  8: 2021-05-08       Germany       DE 107141      2021-05-08      4479      86 #>  9: 2021-05-15       Germany       DE  77261      2021-05-15      3399      93 #> 10: 2021-05-22       Germany       DE  57310      2021-05-22      3275     108 #> 11: 2021-05-29       Germany       DE  33052      2021-05-29      1328      34 #> 12: 2021-06-05       Germany       DE  22631      2021-06-05        NA      NA #> 13: 2021-06-12       Germany       DE  15553      2021-06-12        NA      NA #>       share_voc seq_available #>  1:          NA          <NA> #>  2:          NA          <NA> #>  3:          NA          <NA> #>  4:          NA          <NA> #>  5: 0.001229710    2021-05-08 #>  6: 0.006898086    2021-05-15 #>  7: 0.015214385    2021-05-22 #>  8: 0.019200714    2021-05-29 #>  9: 0.027360989    2021-06-05 #> 10: 0.032977099    2021-06-12 #> 11: 0.025602410    2021-06-05 #> 12:          NA    2021-06-26 #> 13:          NA    2021-07-03"},{"path":"epiforecasts.io/forecast.vocs/reference/forecast.html","id":null,"dir":"Reference","previous_headings":"","what":"Forecast using branching processes at a target date — forecast","title":"Forecast using branching processes at a target date — forecast","text":"Forecast using branching processes target date","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/forecast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Forecast using branching processes at a target date — forecast","text":"","code":"forecast(   obs,   forecast_date = max(obs$date),   seq_date = forecast_date,   case_date = forecast_date,   data_list = forecast.vocs::fv_as_data_list,   inits = forecast.vocs::fv_inits,   fit = forecast.vocs::fv_sample,   posterior = forecast.vocs::fv_tidy_posterior,   extract_forecast = forecast.vocs::fv_extract_forecast,   horizon = 4,   r_init = c(0, 0.25),   r_step = 1,   beta = c(0, 0.1),   lkj = 0.5,   voc_scale = c(0, 0.2),   voc_label = \"VOC\",   strains = 2,   variant_relationship = \"correlated\",   overdispersion = TRUE,   models = NULL,   likelihood = TRUE,   output_loglik = FALSE,   debug = FALSE,   keep_fit = TRUE,   scale_r = 1,   digits = 3,   timespan = 7,   probs = c(0.05, 0.2, 0.8, 0.95),   id = 0,   ... )"},{"path":"epiforecasts.io/forecast.vocs/reference/forecast.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Forecast using branching processes at a target date — forecast","text":"obs data.frame following variables: date, cases, seq_voc, seq_total, cases_available, seq_available. seq_available case_available must uniquely define data rows rows can duplicated based data availability. data format allows multiple versions case sequence data given date different reporting dates. important using package evaluation settings real-time data sources liable updated new data becomes available. See germany_covid19_delta_obs example supported data set. forecast_date Date forecast. Defaults maximum date obs. seq_date Date use available sequence data. Defaults date. case_date Date use available case data. Defaults date. data_list function returns list data ingested inits fit function. Must use arguments defined fv_as_data_list(). supplied package default fv_as_data_list() used. inits function returns function samples initial conditions arguments fv_inits(). supplied package default fv_inits() used. fit function fits supplied model arguments return values fv_sample(). supplied package default fv_sample() used performs MCMC sampling using cmdstanr. posterior function summarises output supplied fitting function arguments return values (depending requirement downstream package functionality function) fv_tidy_posterior(). supplied package default fv_tidy_posterior() used. extract_forecast function extracts forecast summarised posterior. supplied package default fv_extract_forecast() used. horizon Integer forecast horizon. Defaults 4. r_init Numeric vector length 2. Mean standard deviation normal prior initial log growth rate. r_step Integer, defaults 1. number observations change growth rate. beta Numeric vector, defaults c(0, 0.5). Represents mean standard deviation normal prior (truncated 1 -1) weighting differenced AR process  previous difference. Placing tight prior around zero effectively reduces AR process random walk growth rate. lkj Numeric defaults 0.5. assumed prior covariance variants growth rates using \"correlated\" model. sets shape parameter Lewandowski-Kurowicka-Joe (LKJ) prior distribution. set 1 assigns uniform prior correlations, values less 1 indicate increased belief strong correlations values greater 1 indicate increased belief weaker correlations. default setting places increased weight correlation strains. voc_scale Numeric vector length 2. Prior mean standard deviation initial growth rate modifier due variant concern. voc_label character string, default \"VOC\". Defines label assign variant concern specific parameters. Example usage rename parameters use variant specific terminology. strains Integer number strains use. Defaults 2. Current maximum 2. numeric vector can passed forecasts multiple strain models desired. variant_relationship Character string, defaulting \"correlated\". Controls relationship strains options \"correlated\" (strains growth rates correlated time), \"scaled\" (fixed scaling strains), \"independent\" (fully independent strains initial scaling). overdispersion Logical, defaults TRUE. observations used include overdispersion. models model supplied fv_model(). supplied default strain used. multiple strain models forecast models list models. likelihood Logical, defaults TRUE. likelihood included model output_loglik Logical, defaults FALSE. log-likelihood output. Disabling speed fitting evaluating model fit required. debug Logical, defaults FALSE. within model debug information returned. keep_fit Logical, defaults TRUE. stan model fit kept returned. Dropping can substantially reduce memory usage situations multiple models fit. scale_r Numeric, defaults 1. Rescale timespan growth rate reproduction number calculated. example use case rescaling growth rate weekly scaled mean generation time (COVID-19 example 5.5 / 7. digits Numeric, defaults 3. Number digits round summary statistics . timespan Integer, defaults 7. Indicates number days observation. Defaults week. probs vector numeric probabilities produce quantile summaries . default 5%, 20%, 80%, 95% quantiles also minimum set required plotting functions work (plot_cases(), plot_rt(), plot_voc_frac()). id ID assign forecast. Defaults 0. ... Additional parameters passed fv_sample().","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/forecast.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Forecast using branching processes at a target date — forecast","text":"data.frame containing output fv_sample() row well summarised posterior, forecast information parameters specified.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/forecast.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Forecast using branching processes at a target date — forecast","text":"","code":"if (FALSE) { # interactive() options(mc.cores = 4)  forecasts <- forecast(   germany_covid19_delta_obs,   forecast_date = as.Date(\"2021-06-12\"),   horizon = 4,   strains = c(1, 2),   adapt_delta = 0.99,   max_treedepth = 15,   variant_relationship = \"scaled\" )  # inspect forecasts forecasts  # extract the model summary summary(forecasts, type = \"model\")  # plot case posterior predictions plot(forecasts, log = TRUE)  # plot voc posterior predictions plot(forecasts, type = \"voc_frac\")  # extract the case forecast summary(forecasts, type = \"cases\", forecast = TRUE) }"},{"path":"epiforecasts.io/forecast.vocs/reference/forecast.vocs-package.html","id":null,"dir":"Reference","previous_headings":"","what":"forecast.vocs: Forecast Case and Sequence Notifications using Variant of Concern Strain Dynamics — forecast.vocs-package","title":"forecast.vocs: Forecast Case and Sequence Notifications using Variant of Concern Strain Dynamics — forecast.vocs-package","text":"Contains models tools produce short-term forecasts case sequence notifications assuming circulation either one two variants. Tools also provided allow evaluation use sequence data short-term forecasts real-world settings user generated scenarios.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/forecast.vocs-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"forecast.vocs: Forecast Case and Sequence Notifications using Variant of Concern Strain Dynamics — forecast.vocs-package","text":"Maintainer: Sam Abbott sam.abbott@lshtm.ac.uk (ORCID)","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_across_dates.html","id":null,"dir":"Reference","previous_headings":"","what":"Forecast across multiple dates — forecast_across_dates","title":"Forecast across multiple dates — forecast_across_dates","text":"Forecast across multiple dates","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_across_dates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Forecast across multiple dates — forecast_across_dates","text":"","code":"forecast_across_dates(   obs,   forecast_dates = unique(obs[!is.na(seq_available)])$date[-c(1:3)],   ... )"},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_across_dates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Forecast across multiple dates — forecast_across_dates","text":"obs data.frame following variables: date, cases, seq_voc, seq_total, cases_available, seq_available. seq_available case_available must uniquely define data rows rows can duplicated based data availability. data format allows multiple versions case sequence data given date different reporting dates. important using package evaluation settings real-time data sources liable updated new data becomes available. See germany_covid19_delta_obs example supported data set. forecast_dates list dates forecast . ... Additional parameters passed forecast().","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_across_dates.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Forecast across multiple dates — forecast_across_dates","text":"data.table row containing output running forecast() single forecast date.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_across_dates.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Forecast across multiple dates — forecast_across_dates","text":"","code":"if (FALSE) { # interactive() library(ggplot2) options(mc.cores = 4)  forecasts <- forecast_across_dates(   germany_covid19_delta_obs,   forecast_dates = c(as.Date(\"2021-05-01\"), as.Date(\"2021-06-12\")),   horizon = 4,   strains = 2,   adapt_delta = 0.99,   max_treedepth = 15,   variant_relationship = \"scaled\" )  # inspect forecasts forecasts  # unnest posteriors posteriors <- unnest_posterior(forecasts)  # plot case posterior predictions plot_cases(posteriors, log = TRUE) +   facet_grid(vars(forecast_date), vars(voc_scale)) }"},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_across_scenarios.html","id":null,"dir":"Reference","previous_headings":"","what":"Forecast across multiple scenarios and dates — forecast_across_scenarios","title":"Forecast across multiple scenarios and dates — forecast_across_scenarios","text":"Forecast across multiple scenarios dates","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_across_scenarios.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Forecast across multiple scenarios and dates — forecast_across_scenarios","text":"","code":"forecast_across_scenarios(obs, scenarios, ...)"},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_across_scenarios.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Forecast across multiple scenarios and dates — forecast_across_scenarios","text":"obs data.frame following variables: date, cases, seq_voc, seq_total, cases_available, seq_available. seq_available case_available must uniquely define data rows rows can duplicated based data availability. data format allows multiple versions case sequence data given date different reporting dates. important using package evaluation settings real-time data sources liable updated new data becomes available. See germany_covid19_delta_obs example supported data set. scenarios data.frame scenarios produced define_scenarios(). obs variable present used scenario data otherwise generate_obs_scenario() used generate data variables scenarios. ... Additional parameters passed forecast_across_dates().","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_across_scenarios.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Forecast across multiple scenarios and dates — forecast_across_scenarios","text":"data table rows containing output running forecast() single scenario single forecast date.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_across_scenarios.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Forecast across multiple scenarios and dates — forecast_across_scenarios","text":"","code":"if (FALSE) { # interactive() library(ggplot2) options(mc.cores = 4)  scenarios <- define_scenarios(   voc_scale = list(c(0, 0.5), c(0.5, 0.25)),   seq_lag = 1,   seq_samples = 1 ) scenarios  forecasts <- forecast_across_scenarios(   germany_covid19_delta_obs,   scenarios,   forecast_dates = c(as.Date(\"2021-05-01\"), as.Date(\"2021-06-12\")),   horizon = 4,   strains = 2,   adapt_delta = 0.99,   max_treedepth = 15,   variant_relationship = \"scaled\" )  # inspect forecasts forecasts  # unnest posteriors posteriors <- unnest_posterior(forecasts)  # plot case posterior predictions plot_cases(posteriors, log = TRUE) +   facet_grid(vars(forecast_date)) }"},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_n_strain.html","id":null,"dir":"Reference","previous_headings":"","what":"Forecast for a single model and summarise — forecast_n_strain","title":"Forecast for a single model and summarise — forecast_n_strain","text":"Forecast single model summarise","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_n_strain.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Forecast for a single model and summarise — forecast_n_strain","text":"","code":"forecast_n_strain(   data,   model = NULL,   inits = forecast.vocs::fv_inits,   fit = forecast.vocs::fv_sample,   posterior = forecast.vocs::fv_tidy_posterior,   extract_forecast = forecast.vocs::fv_extract_forecast,   strains = 2,   voc_label = \"VOC\",   probs = c(0.05, 0.2, 0.8, 0.95),   digits = 3,   scale_r = 1,   timespan = 7,   ... )"},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_n_strain.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Forecast for a single model and summarise — forecast_n_strain","text":"data list data produced fv_as_data_list(). model cmdstanr model object loaded fv_model(). inits function returns function samples initial conditions arguments fv_inits(). supplied package default fv_inits() used. fit function fits supplied model arguments return values fv_sample(). supplied package default fv_sample() used performs MCMC sampling using cmdstanr. posterior function summarises output supplied fitting function arguments return values (depending requirement downstream package functionality function) fv_tidy_posterior(). supplied package default fv_tidy_posterior() used. extract_forecast function extracts forecast summarised posterior. supplied package default fv_extract_forecast() used. strains Integer number strains. Defaults 2. Current maximum 2. voc_label character string, default \"VOC\". Defines label assign variant concern specific parameters. Example usage rename parameters use variant specific terminology. probs vector numeric probabilities produce quantile summaries . default 5%, 20%, 80%, 95% quantiles also minimum set required plotting functions work (plot_cases(), plot_rt(), plot_voc_frac()). digits Numeric, defaults 3. Number digits round summary statistics . scale_r Numeric, defaults 1. Rescale timespan growth rate reproduction number calculated. example use case rescaling growth rate weekly scaled mean generation time (COVID-19 example 5.5 / 7. timespan Integer, defaults 7. Indicates number days observation. Defaults week. ... Additional parameters passed fv_sample().","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/fv_as_data_list.html","id":null,"dir":"Reference","previous_headings":"","what":"Format data for use with stan — fv_as_data_list","title":"Format data for use with stan — fv_as_data_list","text":"Format data use stan","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_as_data_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format data for use with stan — fv_as_data_list","text":"","code":"fv_as_data_list(   obs,   horizon = 4,   r_init = c(0, 0.25),   r_step = 1,   beta = c(0, 0.5),   lkj = 0.5,   voc_scale = c(0, 0.2),   variant_relationship = \"correlated\",   overdispersion = TRUE,   likelihood = TRUE,   output_loglik = TRUE,   debug = FALSE )"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_as_data_list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Format data for use with stan — fv_as_data_list","text":"obs data frame following variables: date, cases, seq_voc, seq_total. horizon Integer forecast horizon. Defaults 4. r_init Numeric vector length 2. Mean standard deviation normal prior initial log growth rate. r_step Integer, defaults 1. number observations change growth rate. beta Numeric vector, defaults c(0, 0.5). Represents mean standard deviation normal prior (truncated 1 -1) weighting differenced AR process  previous difference. Placing tight prior around zero effectively reduces AR process random walk growth rate. lkj Numeric defaults 0.5. assumed prior covariance variants growth rates using \"correlated\" model. sets shape parameter Lewandowski-Kurowicka-Joe (LKJ) prior distribution. set 1 assigns uniform prior correlations, values less 1 indicate increased belief strong correlations values greater 1 indicate increased belief weaker correlations. default setting places increased weight correlation strains. voc_scale Numeric vector length 2. Prior mean standard deviation initial growth rate modifier due variant concern. variant_relationship Character string, defaulting \"correlated\". Controls relationship strains options \"correlated\" (strains growth rates correlated time), \"scaled\" (fixed scaling strains), \"independent\" (fully independent strains initial scaling). overdispersion Logical, defaults TRUE. observations used include overdispersion. likelihood Logical, defaults TRUE. likelihood included model output_loglik Logical, defaults FALSE. log-likelihood output. Disabling speed fitting evaluating model fit required. debug Logical, defaults FALSE. within model debug information returned.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_as_data_list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Format data for use with stan — fv_as_data_list","text":"list required stan.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/fv_as_data_list.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Format data for use with stan — fv_as_data_list","text":"","code":"fv_as_data_list(latest_obs(germany_covid19_delta_obs)) #> $t #> [1] 30 #>  #> $t_nots #> [1] 26 #>  #> $t_nseq #> [1] 4 #>  #> $t_seq #> [1] 14 #>  #> $t_seqf #> [1] 26 #>  #> $X #>  [1]  87328 109442 117965 107223 142664 145568 131887 107141  77261  57310 #> [11]  33052  22631  15553   7659   5033   4181   5067   7969  11122  14654 #> [21]  18474  28646  44862  62984  71057  75107 #>  #> $N #>  [1] 4108 4539 3667 4547 3688 3817 2781 2197 1566  991  706  803  735  564 #>  #> $Y #>  [1]   6  34  54  89 101 119 102 181 309 414 451 631 643 521 #>  #> $start_date #> [1] \"2021-03-20\" #>  #> $seq_start_date #> [1] \"2021-04-17\" #>  #> $r_init_mean #> [1] 0 #>  #> $r_init_sd #> [1] 0.25 #>  #> $beta_mean #> [1] 0 #>  #> $beta_sd #> [1] 0.5 #>  #> $voc_mean #> [1] 0 #>  #> $voc_sd #> [1] 0.2 #>  #> $relat #> [1] 2 #>  #> $overdisp #> [1] 1 #>  #> $likelihood #> [1] 1 #>  #> $output_loglik #> [1] 1 #>  #> $debug #> [1] 0 #>  #> $eta_n #> [1] 28 #>  #> $eta_loc #>  [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 #>  #> $voc_eta_n #> [1] 24 #>  #> $voc_eta_loc #>  [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 #>  #> $lkj_prior #> [1] 0.5 #>"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_example.html","id":null,"dir":"Reference","previous_headings":"","what":"Load a package example — fv_example","title":"Load a package example — fv_example","text":"Loads examples posterior forecast summaries produced using example scripts. Used streamline examples, package tests enable users explore package functionality without needing install cmdstanr.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_example.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load a package example — fv_example","text":"","code":"fv_example(strains = 1, type = \"posterior\")"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_example.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load a package example — fv_example","text":"strains Integer number strains. Defaults 2. Current maximum 2. type character string indicating example load. Supported options \"posterior\", \"forecast\", \"observations\", \"script\" output fv_tidy_posterior(),  fv_extract_forecast(), filter_by_availability (date argument set \"2021-08-26\" applied germany_covid19_delta_obs package dataset), script used generate examples respectively.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_example.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load a package example — fv_example","text":"data.table summarised output","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/fv_example.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load a package example — fv_example","text":"","code":"# Load the summarised posterior from an example fit of the one strain model fv_example(strains = 1, type = \"posterior\") #> Available value types: model, cases, growth, rt, raw #>      value_type     variable                  clean_name       date    type #>   1:      model         beta                        Beta       <NA>         #>   2:      model       phi[1] Notification overdispersion       <NA>         #>   3:      model       r_init              Initial growth       <NA>         #>   4:      model      r_scale                 Growth (sd)       <NA>         #>   5:      cases sim_cases[1]                             2021-03-20 Overall #>  ---                                                                        #> 167:        raw  log_lik[11]                                   <NA>         #> 168:        raw  log_lik[12]                                   <NA>         #> 169:        raw  log_lik[13]                                   <NA>         #> 170:        raw  log_lik[14]                                   <NA>         #> 171:        raw  log_lik[15]                                   <NA>         #>        obs observed forecast_start exponentiated      mean    median       sd #>   1:    NA       NA             NA         FALSE     0.190     0.201 4.18e-01 #>   2:    NA       NA             NA         FALSE   102.000    80.200 8.84e+01 #>   3:    NA       NA             NA         FALSE     0.138     0.137 7.07e-02 #>   4:    NA       NA             NA         FALSE     0.111     0.104 5.37e-02 #>   5: 87328     TRUE          FALSE            NA 90100.000 89000.000 1.31e+04 #>  ---                                                                          #> 167:    NA       NA             NA            NA    -9.570    -9.490 5.67e-01 #> 168:    NA       NA             NA            NA    -8.970    -8.930 4.47e-01 #> 169:    NA       NA             NA            NA    -8.950    -8.830 7.01e-01 #> 170:    NA       NA             NA            NA    -8.200    -8.080 6.52e-01 #> 171:    NA       NA             NA            NA    -7.680    -7.550 6.47e-01 #>           mad        q5       q20       q80       q95 rhat ess_bulk ess_tail #>   1: 4.72e-01 -5.13e-01 -1.87e-01     0.587  8.45e-01    1      803      859 #>   2: 4.92e+01  2.63e+01  4.80e+01   140.000  2.31e+02    1      629      476 #>   3: 6.65e-02  2.71e-02  8.12e-02     0.195  2.58e-01    1     1270     1250 #>   4: 5.10e-02  3.94e-02  6.45e-02     0.151  2.12e-01    1      688      968 #>   5: 1.13e+04  7.05e+04  7.97e+04 99600.000  1.13e+05    1     1920     1520 #>  ---                                                                         #> 167: 4.83e-01 -1.06e+01 -9.97e+00    -9.130 -8.82e+00    1     1070      897 #> 168: 3.90e-01 -9.74e+00 -9.28e+00    -8.620 -8.37e+00    1      642      754 #> 169: 5.13e-01 -1.03e+01 -9.35e+00    -8.460 -8.10e+00    1     1000      921 #> 170: 5.01e-01 -9.40e+00 -8.60e+00    -7.730 -7.42e+00    1     1230     1100 #> 171: 4.90e-01 -8.90e+00 -8.06e+00    -7.190 -6.93e+00    1      659     1060  # Load the summarised forecast from this posterior fv_example(strains = 1, type = \"forecast\") #> Available value types: cases, growth, rt #>     value_type    type       date horizon forecast_start         mean #>  1:      cases Overall 2021-07-03       1          FALSE 3060.0000000 #>  2:      cases Overall 2021-07-10       2          FALSE 1930.0000000 #>  3:      cases Overall 2021-07-17       3          FALSE 1300.0000000 #>  4:      cases Overall 2021-07-24       4          FALSE 1030.0000000 #>  5:     growth Overall 2021-06-26       1          FALSE   -0.4117143 #>  6:     growth Overall 2021-07-03       2          FALSE   -0.4132857 #>  7:     growth Overall 2021-07-10       3          FALSE   -0.4156429 #>  8:     growth Overall 2021-07-17       4          FALSE   -0.4156429 #>  9:         rt Overall 2021-06-26       1          FALSE    0.6625135 #> 10:         rt Overall 2021-07-03       2          FALSE    0.6614733 #> 11:         rt Overall 2021-07-10       3          FALSE    0.6599159 #> 12:         rt Overall 2021-07-17       4          FALSE    0.6599159 #>           median       sd     mad           q5          q20          q80 #>  1: 2940.0000000  855.000 745.000 1920.0000000 2360.0000000 3670.0000000 #>  2: 1730.0000000  943.000 689.000  861.0000000 1230.0000000 2470.0000000 #>  3: 1020.0000000 1270.000 601.000  345.0000000  602.0000000 1700.0000000 #>  4:  590.0000000 2280.000 454.000  126.0000000  293.0000000 1260.0000000 #>  5:   -0.4172143    0.170   0.153   -0.6160000   -0.5154286   -0.3127143 #>  6:   -0.4172143    0.223   0.197   -0.6922143   -0.5437143   -0.2805000 #>  7:   -0.4195714    0.273   0.238   -0.7637143   -0.5735714   -0.2506429 #>  8:   -0.4195714    0.322   0.283   -0.8250000   -0.5947857   -0.2294286 #>  9:    0.6588797    0.170   0.153    0.5401005    0.5972446    0.7314589 #> 10:    0.6588797    0.223   0.197    0.5004667    0.5805878    0.7554059 #> 11:    0.6573285    0.273   0.238    0.4659326    0.5635093    0.7783003 #> 12:    0.6573285    0.322   0.283    0.4382350    0.5516808    0.7949878 #>               q95 #>  1:  4.600000e+03 #>  2:  3.630000e+03 #>  3:  3.070000e+03 #>  4:  2.960000e+03 #>  5: -1.893571e-01 #>  6: -1.233571e-01 #>  7: -7.857143e-02 #>  8: -9.507143e-03 #>  9:  8.274909e-01 #> 10:  8.839479e-01 #> 11:  9.244360e-01 #> 12:  9.905379e-01  # Load the script used to generate these examples # Optionally source this script to regenerate the example readLines(fv_example(strains = 1, type = \"script\")) #>  [1] \"options(mc.cores = 2)\"                                               #>  [2] \"obs <- filter_by_availability(\"                                      #>  [3] \"  germany_covid19_delta_obs,\"                                        #>  [4] \"  date = \\\"2021-06-26\\\"\"                                             #>  [5] \")\"                                                                   #>  [6] \"\"                                                                    #>  [7] \"current_obs <- filter_by_availability(\"                              #>  [8] \"  germany_covid19_delta_obs,\"                                        #>  [9] \"  date = \\\"2021-08-26\\\"\"                                             #> [10] \")\"                                                                   #> [11] \"\"                                                                    #> [12] \"dt <- fv_as_data_list(\"                                              #> [13] \"  obs,\"                                                              #> [14] \"  overdispersion = TRUE,\"                                            #> [15] \"  voc_scale = c(0.4, 0.2)\"                                           #> [16] \")\"                                                                   #> [17] \"\"                                                                    #> [18] \"inits <- fv_inits(dt, strains = 1)\"                                  #> [19] \"\"                                                                    #> [20] \"model <- suppressMessages(fv_model(strains = 1))\"                    #> [21] \"\"                                                                    #> [22] \"fit <- fv_sample(\"                                                   #> [23] \"  data = dt, model = model, init = inits,\"                           #> [24] \"  adapt_delta = 0.99, max_treedepth = 15, chains = 2\"                #> [25] \")\"                                                                   #> [26] \"\"                                                                    #> [27] \"# summarise posterior assuming a mean generation time of  5.5 days.\" #> [28] \"posterior <- fv_tidy_posterior(fit, scale_r = 5.5 / 7)\"              #> [29] \"forecast <- fv_extract_forecast(posterior)\""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_extract_forecast.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract forecasts from a summarised posterior — fv_extract_forecast","title":"Extract forecasts from a summarised posterior — fv_extract_forecast","text":"Uses observed variable returned fv_tidy_posterior() return posterior predictions forecast dates .","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_extract_forecast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract forecasts from a summarised posterior — fv_extract_forecast","text":"","code":"fv_extract_forecast(posterior)"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_extract_forecast.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract forecasts from a summarised posterior — fv_extract_forecast","text":"posterior dataframe posterior output produced fv_tidy_posterior(). forecast dates extracted data value_type == \"cases\" must present.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_extract_forecast.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract forecasts from a summarised posterior — fv_extract_forecast","text":"data.frame forecasts format returned fv_tidy_posterior() fitting variables dropped.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/fv_extract_forecast.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract forecasts from a summarised posterior — fv_extract_forecast","text":"","code":"p <- fv_example(strains = 2, type = \"posterior\")  fv_extract_forecast(p) #> Available value types: cases, voc_frac, voc_advantage, growth, rt #>        value_type     type       date horizon forecast_start          mean #>  1:         cases Combined 2021-07-03       1          FALSE 3470.00000000 #>  2:         cases Combined 2021-07-10       2          FALSE 2660.00000000 #>  3:         cases Combined 2021-07-17       3          FALSE 2370.00000000 #>  4:         cases Combined 2021-07-24       4          FALSE 2540.00000000 #>  5:         cases      VOC 2021-06-19       1          FALSE 2070.00000000 #>  6:         cases      VOC 2021-06-26       2          FALSE 1920.00000000 #>  7:         cases      VOC 2021-07-03       3          FALSE 1800.00000000 #>  8:         cases      VOC 2021-07-10       4          FALSE 1750.00000000 #>  9:         cases      VOC 2021-07-17       5          FALSE 1840.00000000 #> 10:         cases      VOC 2021-07-24       6          FALSE 2180.00000000 #> 11:         cases  non-VOC 2021-06-19       1          FALSE 6190.00000000 #> 12:         cases  non-VOC 2021-06-26       2          FALSE 3190.00000000 #> 13:         cases  non-VOC 2021-07-03       3          FALSE 1670.00000000 #> 14:         cases  non-VOC 2021-07-10       4          FALSE  910.00000000 #> 15:         cases  non-VOC 2021-07-17       5          FALSE  534.00000000 #> 16:         cases  non-VOC 2021-07-24       6          FALSE  361.00000000 #> 17:      voc_frac      VOC 2021-06-19       1          FALSE    0.25100000 #> 18:      voc_frac      VOC 2021-06-26       2          FALSE    0.37500000 #> 19:      voc_frac      VOC 2021-07-03       3          FALSE    0.51700000 #> 20:      voc_frac      VOC 2021-07-10       4          FALSE    0.65600000 #> 21:      voc_frac      VOC 2021-07-17       5          FALSE    0.77200000 #> 22:      voc_frac      VOC 2021-07-24       6          FALSE    0.85800000 #> 23: voc_advantage      VOC 2021-06-12       1          FALSE    1.58849291 #> 24: voc_advantage      VOC 2021-06-19       2          FALSE    1.58849291 #> 25: voc_advantage      VOC 2021-06-26       3          FALSE    1.58849291 #> 26: voc_advantage      VOC 2021-07-03       4          FALSE    1.58849291 #> 27: voc_advantage      VOC 2021-07-10       5          FALSE    1.58849291 #> 28: voc_advantage      VOC 2021-07-17       6          FALSE    1.58849291 #> 29:        growth Combined 2021-06-26       1          FALSE   -0.29307143 #> 30:        growth Combined 2021-07-03       2          FALSE   -0.23100000 #> 31:        growth Combined 2021-07-10       3          FALSE   -0.18700000 #> 32:        growth Combined 2021-07-17       4          FALSE   -0.15164286 #> 33:        growth      VOC 2021-06-12       1          FALSE   -0.05397857 #> 34:        growth      VOC 2021-06-19       2          FALSE   -0.05830000 #> 35:        growth      VOC 2021-06-26       3          FALSE   -0.07142143 #> 36:        growth      VOC 2021-07-03       4          FALSE   -0.07377857 #> 37:        growth      VOC 2021-07-10       5          FALSE   -0.08250000 #> 38:        growth      VOC 2021-07-17       6          FALSE   -0.08721429 #> 39:        growth  non-VOC 2021-06-12       1          FALSE   -0.51621429 #> 40:        growth  non-VOC 2021-06-19       2          FALSE   -0.52092857 #> 41:        growth  non-VOC 2021-06-26       3          FALSE   -0.53428571 #> 42:        growth  non-VOC 2021-07-03       4          FALSE   -0.53664286 #> 43:        growth  non-VOC 2021-07-10       5          FALSE   -0.54528571 #> 44:        growth  non-VOC 2021-07-17       6          FALSE   -0.54921429 #> 45:            rt Combined 2021-06-26       1          FALSE    0.74596886 #> 46:            rt Combined 2021-07-03       2          FALSE    0.79373947 #> 47:            rt Combined 2021-07-10       3          FALSE    0.82944374 #> 48:            rt Combined 2021-07-17       4          FALSE    0.85929512 #> 49:            rt      VOC 2021-06-12       1          FALSE    0.94745241 #> 50:            rt      VOC 2021-06-19       2          FALSE    0.94336689 #> 51:            rt      VOC 2021-06-26       3          FALSE    0.93106943 #> 52:            rt      VOC 2021-07-03       4          FALSE    0.92887735 #> 53:            rt      VOC 2021-07-10       5          FALSE    0.92081144 #> 54:            rt      VOC 2021-07-17       6          FALSE    0.91648069 #> 55:            rt  non-VOC 2021-06-12       1          FALSE    0.59677550 #> 56:            rt  non-VOC 2021-06-19       2          FALSE    0.59396875 #> 57:            rt  non-VOC 2021-06-26       3          FALSE    0.58608777 #> 58:            rt  non-VOC 2021-07-03       4          FALSE    0.58470791 #> 59:            rt  non-VOC 2021-07-10       5          FALSE    0.57967614 #> 60:            rt  non-VOC 2021-07-17       6          FALSE    0.57740331 #>        value_type     type       date horizon forecast_start          mean #>            median       sd      mad           q5          q20           q80 #>  1: 3340.00000000 9.62e+02 8.30e+02 2200.0000000 2710.0000000  4.130000e+03 #>  2: 2390.00000000 1.44e+03 1.00e+03 1150.0000000 1650.0000000  3.420000e+03 #>  3: 1840.00000000 2.11e+03 1.18e+03  591.0000000 1040.0000000  3.240000e+03 #>  4: 1490.00000000 4.39e+03 1.26e+03  285.0000000  676.0000000  3.140000e+03 #>  5: 2030.00000000 4.42e+02 4.12e+02 1420.0000000 1710.0000000  2.420000e+03 #>  6: 1880.00000000 4.60e+02 3.88e+02 1270.0000000 1560.0000000  2.230000e+03 #>  7: 1710.00000000 5.85e+02 4.91e+02 1040.0000000 1320.0000000  2.190000e+03 #>  8: 1570.00000000 9.77e+02 6.81e+02  723.0000000 1080.0000000  2.260000e+03 #>  9: 1420.00000000 1.65e+03 9.27e+02  447.0000000  786.0000000  2.490000e+03 #> 10: 1280.00000000 3.73e+03 1.07e+03  251.0000000  571.0000000  2.700000e+03 #> 11: 6120.00000000 1.03e+03 8.92e+02 4690.0000000 5380.0000000  6.940000e+03 #> 12: 3120.00000000 6.48e+02 5.66e+02 2280.0000000 2680.0000000  3.640000e+03 #> 13: 1590.00000000 5.25e+02 4.49e+02  964.0000000 1260.0000000  2.050000e+03 #> 14:  808.00000000 5.38e+02 3.68e+02  354.0000000  542.0000000  1.180000e+03 #> 15:  402.00000000 5.15e+02 2.65e+02  118.0000000  226.0000000  7.250000e+02 #> 16:  204.00000000 7.10e+02 1.76e+02   37.0000000   91.0000000  4.440000e+02 #> 17:    0.24800000 3.88e-02 3.51e-02    0.1910000    0.2200000  2.800000e-01 #> 18:    0.37300000 5.40e-02 4.85e-02    0.2890000    0.3320000  4.170000e-01 #> 19:    0.51700000 6.37e-02 5.74e-02    0.4130000    0.4690000  5.670000e-01 #> 20:    0.65800000 6.35e-02 5.73e-02    0.5470000    0.6090000  7.080000e-01 #> 21:    0.77500000 5.47e-02 4.89e-02    0.6760000    0.7330000  8.170000e-01 #> 22:    0.86100000 4.19e-02 3.67e-02    0.7830000    0.8290000  8.920000e-01 #> 23:    1.58724530 2.87e-02 2.73e-02    1.5333097    1.5600444  1.616190e+00 #> 24:    1.58724530 2.87e-02 2.73e-02    1.5333097    1.5600444  1.616190e+00 #> 25:    1.58724530 2.87e-02 2.73e-02    1.5333097    1.5600444  1.616190e+00 #> 26:    1.58724530 2.87e-02 2.73e-02    1.5333097    1.5600444  1.616190e+00 #> 27:    1.58724530 2.87e-02 2.73e-02    1.5333097    1.5600444  1.616190e+00 #> 28:    1.58724530 2.87e-02 2.73e-02    1.5333097    1.5600444  1.616190e+00 #> 29:   -0.29464286 1.76e-01 1.59e-01   -0.5115000   -0.3991429 -1.854286e-01 #> 30:   -0.23021429 2.34e-01 2.12e-01   -0.5272143   -0.3755714 -9.428571e-02 #> 31:   -0.18464286 2.95e-01 2.62e-01   -0.5531429   -0.3645714 -1.288571e-02 #> 32:   -0.14614286 3.45e-01 3.02e-01   -0.5767143   -0.3582857  5.924286e-02 #> 33:   -0.05280000 8.11e-02 7.15e-02   -0.1626429   -0.1013571 -5.570714e-03 #> 34:   -0.06097143 9.81e-02 9.05e-02   -0.1760000   -0.1178571  2.695000e-04 #> 35:   -0.07322857 1.77e-01 1.59e-01   -0.2915000   -0.1791429  3.465000e-02 #> 36:   -0.07315000 2.35e-01 2.11e-01   -0.3677143   -0.2145000  6.655000e-02 #> 37:   -0.08171429 2.95e-01 2.63e-01   -0.4462857   -0.2585000  9.114286e-02 #> 38:   -0.08328571 3.45e-01 3.03e-01   -0.5209286   -0.2930714  1.217857e-01 #> 39:   -0.51542857 8.32e-02 7.35e-02   -0.6293571   -0.5641429 -4.635714e-01 #> 40:   -0.52092857 1.03e-01 9.48e-02   -0.6490000   -0.5853571 -4.580714e-01 #> 41:   -0.53428571 1.81e-01 1.62e-01   -0.7637143   -0.6458571 -4.266429e-01 #> 42:   -0.53821429 2.38e-01 2.16e-01   -0.8407143   -0.6772857 -3.920714e-01 #> 43:   -0.54292857 2.98e-01 2.67e-01   -0.9192857   -0.7228571 -3.700714e-01 #> 44:   -0.54292857 3.47e-01 3.08e-01   -0.9900000   -0.7542857 -3.465000e-01 #> 45:    0.74479754 1.76e-01 1.59e-01    0.5995955    0.6708949  8.307482e-01 #> 46:    0.79436336 2.34e-01 2.12e-01    0.5902469    0.6868967  9.100227e-01 #> 47:    0.83140116 2.95e-01 2.62e-01    0.5751394    0.6944942  9.871970e-01 #> 48:    0.86403426 3.45e-01 3.02e-01    0.5617411    0.6988734  1.061033e+00 #> 49:    0.94856971 8.11e-02 7.15e-02    0.8498947    0.9036103  9.944448e-01 #> 50:    0.94085012 9.81e-02 9.05e-02    0.8386180    0.8888230  1.000270e+00 #> 51:    0.92938837 1.77e-01 1.59e-01    0.7471420    0.8359865  1.035257e+00 #> 52:    0.92946140 2.35e-01 2.11e-01    0.6923150    0.8069448  1.068814e+00 #> 53:    0.92153522 2.95e-01 2.63e-01    0.6400009    0.7722090  1.095425e+00 #> 54:    0.92008823 3.45e-01 3.03e-01    0.5939687    0.7459689  1.129512e+00 #> 55:    0.59724458 8.32e-02 7.35e-02    0.5329343    0.5688475  6.290331e-01 #> 56:    0.59396875 1.03e-01 9.48e-02    0.5225681    0.5569069  6.325023e-01 #> 57:    0.58608777 1.81e-01 1.62e-01    0.4659326    0.5242130  6.526966e-01 #> 58:    0.58378980 2.38e-01 2.16e-01    0.4314023    0.5079940  6.756559e-01 #> 59:    0.58104413 2.98e-01 2.67e-01    0.3988038    0.4853635  6.906850e-01 #> 60:    0.58104413 3.47e-01 3.08e-01    0.3715767    0.4703465  7.071588e-01 #>            median       sd      mad           q5          q20           q80 #>               q95 #>  1: 5160.00000000 #>  2: 5000.00000000 #>  3: 5780.00000000 #>  4: 7810.00000000 #>  5: 2860.00000000 #>  6: 2670.00000000 #>  7: 2850.00000000 #>  8: 3290.00000000 #>  9: 4440.00000000 #> 10: 6610.00000000 #> 11: 7910.00000000 #> 12: 4340.00000000 #> 13: 2620.00000000 #> 14: 1780.00000000 #> 15: 1340.00000000 #> 16: 1090.00000000 #> 17:    0.31800000 #> 18:    0.46800000 #> 19:    0.62400000 #> 20:    0.75800000 #> 21:    0.85500000 #> 22:    0.91700000 #> 23:    1.64825027 #> 24:    1.64825027 #> 25:    1.64825027 #> 26:    1.64825027 #> 27:    1.64825027 #> 28:    1.64825027 #> 29:   -0.06435000 #> 30:    0.06309286 #> 31:    0.19407143 #> 32:    0.30014286 #> 33:    0.04541429 #> 34:    0.06906429 #> 35:    0.16028571 #> 36:    0.23335714 #> 37:    0.30171429 #> 38:    0.36535714 #> 39:   -0.41800000 #> 40:   -0.38657143 #> 41:   -0.29228571 #> 42:   -0.23650000 #> 43:   -0.15714286 #> 44:   -0.09821429 #> 45:    0.93767676 #> 46:    1.06512574 #> 47:    1.21418301 #> 48:    1.35005166 #> 49:    1.04646130 #> 50:    1.07150509 #> 51:    1.17384621 #> 52:    1.26283241 #> 53:    1.35217484 #> 54:    1.44102857 #> 55:    0.65836223 #> 56:    0.67938220 #> 57:    0.74655520 #> 58:    0.78938588 #> 59:    0.85458197 #> 60:    0.90645464 #>               q95"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_inits.html","id":null,"dir":"Reference","previous_headings":"","what":"Set up initial conditions for model — fv_inits","title":"Set up initial conditions for model — fv_inits","text":"Set initial conditions model","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_inits.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set up initial conditions for model — fv_inits","text":"","code":"fv_inits(data, strains = 2)"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_inits.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set up initial conditions for model — fv_inits","text":"data list data produced fv_as_data_list(). strains Integer number strains. Defaults 2. Current maximum 2.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_inits.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set up initial conditions for model — fv_inits","text":"function called returns list initial conditions package stan models.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/fv_inits.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set up initial conditions for model — fv_inits","text":"","code":"dt <- fv_as_data_list(latest_obs(germany_covid19_delta_obs)) inits <- fv_inits(dt) inits #> function ()  #> { #>     inits <- list(init_cases = purrr::map_dbl(c(data$X[1], max(2,  #>         data$X[data$t_nseq + 1] * data$Y[1]/data$N[1])), ~log(abs(rnorm(1,  #>         ., . * 0.01)))), r_init = rnorm(1, data$r_init_mean,  #>         data$r_init_sd * 0.1), r_scale = abs(rnorm(1, 0, 0.01)),  #>         eta = rnorm(data$eta_n, 0, 0.01), beta = rnorm(1, 0,  #>             0.1), sqrt_phi = abs(rnorm(2, 0, 0.01))) #>     if (strains == 1) { #>         inits$init_cases <- inits$init_cases[1] #>         inits$sqrt_phi <- inits$sqrt_phi[1] #>     } #>     else { #>         inits$voc_mod <- rnorm(1, data$voc_mean, data$voc_sd *  #>             0.1) #>         inits$voc_beta <- rnorm(1, 0, 0.1) #>         inits$voc_scale <- abs(rnorm(1, 0, 0.01)) #>         inits$voc_eta <- rnorm(data$voc_eta_n, 0, 0.01) #>         inits$L_Omega <- matrix(c(1, runif(1), 0, runif(1)),  #>             2, 2) #>     } #>     return(inits) #> } #> <bytecode: 0x7fcd632739a8> #> <environment: 0x7fcd63277350> inits() #> $init_cases #> [1] 11.387374  5.325908 #>  #> $r_init #> [1] -0.02346624 #>  #> $r_scale #> [1] 0.009226303 #>  #> $eta #>  [1] -0.0061939748  0.0081270002 -0.0003280756 -0.0160736405  0.0037579104 #>  [6] -0.0175265134 -0.0048240137 -0.0118347116 -0.0048617665  0.0032210119 #> [11]  0.0008287735  0.0026005311  0.0210931201 -0.0158825433 -0.0099417932 #> [16]  0.0061539457  0.0051152654  0.0170907397  0.0030438180  0.0017422408 #> [21]  0.0082803390  0.0172711347  0.0065240887 -0.0045906039 -0.0169745574 #> [26]  0.0159716368  0.0014319125  0.0066917748 #>  #> $beta #> [1] -0.1059142 #>  #> $sqrt_phi #> [1] 0.008683364 0.013559682 #>  #> $voc_mod #> [1] 0.008705565 #>  #> $voc_beta #> [1] -0.03534503 #>  #> $voc_scale #> [1] 0.008130867 #>  #> $voc_eta #>  [1] -0.004742406 -0.006814664  0.001408381  0.005246171 -0.012134113 #>  [6]  0.007844492 -0.003707792  0.013843189 -0.001937765 -0.027983872 #> [11] -0.003684412  0.008883593  0.017618271  0.012868674  0.004678603 #> [16]  0.002450907  0.018880195  0.003482846 -0.009719691 -0.002634330 #> [21] -0.002924028  0.011354092  0.008220328 -0.006919772 #>  #> $L_Omega #>           [,1]        [,2] #> [1,] 1.0000000 0.000000000 #> [2,] 0.1376922 0.009028653 #>"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Load and compile a strain model — fv_model","title":"Load and compile a strain model — fv_model","text":"Load compile strain model","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load and compile a strain model — fv_model","text":"","code":"fv_model(model, include, strains = 2, compile = TRUE, verbose = FALSE, ...)"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load and compile a strain model — fv_model","text":"model character string indicating path model. supplied package default model used. include character string specifying path stan files include model. missing package default used. strains Integer number strains. Defaults 2. Current maximum 2. compile Logical, defaults TRUE. model loaded compiled using cmdstanr::cmdstan_model(). verbose Logical, defaults TRUE. verbose messages shown. ... Additional arguments passed cmdstanr::cmdstan_model().","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_model.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load and compile a strain model — fv_model","text":"cmdstanr model.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/fv_model.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load and compile a strain model — fv_model","text":"","code":"if (FALSE) { # interactive() # one strain model mod <- fv_model(strains = 1)  # two strain model two_strain_mod <- fv_model(strains = 2) }"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_posterior.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarise the posterior — fv_posterior","title":"Summarise the posterior — fv_posterior","text":"generic wrapper around posterior::summarise_draws() opinionated defaults. See fv_tidy_posterior() opinionated wrapper cleaning tidying including linking observed data, tidying parameter names, transforming parameters interpretability.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_posterior.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarise the posterior — fv_posterior","text":"","code":"fv_posterior(fit, probs = c(0.05, 0.2, 0.8, 0.95), digits = 3, ...)"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_posterior.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarise the posterior — fv_posterior","text":"fit List output returned fv_sample(). probs vector numeric probabilities produce quantile summaries . default 5%, 20%, 80%, 95% quantiles also minimum set required plotting functions work (plot_cases(), plot_rt(), plot_voc_frac()). digits Numeric, defaults 3. Number digits round summary statistics . ... Additional arguments may passed used.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_posterior.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarise the posterior — fv_posterior","text":"dataframe summarising model posterior.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/fv_posterior.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summarise the posterior — fv_posterior","text":"","code":"if (FALSE) { # interactive() options(mc.cores = 4) obs <- filter_by_availability(   germany_covid19_delta_obs,   date = as.Date(\"2021-06-12\"), ) dt <- fv_as_data_list(obs) inits <- fv_inits(dt) fit <- fv_sample(dt, init = inits, adapt_delta = 0.99, max_treedepth = 15) fv_posterior(fit) }"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_sample.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit a brancing process strain model — fv_sample","title":"Fit a brancing process strain model — fv_sample","text":"Fit brancing process strain model","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_sample.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit a brancing process strain model — fv_sample","text":"","code":"fv_sample(   data,   model = forecast.vocs::fv_model(strains = 2),   diagnostics = TRUE,   ... )"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_sample.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit a brancing process strain model — fv_sample","text":"data list data produced fv_as_data_list(). model cmdstanr model object loaded fv_model(). diagnostics Logical, defaults TRUE. fitting diagnostics returned data.frame. ... Additional parameters passed sample method cmdstanr.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_sample.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit a brancing process strain model — fv_sample","text":"data.frame containing cmdstanr fit, input data, fitting arguments, optionally summary diagnostics.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/fv_sample.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fit a brancing process strain model — fv_sample","text":"","code":"if (FALSE) { # interactive() options(mc.cores = 4)  # format example data obs <- filter_by_availability(   germany_covid19_delta_obs,   date = as.Date(\"2021-06-12\"), ) dt <- fv_as_data_list(obs)  # single strain model inits <- fv_inits(dt, strains = 1) mod <- fv_model(strains = 1) fit <- fv_sample(   dt,   model = mod, init = inits,   adapt_delta = 0.99, max_treedepth = 15 ) fit  # two strain model inits <- fv_inits(dt, strains = 2)  mod <- fv_model(strains = 2)  two_strain_fit <- fv_sample(dt,   model = mod, init = inits,   adapt_delta = 0.99, max_treedepth = 15 ) two_strain_fit }"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_score_forecast.html","id":null,"dir":"Reference","previous_headings":"","what":"Evaluate forecasts using proper scoring rules — fv_score_forecast","title":"Evaluate forecasts using proper scoring rules — fv_score_forecast","text":"Acts wrapper scoringutils::eval_forecasts(). particular, handling filtering output various forecast.vocs functions linking output observed data. See documentation scoringutils package forecast scoring documentation examples simple examples context forecast.vocs.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_score_forecast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Evaluate forecasts using proper scoring rules — fv_score_forecast","text":"","code":"fv_score_forecast(forecast, obs, log = FALSE, round_to = 3, ...)"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_score_forecast.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Evaluate forecasts using proper scoring rules — fv_score_forecast","text":"forecast posterior forecast posterior prediction returned summary.fv_posterior(), summary.fv_forecast() fv_extract_forecast(). Internally case forecasts filtered using value_type variable present overall combined case counts (.e returned) 1 2 strain models. looking complex scoring may wise implement custom wrapper. obs data frame observed data produced latest_obs(). log Logical, defaults FALSE. scores calculated log scale (0.01 shift) observations forecasts. Scoring way can thought relative score vs usual absolute measure. may useful targets different scales forecaster interested good round performance versus good performance targets large values. round_to Integer defaults 3. Number digits round scoring output . ... Additional arguments passed scoringutils::eval_forecasts().","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_score_forecast.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Evaluate forecasts using proper scoring rules — fv_score_forecast","text":"data.table returned scoringutils::eval_forecasts().","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/fv_score_forecast.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Evaluate forecasts using proper scoring rules — fv_score_forecast","text":"","code":"if (FALSE) { # interactive() options(mc.cores = 4) library(data.table) library(scoringutils)  # Fit and forecast using both the one and two strain models forecasts <- forecast(   germany_covid19_delta_obs,   forecast_date = as.Date(\"2021-06-12\"),   horizon = 4,   strains = c(1, 2),   adapt_delta = 0.99,   max_treedepth = 15,   variant_relationship = \"scaled\" )  # Extract forecasts forecasts <- summary(forecasts, target = \"forecast\", type = \"cases\")  # Filter for the latest available observations obs <- latest_obs(germany_covid19_delta_obs)  # score overall fv_score_forecast(forecasts, obs, summarise_by = \"strains\")  # score overall on a log scale fv_score_forecast(forecasts, obs, summarise_by = \"strains\", log = TRUE)  # score by horizon fv_score_forecast(forecasts, obs, summarise_by = c(\"strains\", \"horizon\"))  # score by horizon on a log scale fv_score_forecast(   forecasts, obs,   summarise_by = c(\"strains\", \"horizon\"), log = TRUE ) }"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_tidy_posterior.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarise the posterior tidily — fv_tidy_posterior","title":"Summarise the posterior tidily — fv_tidy_posterior","text":"opinionated wrapper around posterior::summarise_draws() cleaning tidying including linking observed data, tidying parameter names, transforming parameters interpretability. See fv_posterior() generic solution.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_tidy_posterior.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarise the posterior tidily — fv_tidy_posterior","text":"","code":"fv_tidy_posterior(   fit,   probs = c(0.05, 0.2, 0.8, 0.95),   digits = 3,   voc_label = \"VOC\",   scale_r = 1,   timespan = 7 )"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_tidy_posterior.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarise the posterior tidily — fv_tidy_posterior","text":"fit List output returned fv_sample(). probs vector numeric probabilities produce quantile summaries . default 5%, 20%, 80%, 95% quantiles also minimum set required plotting functions work (plot_cases(), plot_rt(), plot_voc_frac()). digits Numeric, defaults 3. Number digits round summary statistics . voc_label character string, default \"VOC\". Defines label assign variant concern specific parameters. Example usage rename parameters use variant specific terminology. scale_r Numeric, defaults 1. Rescale timespan growth rate reproduction number calculated. example use case rescaling growth rate weekly scaled mean generation time (COVID-19 example 5.5 / 7. timespan Integer, defaults 7. Indicates number days observation. Defaults week.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_tidy_posterior.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarise the posterior tidily — fv_tidy_posterior","text":"dataframe summarising model posterior. Output stratified value_type posterior summaries case, voc, voc advantage vs non-voc time, rt, growth, model, raw posterior summary.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/fv_tidy_posterior.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summarise the posterior tidily — fv_tidy_posterior","text":"","code":"if (FALSE) { # interactive() options(mc.cores = 4) obs <- filter_by_availability(   germany_covid19_delta_obs,   date = as.Date(\"2021-06-12\"), ) dt <- fv_as_data_list(obs) inits <- fv_inits(dt) fit <- fv_sample(dt, init = inits, adapt_delta = 0.99, max_treedepth = 15) fv_tidy_posterior(fit) }"},{"path":"epiforecasts.io/forecast.vocs/reference/generate_obs.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Simulated Observations — generate_obs","title":"Generate Simulated Observations — generate_obs","text":"Generate simulated observations prior posterior distributions forecast.vocs model. single strain model used case data simulated multiple strain model used sequence data also simulated.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/generate_obs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Simulated Observations — generate_obs","text":"","code":"generate_obs(   obs,   strains = 2,   model = forecast.vocs::fv_model(strains = strains),   data_list = forecast.vocs::fv_as_data_list,   inits = forecast.vocs::fv_inits,   fit = forecast.vocs::fv_sample,   type = \"prior\",   datasets = 10,   ... )"},{"path":"epiforecasts.io/forecast.vocs/reference/generate_obs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Simulated Observations — generate_obs","text":"obs Observed data use parameterise model used fitting posterior required. strains Integer number strains use. Defaults 2. Current maximum 2. numeric vector can passed forecasts multiple strain models desired. model cmdstanr model object loaded fv_model(). data_list function returns list data ingested inits fit function. Must use arguments defined fv_as_data_list(). supplied package default fv_as_data_list() used. inits function returns function samples initial conditions arguments fv_inits(). supplied package default fv_inits() used. fit function fits supplied model arguments return values fv_sample(). supplied package default fv_sample() used performs MCMC sampling using cmdstanr. type character string indicating type data generate. Supported options data based \"prior\" data based  \"posterior\" default prior. datasets Numeric, defaults 10. Number datasets generate. ... Additional arguments pass fv_as_data_list().","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/generate_obs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Simulated Observations — generate_obs","text":"dataframe sampled dataset row following variables: parameters (prior/posterior parameters used generate data), obs (simulated observed data), data, (simulated data formatted using supplied data_list function (default fv_as_data_list()) arguments specified  simulation).","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/generate_obs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate Simulated Observations — generate_obs","text":"","code":"if (FALSE) { # interactive() options(mc.cores = 4) obs <- latest_obs(germany_covid19_delta_obs)  sim_obs <- generate_obs(obs, voc_scale = c(0.8, 0.1), r_init = c(-0.1, 0.05))  # fit a simulated dataset sim_dt <- sim_obs$data[[1]] inits <- fv_inits(sim_dt) fit <- fv_sample(   sim_dt,   init = inits, adapt_delta = 0.95, max_treedepth = 15 )  # summarise and plot simualated fit posterior <- fv_tidy_posterior(fit)  plot_cases(posterior, log = TRUE)  plot_voc(posterior)  plot_rt(posterior) }"},{"path":"epiforecasts.io/forecast.vocs/reference/generate_obs_scenario.html","id":null,"dir":"Reference","previous_headings":"","what":"Define observed data for a scenario — generate_obs_scenario","title":"Define observed data for a scenario — generate_obs_scenario","text":"Define observed data scenario","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/generate_obs_scenario.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Define observed data for a scenario — generate_obs_scenario","text":"","code":"generate_obs_scenario(obs, seq_lag, seq_samples)"},{"path":"epiforecasts.io/forecast.vocs/reference/generate_obs_scenario.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Define observed data for a scenario — generate_obs_scenario","text":"obs dataframe observations returned latest_obs() similar. seq_lag Number, number weeks lag sequence data behind date observation. seq_samples Fraction sequence samples include.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/generate_obs_scenario.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Define observed data for a scenario — generate_obs_scenario","text":"data.frame scenario definitions ids","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/generate_obs_scenario.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Define observed data for a scenario — generate_obs_scenario","text":"","code":"generate_obs_scenario(latest_obs(germany_covid19_delta_obs), 4, 0.1) #>           date location_name location  cases cases_available seq_total seq_voc #>  1: 2021-03-20       Germany       DE  87328      2021-03-20        NA      NA #>  2: 2021-03-27       Germany       DE 109442      2021-03-27        NA      NA #>  3: 2021-04-03       Germany       DE 117965      2021-04-03        NA      NA #>  4: 2021-04-10       Germany       DE 107223      2021-04-10        NA      NA #>  5: 2021-04-17       Germany       DE 142664      2021-04-17       411       1 #>  6: 2021-04-24       Germany       DE 145568      2021-04-24       454       3 #>  7: 2021-05-01       Germany       DE 131887      2021-05-01       367       5 #>  8: 2021-05-08       Germany       DE 107141      2021-05-08       455       9 #>  9: 2021-05-15       Germany       DE  77261      2021-05-15       369      10 #> 10: 2021-05-22       Germany       DE  57310      2021-05-22       382      12 #> 11: 2021-05-29       Germany       DE  33052      2021-05-29       278      10 #> 12: 2021-06-05       Germany       DE  22631      2021-06-05       220      18 #> 13: 2021-06-12       Germany       DE  15553      2021-06-12       157      31 #> 14: 2021-06-19       Germany       DE   7659      2021-06-19        99      41 #> 15: 2021-06-26       Germany       DE   5033      2021-06-26        71      45 #> 16: 2021-07-03       Germany       DE   4181      2021-07-03        80      63 #> 17: 2021-07-10       Germany       DE   5067      2021-07-10        74      64 #> 18: 2021-07-17       Germany       DE   7969      2021-07-17        56      52 #> 19: 2021-07-24       Germany       DE  11122      2021-07-24        NA      NA #> 20: 2021-07-31       Germany       DE  14654      2021-07-31        NA      NA #> 21: 2021-08-07       Germany       DE  18474      2021-08-07        NA      NA #> 22: 2021-08-14       Germany       DE  28646      2021-08-14        NA      NA #> 23: 2021-08-21       Germany       DE  44862      2021-08-21        NA      NA #> 24: 2021-08-28       Germany       DE  62984      2021-08-28        NA      NA #> 25: 2021-09-04       Germany       DE  71057      2021-09-04        NA      NA #> 26: 2021-09-11       Germany       DE  75107      2021-09-11        NA      NA #>           date location_name location  cases cases_available seq_total seq_voc #>       share_voc seq_available #>  1:          NA          <NA> #>  2:          NA          <NA> #>  3:          NA          <NA> #>  4:          NA          <NA> #>  5: 0.001460565    2021-05-15 #>  6: 0.007490637    2021-05-22 #>  7: 0.014725934    2021-05-29 #>  8: 0.019573345    2021-06-05 #>  9: 0.027386117    2021-06-12 #> 10: 0.031176316    2021-06-19 #> 11: 0.036677454    2021-06-26 #> 12: 0.082385071    2021-07-03 #> 13: 0.197318008    2021-07-10 #> 14: 0.417759839    2021-07-17 #> 15: 0.638810198    2021-07-24 #> 16: 0.785803238    2021-07-31 #> 17: 0.874829932    2021-08-07 #> 18: 0.923758865    2021-08-14 #> 19:          NA          <NA> #> 20:          NA          <NA> #> 21:          NA          <NA> #> 22:          NA          <NA> #> 23:          NA          <NA> #> 24:          NA          <NA> #> 25:          NA          <NA> #> 26:          NA          <NA> #>       share_voc seq_available"},{"path":"epiforecasts.io/forecast.vocs/reference/germany_covid19_delta_obs.html","id":null,"dir":"Reference","previous_headings":"","what":"Test positive COVID-19 cases and sequences in Germany — germany_covid19_delta_obs","title":"Test positive COVID-19 cases and sequences in Germany — germany_covid19_delta_obs","text":"Test positive COVID-19 cases sequences stratified voc variant status summarised week Germany. Data sourced RKI via Germany/Poland forecasting hub.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/germany_covid19_delta_obs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Test positive COVID-19 cases and sequences in Germany — germany_covid19_delta_obs","text":"","code":"germany_covid19_delta_obs"},{"path":"epiforecasts.io/forecast.vocs/reference/germany_covid19_delta_obs.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Test positive COVID-19 cases and sequences in Germany — germany_covid19_delta_obs","text":"object class data.table (inherits data.frame) 114 rows 9 columns.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/germany_covid19_delta_obs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Test positive COVID-19 cases and sequences in Germany — germany_covid19_delta_obs","text":"data.table following variables: date, location_name, location, cases, seq_total, seq_voc, share_voc, cases_available, seq_available.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/latest_obs.html","id":null,"dir":"Reference","previous_headings":"","what":"Filter for latest observations of all types — latest_obs","title":"Filter for latest observations of all types — latest_obs","text":"Filter latest observations types","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/latest_obs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Filter for latest observations of all types — latest_obs","text":"","code":"latest_obs(obs)"},{"path":"epiforecasts.io/forecast.vocs/reference/latest_obs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Filter for latest observations of all types — latest_obs","text":"obs data.frame following variables: date, cases, seq_voc, seq_total, cases_available, seq_available. seq_available case_available must uniquely define data rows rows can duplicated based data availability. data format allows multiple versions case sequence data given date different reporting dates. important using package evaluation settings real-time data sources liable updated new data becomes available. See germany_covid19_delta_obs example supported data set.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/latest_obs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Filter for latest observations of all types — latest_obs","text":"data.frame observations filtered latest available data.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/latest_obs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Filter for latest observations of all types — latest_obs","text":"","code":"dt <- rbind(   update_obs_availability(germany_covid19_delta_obs, seq_lag = 3),   update_obs_availability(germany_covid19_delta_obs, seq_lag = 1) ) latest_obs(dt) #>           date location_name location  cases cases_available seq_total seq_voc #>  1: 2021-03-20       Germany       DE  87328      2021-03-20        NA      NA #>  2: 2021-03-27       Germany       DE 109442      2021-03-27        NA      NA #>  3: 2021-04-03       Germany       DE 117965      2021-04-03        NA      NA #>  4: 2021-04-10       Germany       DE 107223      2021-04-10        NA      NA #>  5: 2021-04-17       Germany       DE 142664      2021-04-17      3757       3 #>  6: 2021-04-24       Germany       DE 145568      2021-04-24      3957      15 #>  7: 2021-05-01       Germany       DE 131887      2021-05-01      1913      19 #>  8: 2021-05-08       Germany       DE 107141      2021-05-08      2161      37 #>  9: 2021-05-15       Germany       DE  77261      2021-05-15      1676      40 #> 10: 2021-05-22       Germany       DE  57310      2021-05-22      1387      30 #> 11: 2021-05-29       Germany       DE  33052      2021-05-29      1328      34 #> 12: 2021-06-05       Germany       DE  22631      2021-06-05      1136      75 #> 13: 2021-06-12       Germany       DE  15553      2021-06-12       696     116 #> 14: 2021-06-19       Germany       DE   7659      2021-06-19       576     226 #> 15: 2021-06-26       Germany       DE   5033      2021-06-26       452     287 #> 16: 2021-07-03       Germany       DE   4181      2021-07-03       534     407 #> 17: 2021-07-10       Germany       DE   5067      2021-07-10       468     399 #> 18: 2021-07-17       Germany       DE   7969      2021-07-17       564     521 #> 19: 2021-07-24       Germany       DE  11122      2021-07-24        NA      NA #> 20: 2021-07-31       Germany       DE  14654      2021-07-31        NA      NA #> 21: 2021-08-07       Germany       DE  18474      2021-08-07        NA      NA #> 22: 2021-08-14       Germany       DE  28646      2021-08-14        NA      NA #> 23: 2021-08-21       Germany       DE  44862      2021-08-21        NA      NA #> 24: 2021-08-28       Germany       DE  62984      2021-08-28        NA      NA #> 25: 2021-09-04       Germany       DE  71057      2021-09-04        NA      NA #> 26: 2021-09-11       Germany       DE  75107      2021-09-11        NA      NA #>           date location_name location  cases cases_available seq_total seq_voc #>        share_voc seq_available #>  1:           NA          <NA> #>  2:           NA          <NA> #>  3:           NA          <NA> #>  4:           NA          <NA> #>  5: 0.0007985094    2021-05-08 #>  6: 0.0037907506    2021-05-15 #>  7: 0.0099320439    2021-05-22 #>  8: 0.0171217029    2021-05-29 #>  9: 0.0238663484    2021-06-05 #> 10: 0.0216294160    2021-06-12 #> 11: 0.0256024096    2021-06-19 #> 12: 0.0660211268    2021-06-26 #> 13: 0.1666666667    2021-07-03 #> 14: 0.3923611111    2021-07-10 #> 15: 0.6349557522    2021-07-17 #> 16: 0.7621722846    2021-07-24 #> 17: 0.8525641026    2021-07-31 #> 18: 0.9237588652    2021-08-07 #> 19:           NA          <NA> #> 20:           NA          <NA> #> 21:           NA          <NA> #> 22:           NA          <NA> #> 23:           NA          <NA> #> 24:           NA          <NA> #> 25:           NA          <NA> #> 26:           NA          <NA> #>        share_voc seq_available"},{"path":"epiforecasts.io/forecast.vocs/reference/link_dates_with_posterior.html","id":null,"dir":"Reference","previous_headings":"","what":"Link dates by time for posterior parameter estimates — link_dates_with_posterior","title":"Link dates by time for posterior parameter estimates — link_dates_with_posterior","text":"Link dates time posterior parameter estimates","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/link_dates_with_posterior.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Link dates by time for posterior parameter estimates — link_dates_with_posterior","text":"","code":"link_dates_with_posterior(posterior, data, timespan = 7, mod_end = 0)"},{"path":"epiforecasts.io/forecast.vocs/reference/link_dates_with_posterior.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Link dates by time for posterior parameter estimates — link_dates_with_posterior","text":"posterior data frame summarised posterior estimates returned cmdstanr::summary()  additional type variable contains following character string options: \"non-VOC\", \"VOC\", \"Combined\", \"Overall\". data list data returned \"data\" entry output returned fv_sample(). timespan Integer, defaults 7. Indicates number days observation. Defaults week. mod_end Integer, defaults 0. Amount shift end date estimates.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/link_dates_with_posterior.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Link dates by time for posterior parameter estimates — link_dates_with_posterior","text":"posterior data.frame additional data column.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/link_obs_with_posterior.html","id":null,"dir":"Reference","previous_headings":"","what":"Link posterior estimates with observed data — link_obs_with_posterior","title":"Link posterior estimates with observed data — link_obs_with_posterior","text":"Link posterior estimates observed data flag values observed .","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/link_obs_with_posterior.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Link posterior estimates with observed data — link_obs_with_posterior","text":"","code":"link_obs_with_posterior(posterior, obs, horizon, target_types)"},{"path":"epiforecasts.io/forecast.vocs/reference/link_obs_with_posterior.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Link posterior estimates with observed data — link_obs_with_posterior","text":"posterior data frame summarised posterior estimates returned cmdstanr::summary()  additional type variable contains following character string options: \"non-VOC\", \"VOC\", \"Combined\", \"Overall\". obs Numeric vector observed data link posterior estimates. horizon Integer indicating horizon unobserved forecasts. specified inferred obs. target_types character vector types (specified type variable) modify.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/link_obs_with_posterior.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Link posterior estimates with observed data — link_obs_with_posterior","text":"input data.frame combined obs observed variables.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/piecewise_steps.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate piecewise steps — piecewise_steps","title":"Calculate piecewise steps — piecewise_steps","text":"helper function streamlines calculation piecewise steps. may useful specifying random walks, AR processes, etc.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/piecewise_steps.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate piecewise steps — piecewise_steps","text":"","code":"piecewise_steps(t, step)"},{"path":"epiforecasts.io/forecast.vocs/reference/piecewise_steps.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate piecewise steps — piecewise_steps","text":"t Integer, timespan calculate steps step Integer, frequency step.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/piecewise_steps.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate piecewise steps — piecewise_steps","text":"list containing two elements: n (number steps) stepsthe location steps binary variable.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/plot.fv_forecast.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot method for forecast — plot.fv_forecast","title":"Plot method for forecast — plot.fv_forecast","text":"plot method class \"fv_forecast\". type plot produced can controlled using target type arguments latter functional target set \"posterior\" \"forecast\".","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot.fv_forecast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot method for forecast — plot.fv_forecast","text":"","code":"# S3 method for fv_forecast plot(x, obs = NULL, target = \"posterior\", type = \"cases\", ...)"},{"path":"epiforecasts.io/forecast.vocs/reference/plot.fv_forecast.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot method for forecast — plot.fv_forecast","text":"x data.table output produced forecast() class \"fv_forecast\". obs data frame observed data produced latest_obs(). target character string indicating target object within forecast() produce plots . Current options : posterior predictions (\"posterior\"), posterior forecasts (\"forecast\"), model fit (\"fit\"). \"posterior\" \"forecast\" used plot.fv_posterior() called whereas \"fit\" used plot_pairs() used. type character string indicating type plot required, defaulting \"cases\". Current options : \"cases\" calls plot_cases(), \"voc_frac\" calls plot_voc_frac(), \"voc_advantage\" calls plot_voc_advantage(), \"growth\" calls plot_growth(), \"rt\" calls plot_rt(), \"\" produces list plots call plot_posterior(). ... Pass additional arguments lower level plot functions.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot.fv_forecast.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot method for forecast — plot.fv_forecast","text":"ggplot2 object","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/plot.fv_forecast.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot method for forecast — plot.fv_forecast","text":"","code":"if (FALSE) { # interactive() options(mc.cores = 4)  forecasts <- forecast(   germany_covid19_delta_obs,   forecast_date = as.Date(\"2021-06-12\"),   horizon = 4,   strains = c(1, 2),   adapt_delta = 0.99,   max_treedepth = 15,   variant_relationship = \"scaled\" ) # inspect forecasts forecasts  # plot case posterior predictions plot(forecasts, log = TRUE)  # plot case posterior predictions with central estimates plot(forecasts, log = TRUE, central = TRUE)  # plot voc posterior predictions plot(forecasts, type = \"voc_frac\") }"},{"path":"epiforecasts.io/forecast.vocs/reference/plot.fv_posterior.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot method for fv_tidy_posterior — plot.fv_posterior","title":"Plot method for fv_tidy_posterior — plot.fv_posterior","text":"plot method class \"fv_posterior\". function wraps lower level plot functions.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot.fv_posterior.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot method for fv_tidy_posterior — plot.fv_posterior","text":"","code":"# S3 method for fv_posterior plot(   x,   obs = NULL,   type = \"cases\",   forecast_dates = NULL,   central = FALSE,   all_obs = FALSE,   voc_label = \"variant of concern\",   ... )"},{"path":"epiforecasts.io/forecast.vocs/reference/plot.fv_posterior.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot method for fv_tidy_posterior — plot.fv_posterior","text":"x data.table output produced fv_tidy_posterior(). obs data frame observed data produced latest_obs(). type character string indicating type plot required, defaulting \"cases\". Current options : \"cases\" calls plot_cases(), \"voc_frac\" calls plot_voc_frac(), \"voc_advantage\" calls plot_voc_advantage(), \"growth\" calls plot_growth(), \"rt\" calls plot_rt(), \"\" produces list plots call plot_posterior(). forecast_dates data.frame format produced extract_forecast_dates() (least date variable Data unavailable variable)). Specifies date availability add plots. May contain faceting variables. central Logical, defaults FALSE. mean median central estimates plot dashed solid lines respectively. Requires mean median variables present input. all_obs Logical, defaults FALSE. observations plot just date range estimates plot. voc_label Character string giving name assign variant concern. Defaults  \"variant concern\". ... Pass additional arguments lower level plot functions.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot.fv_posterior.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot method for fv_tidy_posterior — plot.fv_posterior","text":"ggplot2 object","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/plot.fv_posterior.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot method for fv_tidy_posterior — plot.fv_posterior","text":"","code":"posterior <- fv_example(strains = 2, type = \"posterior\")  # plot cases on the log scale plot(posterior, type = \"cases\", log = TRUE)   # plot cases with central estimates plot(posterior, type = \"cases\", log = FALSE, central = TRUE)   # plot fraction that have the variant of concern plot(posterior, type = \"voc_frac\")   # plot the transmission advantage for the the variant of concern plot(posterior, type = \"voc_advantage\")   # plot the growth rates for both voc and non-voc cases plot(posterior, type = \"growth\")   # plot the reproduction number estimates plot(posterior, type = \"rt\")"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_cases.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot the posterior prediction for cases — plot_cases","title":"Plot the posterior prediction for cases — plot_cases","text":"Plot posterior prediction cases","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_cases.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot the posterior prediction for cases — plot_cases","text":"","code":"plot_cases(   posterior,   obs = NULL,   forecast_dates = NULL,   all_obs = FALSE,   central = FALSE,   col = NULL,   log = TRUE )"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_cases.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot the posterior prediction for cases — plot_cases","text":"posterior dataframe posterior output produced fv_tidy_posterior(). forecast dates extracted data value_type == \"cases\" must present. obs data frame observed data produced latest_obs(). forecast_dates data.frame format produced extract_forecast_dates() (least date variable Data unavailable variable)). Specifies date availability add plots. May contain faceting variables. all_obs Logical, defaults FALSE. observations plot just date range estimates plot. central Logical, defaults FALSE. mean median central estimates plot dashed solid lines respectively. Requires mean median variables present input. col character string denoting variable use stratify ribbon plot. Defaults \"type\" indicates data stream. log Logical, defaults TRUE. cases plot log 2 scale?","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_cases.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot the posterior prediction for cases — plot_cases","text":"ggplot2 plot.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/plot_cases.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot the posterior prediction for cases — plot_cases","text":"","code":"posterior <- fv_example(strains = 2, type = \"posterior\")  # default with log transform plot_cases(posterior)   # without log transform plot_cases(posterior, log = FALSE)"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_default.html","id":null,"dir":"Reference","previous_headings":"","what":"Default posterior plot — plot_default","title":"Default posterior plot — plot_default","text":"Default posterior plot","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_default.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Default posterior plot — plot_default","text":"","code":"plot_default(   posterior,   target,   obs = NULL,   forecast_dates = NULL,   central = FALSE,   all_obs = FALSE,   ... )"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_default.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Default posterior plot — plot_default","text":"posterior dataframe posterior output produced fv_tidy_posterior(). forecast dates extracted data value_type == \"cases\" must present. target character string indicating variable extract posterior list. obs data frame observed data produced latest_obs(). forecast_dates data.frame format produced extract_forecast_dates() (least date variable Data unavailable variable)). Specifies date availability add plots. May contain faceting variables. central Logical, defaults FALSE. mean median central estimates plot dashed solid lines respectively. Requires mean median variables present input. all_obs Logical, defaults FALSE. observations plot just date range estimates plot. ... Additional arguments passed ggplot2::aes()","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_default.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Default posterior plot — plot_default","text":"ggplot2 plot.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/plot_growth.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot the posterior prediction for the growth rate — plot_growth","title":"Plot the posterior prediction for the growth rate — plot_growth","text":"Plot posterior prediction growth rate","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_growth.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot the posterior prediction for the growth rate — plot_growth","text":"","code":"plot_growth(posterior, forecast_dates = NULL, central = FALSE, col = NULL)"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_growth.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot the posterior prediction for the growth rate — plot_growth","text":"posterior dataframe posterior output produced fv_tidy_posterior(). forecast dates extracted data value_type == \"cases\" must present. forecast_dates data.frame format produced extract_forecast_dates() (least date variable Data unavailable variable)). Specifies date availability add plots. May contain faceting variables. central Logical, defaults FALSE. mean median central estimates plot dashed solid lines respectively. Requires mean median variables present input. col character string denoting variable use stratify ribbon plot. Defaults \"type\" indicates data stream.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_growth.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot the posterior prediction for the growth rate — plot_growth","text":"ggplot2 plot.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/plot_growth.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot the posterior prediction for the growth rate — plot_growth","text":"","code":"posterior <- fv_example(strains = 2, type = \"posterior\") plot_growth(posterior)"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_pairs.html","id":null,"dir":"Reference","previous_headings":"","what":"Pairs plot of parameters of interest and fitting diagnostics — plot_pairs","title":"Pairs plot of parameters of interest and fitting diagnostics — plot_pairs","text":"Pairs plot parameters interest fitting diagnostics","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_pairs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pairs plot of parameters of interest and fitting diagnostics — plot_pairs","text":"","code":"plot_pairs(   fit,   pars = c(\"r_init\", \"r_scale\", \"beta\", \"voc_beta\", \"voc_scale[1]\", \"init_cases[1]\",     \"init_cases[2]\", \"eta[1]\", \"voc_eta[1]\", \"sqrt_phi[1]\", \"sqrt_phi[2]\", \"sqrt_phi\"),   diagnostics = TRUE,   ... )"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_pairs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pairs plot of parameters of interest and fitting diagnostics — plot_pairs","text":"fit List output returned fv_sample(). pars Character vector parameters try include plot. included present fitted model. diagnostics Logical, defaults TRUE. fitting diagnostics returned data.frame. ... Additional parameters passed bayesplot::mcmc_pairs().","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_pairs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pairs plot of parameters of interest and fitting diagnostics — plot_pairs","text":"ggplot2 based pairs plot parameters interest","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/plot_pairs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Pairs plot of parameters of interest and fitting diagnostics — plot_pairs","text":"","code":"if (FALSE) { # interactive() obs <- filter_by_availability(   germany_covid19_delta_obs,   date = as.Date(\"2021-06-12\"), ) dt <- fv_as_data_list(obs) inits <- fv_inits(dt) fit <- fv_sample(dt, init = inits, adapt_voc = 0.99, max_treedepth = 15) plot_pairs(fit) }"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_posterior.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot posterior predictions — plot_posterior","title":"Plot posterior predictions — plot_posterior","text":"Plot posterior predictions","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_posterior.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot posterior predictions — plot_posterior","text":"","code":"plot_posterior(   posterior,   obs = NULL,   forecast_dates = NULL,   central = FALSE,   all_obs = FALSE,   voc_label = \"variant of concern\" )"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_posterior.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot posterior predictions — plot_posterior","text":"posterior dataframe posterior output produced fv_tidy_posterior(). forecast dates extracted data value_type == \"cases\" must present. obs data frame observed data produced latest_obs(). forecast_dates data.frame format produced extract_forecast_dates() (least date variable Data unavailable variable)). Specifies date availability add plots. May contain faceting variables. central Logical, defaults FALSE. mean median central estimates plot dashed solid lines respectively. Requires mean median variables present input. all_obs Logical, defaults FALSE. observations plot just date range estimates plot. voc_label Character string giving name assign variant concern. Defaults  \"variant concern\".","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_posterior.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot posterior predictions — plot_posterior","text":"named list supported package plots sensible defaults.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/plot_posterior.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot posterior predictions — plot_posterior","text":"","code":"posterior <- fv_example(strains = 2, type = \"posterior\") plot_posterior(posterior) #> $cases  #>  #> $log_cases  #>  #> $voc_frac  #>  #> $voc_advantage  #>  #> $growth  #>  #> $rt  #>"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_rt.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot the posterior prediction for the reproduction number — plot_rt","title":"Plot the posterior prediction for the reproduction number — plot_rt","text":"Plot posterior prediction reproduction number","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_rt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot the posterior prediction for the reproduction number — plot_rt","text":"","code":"plot_rt(posterior, forecast_dates = NULL, central = FALSE, col = NULL)"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_rt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot the posterior prediction for the reproduction number — plot_rt","text":"posterior dataframe posterior output produced fv_tidy_posterior(). forecast dates extracted data value_type == \"cases\" must present. forecast_dates data.frame format produced extract_forecast_dates() (least date variable Data unavailable variable)). Specifies date availability add plots. May contain faceting variables. central Logical, defaults FALSE. mean median central estimates plot dashed solid lines respectively. Requires mean median variables present input. col character string denoting variable use stratify ribbon plot. Defaults \"type\" indicates data stream.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_rt.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot the posterior prediction for the reproduction number — plot_rt","text":"ggplot2 plot.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/plot_rt.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot the posterior prediction for the reproduction number — plot_rt","text":"","code":"posterior <- fv_example(strains = 2, type = \"posterior\") plot_rt(posterior)"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_theme.html","id":null,"dir":"Reference","previous_headings":"","what":"Add the default plot theme — plot_theme","title":"Add the default plot theme — plot_theme","text":"Add default plot theme","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_theme.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add the default plot theme — plot_theme","text":"","code":"plot_theme(plot)"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_theme.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add the default plot theme — plot_theme","text":"plot ggplot2 object","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_theme.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add the default plot theme — plot_theme","text":"ggplot2 plot package theme applied.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/plot_voc_advantage.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot the posterior prediction for the transmission advantage for the variant\nof concern — plot_voc_advantage","title":"Plot the posterior prediction for the transmission advantage for the variant\nof concern — plot_voc_advantage","text":"Plot posterior prediction transmission advantage variant concern","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_voc_advantage.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot the posterior prediction for the transmission advantage for the variant\nof concern — plot_voc_advantage","text":"","code":"plot_voc_advantage(   posterior,   forecast_dates = NULL,   central = FALSE,   voc_label = \"variant of concern\",   ... )"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_voc_advantage.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot the posterior prediction for the transmission advantage for the variant\nof concern — plot_voc_advantage","text":"posterior dataframe posterior output produced fv_tidy_posterior(). forecast dates extracted data value_type == \"cases\" must present. forecast_dates data.frame format produced extract_forecast_dates() (least date variable Data unavailable variable)). Specifies date availability add plots. May contain faceting variables. central Logical, defaults FALSE. mean median central estimates plot dashed solid lines respectively. Requires mean median variables present input. voc_label Character string giving name assign variant concern. Defaults  \"variant concern\". ... Additional parameters passed plot_default().","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_voc_advantage.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot the posterior prediction for the transmission advantage for the variant\nof concern — plot_voc_advantage","text":"ggplot2 plot.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/plot_voc_advantage.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot the posterior prediction for the transmission advantage for the variant\nof concern — plot_voc_advantage","text":"","code":"posterior <- fv_example(strains = 2, type = \"posterior\") plot_voc_advantage(posterior)"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_voc_frac.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot the population posterior prediction for the fraction of samples with the\nvariant of concern — plot_voc_frac","title":"Plot the population posterior prediction for the fraction of samples with the\nvariant of concern — plot_voc_frac","text":"Plot population posterior prediction fraction samples variant concern","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_voc_frac.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot the population posterior prediction for the fraction of samples with the\nvariant of concern — plot_voc_frac","text":"","code":"plot_voc_frac(   posterior,   obs = NULL,   forecast_dates = NULL,   all_obs = FALSE,   central = FALSE,   voc_label = \"variant of concern\",   logit = TRUE,   ... )"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_voc_frac.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot the population posterior prediction for the fraction of samples with the\nvariant of concern — plot_voc_frac","text":"posterior dataframe posterior output produced fv_tidy_posterior(). forecast dates extracted data value_type == \"cases\" must present. obs data frame observed data produced latest_obs(). forecast_dates data.frame format produced extract_forecast_dates() (least date variable Data unavailable variable)). Specifies date availability add plots. May contain faceting variables. all_obs Logical, defaults FALSE. observations plot just date range estimates plot. central Logical, defaults FALSE. mean median central estimates plot dashed solid lines respectively. Requires mean median variables present input. voc_label Character string giving name assign variant concern. Defaults  \"variant concern\". logit Logical, defaults TRUE. variant proportions plot logit scale. ... Additional parameters passed plot_default().","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_voc_frac.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot the population posterior prediction for the fraction of samples with the\nvariant of concern — plot_voc_frac","text":"ggplot2 plot.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/plot_voc_frac.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot the population posterior prediction for the fraction of samples with the\nvariant of concern — plot_voc_frac","text":"","code":"posterior <- fv_example(strains = 2, type = \"posterior\") plot_voc_frac(posterior)"},{"path":"epiforecasts.io/forecast.vocs/reference/print.fv_posterior.html","id":null,"dir":"Reference","previous_headings":"","what":"Print method for fv_tidy_posterior — print.fv_posterior","title":"Print method for fv_tidy_posterior — print.fv_posterior","text":"print method class \"fv_posterior\". Prints available value types falls back data.table print method.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/print.fv_posterior.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print method for fv_tidy_posterior — print.fv_posterior","text":"","code":"# S3 method for fv_posterior print(x, ...)"},{"path":"epiforecasts.io/forecast.vocs/reference/print.fv_posterior.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print method for fv_tidy_posterior — print.fv_posterior","text":"x output output fv_tidy_posterior(). ... Pass additional arguments data.table printing method.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/print.fv_posterior.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print method for fv_tidy_posterior — print.fv_posterior","text":"summary data.frame","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/print.fv_posterior.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print method for fv_tidy_posterior — print.fv_posterior","text":"","code":"posterior <- fv_example(strains = 2, type = \"posterior\")  # case summary posterior #> Available value types: model, cases, voc_frac, voc_advantage, growth, rt, raw #>      value_type          variable                  clean_name date type obs #>   1:      model avg_voc_advantage          Average VOC effect <NA>       NA #>   2:      model              beta                        Beta <NA>       NA #>   3:      model     init_cases[1]               Initial cases <NA>       NA #>   4:      model     init_cases[2]           Initial VOC cases <NA>       NA #>   5:      model            phi[1] Notification overdispersion <NA>       NA #>  ---                                                                        #> 450:        raw       log_lik[11]                             <NA>       NA #> 451:        raw       log_lik[12]                             <NA>       NA #> 452:        raw       log_lik[13]                             <NA>       NA #> 453:        raw       log_lik[14]                             <NA>       NA #> 454:        raw       log_lik[15]                             <NA>       NA #>      observed forecast_start exponentiated       mean     median       sd #>   1:       NA             NA         FALSE     0.5890     0.5880   0.0287 #>   2:       NA             NA         FALSE     0.2030     0.2090   0.4080 #>   3:       NA             NA          TRUE 89321.7234 89321.7234   0.0670 #>   4:       NA             NA          TRUE   219.2034   219.2034   0.0982 #>   5:       NA             NA         FALSE   103.0000    79.1000 121.0000 #>  ---                                                                      #> 450:       NA             NA            NA   -14.7000   -14.7000   0.7240 #> 451:       NA             NA            NA   -14.1000   -14.0000   0.7040 #> 452:       NA             NA            NA   -13.6000   -13.6000   0.9010 #> 453:       NA             NA            NA    -8.1300    -8.0400   0.5760 #> 454:       NA             NA            NA    -7.7100    -7.5700   0.6990 #>          mad         q5        q20        q80        q95 rhat ess_bulk ess_tail #>   1:  0.0273     0.5440     0.5660     0.6110     0.6360    1     1670     1510 #>   2:  0.4480    -0.4990    -0.1600     0.5820     0.8530    1      892     1010 #>   3:  0.0652 80821.6375 80821.6375 98715.7710 98715.7710    1     1570     1320 #>   4:  0.0948   186.7928   202.3502   237.4602   259.8228    1     2530     1550 #>   5: 52.4000    23.5000    44.2000   137.0000   232.0000    1      675      729 #>  ---                                                                            #> 450:  0.6410   -16.0000   -15.2000   -14.1000   -13.7000    1     1110     1300 #> 451:  0.6900   -15.3000   -14.6000   -13.5000   -13.0000    1      649      779 #> 452:  0.7840   -15.2000   -14.3000   -12.9000   -12.3000    1      996     1190 #> 453:  0.4690    -9.2200    -8.5100    -7.6800    -7.4100    1     1130      951 #> 454:  0.5280    -8.9600    -8.1200    -7.1900    -6.8900    1      863      785"},{"path":"epiforecasts.io/forecast.vocs/reference/quantiles_to_long.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert summarised quantiles from wide to long format — quantiles_to_long","title":"Convert summarised quantiles from wide to long format — quantiles_to_long","text":"Convert summarised quantiles wide long format","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/quantiles_to_long.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert summarised quantiles from wide to long format — quantiles_to_long","text":"","code":"quantiles_to_long(posterior)"},{"path":"epiforecasts.io/forecast.vocs/reference/quantiles_to_long.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert summarised quantiles from wide to long format — quantiles_to_long","text":"posterior dataframe output fv_tidy_posterior(), fv_extract_forecast(), etc.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/quantiles_to_long.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert summarised quantiles from wide to long format — quantiles_to_long","text":"data frame quantiles long format.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/quantiles_to_long.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert summarised quantiles from wide to long format — quantiles_to_long","text":"","code":"posterior <- fv_example(strains = 2, type = \"posterior\") long_posterior <- quantiles_to_long(posterior) long_posterior #>       value_type          variable                  clean_name date type obs #>    1:      model avg_voc_advantage          Average VOC effect <NA>       NA #>    2:      model              beta                        Beta <NA>       NA #>    3:      model     init_cases[1]               Initial cases <NA>       NA #>    4:      model     init_cases[2]           Initial VOC cases <NA>       NA #>    5:      model            phi[1] Notification overdispersion <NA>       NA #>   ---                                                                        #> 1812:        raw       log_lik[11]                             <NA>       NA #> 1813:        raw       log_lik[12]                             <NA>       NA #> 1814:        raw       log_lik[13]                             <NA>       NA #> 1815:        raw       log_lik[14]                             <NA>       NA #> 1816:        raw       log_lik[15]                             <NA>       NA #>       observed forecast_start exponentiated       mean     median       sd #>    1:       NA             NA         FALSE     0.5890     0.5880   0.0287 #>    2:       NA             NA         FALSE     0.2030     0.2090   0.4080 #>    3:       NA             NA          TRUE 89321.7234 89321.7234   0.0670 #>    4:       NA             NA          TRUE   219.2034   219.2034   0.0982 #>    5:       NA             NA         FALSE   103.0000    79.1000 121.0000 #>   ---                                                                      #> 1812:       NA             NA            NA   -14.7000   -14.7000   0.7240 #> 1813:       NA             NA            NA   -14.1000   -14.0000   0.7040 #> 1814:       NA             NA            NA   -13.6000   -13.6000   0.9010 #> 1815:       NA             NA            NA    -8.1300    -8.0400   0.5760 #> 1816:       NA             NA            NA    -7.7100    -7.5700   0.6990 #>           mad rhat ess_bulk ess_tail quantile prediction #>    1:  0.0273    1     1670     1510     0.05     0.5440 #>    2:  0.4480    1      892     1010     0.05    -0.4990 #>    3:  0.0652    1     1570     1320     0.05 80821.6375 #>    4:  0.0948    1     2530     1550     0.05   186.7928 #>    5: 52.4000    1      675      729     0.05    23.5000 #>   ---                                                    #> 1812:  0.6410    1     1110     1300     0.95   -13.7000 #> 1813:  0.6900    1      649      779     0.95   -13.0000 #> 1814:  0.7840    1      996     1190     0.95   -12.3000 #> 1815:  0.4690    1     1130      951     0.95    -7.4100 #> 1816:  0.5280    1      863      785     0.95    -6.8900"},{"path":"epiforecasts.io/forecast.vocs/reference/sample_sequences.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample Sequence Observation Model — sample_sequences","title":"Sample Sequence Observation Model — sample_sequences","text":"Sample Sequence Observation Model","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/sample_sequences.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample Sequence Observation Model — sample_sequences","text":"","code":"sample_sequences(frac_voc, seq_total, phi)"},{"path":"epiforecasts.io/forecast.vocs/reference/sample_sequences.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sample Sequence Observation Model — sample_sequences","text":"frac_voc numeric vector expected proportions positive variant concern. seq_total integer vector total sequences available. phi overdispersion sampling process. supplied overdispersion used (.e binomial observation model vs beta binomial observation model).","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/sample_sequences.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Sample Sequence Observation Model — sample_sequences","text":"vector observed sequences positive variant concern.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/sample_sequences.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Sample Sequence Observation Model — sample_sequences","text":"","code":"# dummy sequence data frac_voc <- seq(0, 1, by = 0.1) seq_total <- seq(10, length.out = length(frac_voc), by = 100)  # binomial observation model sample_sequences(frac_voc, seq_total) #>  [1]    0    6   44   89  147  265  362  515  655  823 1010  # beta binomial observation model sample_sequences(frac_voc, seq_total, 0.5) #>  [1]    0    0    0  202  244    6  609  499  202  910 1010"},{"path":"epiforecasts.io/forecast.vocs/reference/save_plots.html","id":null,"dir":"Reference","previous_headings":"","what":"Save plots by name — save_plots","title":"Save plots by name — save_plots","text":"Save plots name","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/save_plots.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Save plots by name — save_plots","text":"","code":"save_plots(plots, save_path = NULL, type = \"png\", ...)"},{"path":"epiforecasts.io/forecast.vocs/reference/save_plots.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Save plots by name — save_plots","text":"plots named list ggplot2 plots. save_path character string indicating save plots required. type character string indicating format use save plots. ... Additional arguments passed ggplot2::ggsave()","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/save_plots.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Save plots by name — save_plots","text":"","code":"posterior <- fv_example(strains = 2, type = \"posterior\") p <- plot(posterior, type = \"all\") save_plots(p, save_path = tempdir()) #> Saving 6.67 x 6.67 in image #> Saving 6.67 x 6.67 in image #> Saving 6.67 x 6.67 in image #> Saving 6.67 x 6.67 in image #> Saving 6.67 x 6.67 in image #> Saving 6.67 x 6.67 in image"},{"path":"epiforecasts.io/forecast.vocs/reference/summary.fv_forecast.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary method for forecast — summary.fv_forecast","title":"Summary method for forecast — summary.fv_forecast","text":"summary method class \"fv_forecast\".","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/summary.fv_forecast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary method for forecast — summary.fv_forecast","text":"","code":"# S3 method for fv_forecast summary(   object,   target = \"posterior\",   type = \"model\",   as_dt = FALSE,   forecast = FALSE,   ... )"},{"path":"epiforecasts.io/forecast.vocs/reference/summary.fv_forecast.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summary method for forecast — summary.fv_forecast","text":"object data.table output forecast() class \"fv_forecast\". target character string indicating target object within forecast() summarise. Current options : posterior predictions (\"posterior\"), posterior forecasts (\"forecast\"), model fit (\"fit\"), model diagnostics (\"diagnostics\"). \"posterior\" \"forecast\" used summary.fv_posterior() called nested posterior forecast. type character string used filter summarised output defaulting \"model\". Current options : \"model\" returns summary key model parameters, \"cases\" returns summarised cases, \"voc_frac\" returns summarised estimates fraction cases variant concern, \"voc_advantage\" returns summarised estimates transmission advantage variant concern, \"growth\" returns summarised variant specific overall growth rates, \"rt\" returns summarised variant specific overall reproduction number estimates, \"raw\" returns raw posterior summary, \"\" returns tidied posterior estimates. as_dt Logical defaults FALSE. filtering applied summary() fall back using default data.table method. forecast Logical defaults FALSE. fv_extract_forecast() used return forecasts rather complete posterior. ... Additional summary arguments.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/summary.fv_forecast.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summary method for forecast — summary.fv_forecast","text":"summary data.table.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/summary.fv_forecast.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summary method for forecast — summary.fv_forecast","text":"","code":"if (FALSE) { # interactive() options(mc.cores = 4)  forecasts <- forecast(   germany_covid19_delta_obs,   forecast_date = as.Date(\"2021-06-12\"),   horizon = 4,   strains = c(1, 2),   adapt_delta = 0.99,   max_treedepth = 15,   variant_relationship = \"scaled\" ) # inspect forecasts forecasts  # extract the model summary summary(forecasts, type = \"model\")  # extract the fit object summary(forecasts, target = \"fit\")  # extract the case forecast summary(forecasts, type = \"cases\", forecast = TRUE) }"},{"path":"epiforecasts.io/forecast.vocs/reference/summary.fv_posterior.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary method for fv_tidy_posterior — summary.fv_posterior","title":"Summary method for fv_tidy_posterior — summary.fv_posterior","text":"summary method class \"fv_tidy_posterior\". Can used filter posterior variables interest, return forecasts , summarise using data.table method","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/summary.fv_posterior.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary method for fv_tidy_posterior — summary.fv_posterior","text":"","code":"# S3 method for fv_posterior summary(object, type = \"model\", forecast = FALSE, as_dt = FALSE, ...)"},{"path":"epiforecasts.io/forecast.vocs/reference/summary.fv_posterior.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summary method for fv_tidy_posterior — summary.fv_posterior","text":"object object class fv_posterior returned fv_tidy_posterior() . type character string used filter summarised output defaulting \"model\". Current options : \"model\" returns summary key model parameters, \"cases\" returns summarised cases, \"voc_frac\" returns summarised estimates fraction cases variant concern, \"voc_advantage\" returns summarised estimates transmission advantage variant concern, \"growth\" returns summarised variant specific overall growth rates, \"rt\" returns summarised variant specific overall reproduction number estimates, \"raw\" returns raw posterior summary, \"\" returns tidied posterior estimates. forecast Logical defaults FALSE. fv_extract_forecast() used return forecasts rather complete posterior. as_dt Logical defaults FALSE. filtering applied summary() fall back using default data.table method. ... Additional summary arguments.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/summary.fv_posterior.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summary method for fv_tidy_posterior — summary.fv_posterior","text":"summary data.table table unless type \"\" used case output still type \"fv_posterior\".","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/summary.fv_posterior.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summary method for fv_tidy_posterior — summary.fv_posterior","text":"","code":"posterior <- fv_example(strains = 2, type = \"posterior\")  # case summary summary(posterior, type = \"cases\") #>               variable       date     type    obs observed forecast_start #>  1:       sim_cases[1] 2021-03-20 Combined  87328     TRUE          FALSE #>  2:       sim_cases[2] 2021-03-27 Combined 109442     TRUE          FALSE #>  3:       sim_cases[3] 2021-04-03 Combined 117965     TRUE          FALSE #>  4:       sim_cases[4] 2021-04-10 Combined 107223     TRUE          FALSE #>  5:       sim_cases[5] 2021-04-17 Combined 142664     TRUE          FALSE #>  6:       sim_cases[6] 2021-04-24 Combined 145568     TRUE          FALSE #>  7:       sim_cases[7] 2021-05-01 Combined 131887     TRUE          FALSE #>  8:       sim_cases[8] 2021-05-08 Combined 107141     TRUE          FALSE #>  9:       sim_cases[9] 2021-05-15 Combined  77261     TRUE          FALSE #> 10:      sim_cases[10] 2021-05-22 Combined  57310     TRUE          FALSE #> 11:      sim_cases[11] 2021-05-29 Combined  33052     TRUE          FALSE #> 12:      sim_cases[12] 2021-06-05 Combined  22631     TRUE          FALSE #> 13:      sim_cases[13] 2021-06-12 Combined  15553     TRUE          FALSE #> 14:      sim_cases[14] 2021-06-19 Combined   7659     TRUE          FALSE #> 15:      sim_cases[15] 2021-06-26 Combined   5033     TRUE           TRUE #> 16:      sim_cases[16] 2021-07-03 Combined     NA    FALSE          FALSE #> 17:      sim_cases[17] 2021-07-10 Combined     NA    FALSE          FALSE #> 18:      sim_cases[18] 2021-07-17 Combined     NA    FALSE          FALSE #> 19:      sim_cases[19] 2021-07-24 Combined     NA    FALSE          FALSE #> 20:   sim_voc_cases[1] 2021-04-17      VOC     NA     TRUE          FALSE #> 21:   sim_voc_cases[2] 2021-04-24      VOC     NA     TRUE          FALSE #> 22:   sim_voc_cases[3] 2021-05-01      VOC     NA     TRUE          FALSE #> 23:   sim_voc_cases[4] 2021-05-08      VOC     NA     TRUE          FALSE #> 24:   sim_voc_cases[5] 2021-05-15      VOC     NA     TRUE          FALSE #> 25:   sim_voc_cases[6] 2021-05-22      VOC     NA     TRUE          FALSE #> 26:   sim_voc_cases[7] 2021-05-29      VOC     NA     TRUE          FALSE #> 27:   sim_voc_cases[8] 2021-06-05      VOC     NA     TRUE          FALSE #> 28:   sim_voc_cases[9] 2021-06-12      VOC     NA     TRUE           TRUE #> 29:  sim_voc_cases[10] 2021-06-19      VOC     NA    FALSE          FALSE #> 30:  sim_voc_cases[11] 2021-06-26      VOC     NA    FALSE          FALSE #> 31:  sim_voc_cases[12] 2021-07-03      VOC     NA    FALSE          FALSE #> 32:  sim_voc_cases[13] 2021-07-10      VOC     NA    FALSE          FALSE #> 33:  sim_voc_cases[14] 2021-07-17      VOC     NA    FALSE          FALSE #> 34:  sim_voc_cases[15] 2021-07-24      VOC     NA    FALSE          FALSE #> 35:  sim_nvoc_cases[1] 2021-03-20  non-VOC     NA     TRUE          FALSE #> 36:  sim_nvoc_cases[2] 2021-03-27  non-VOC     NA     TRUE          FALSE #> 37:  sim_nvoc_cases[3] 2021-04-03  non-VOC     NA     TRUE          FALSE #> 38:  sim_nvoc_cases[4] 2021-04-10  non-VOC     NA     TRUE          FALSE #> 39:  sim_nvoc_cases[5] 2021-04-17  non-VOC     NA     TRUE          FALSE #> 40:  sim_nvoc_cases[6] 2021-04-24  non-VOC     NA     TRUE          FALSE #> 41:  sim_nvoc_cases[7] 2021-05-01  non-VOC     NA     TRUE          FALSE #> 42:  sim_nvoc_cases[8] 2021-05-08  non-VOC     NA     TRUE          FALSE #> 43:  sim_nvoc_cases[9] 2021-05-15  non-VOC     NA     TRUE          FALSE #> 44: sim_nvoc_cases[10] 2021-05-22  non-VOC     NA     TRUE          FALSE #> 45: sim_nvoc_cases[11] 2021-05-29  non-VOC     NA     TRUE          FALSE #> 46: sim_nvoc_cases[12] 2021-06-05  non-VOC     NA     TRUE          FALSE #> 47: sim_nvoc_cases[13] 2021-06-12  non-VOC     NA     TRUE           TRUE #> 48: sim_nvoc_cases[14] 2021-06-19  non-VOC     NA    FALSE          FALSE #> 49: sim_nvoc_cases[15] 2021-06-26  non-VOC     NA    FALSE          FALSE #> 50: sim_nvoc_cases[16] 2021-07-03  non-VOC     NA    FALSE          FALSE #> 51: sim_nvoc_cases[17] 2021-07-10  non-VOC     NA    FALSE          FALSE #> 52: sim_nvoc_cases[18] 2021-07-17  non-VOC     NA    FALSE          FALSE #> 53: sim_nvoc_cases[19] 2021-07-24  non-VOC     NA    FALSE          FALSE #>               variable       date     type    obs observed forecast_start #>       mean median      sd     mad     q5    q20    q80    q95  rhat ess_bulk #>  1:  90000  89200 13600.0 11800.0  70300  79500  99900 113000 1.000     1700 #>  2: 103000 103000 15300.0 13200.0  78900  91000 114000 127000 1.000     1820 #>  3: 113000 113000 16300.0 14500.0  88600 101000 126000 141000 1.000     2090 #>  4: 121000 120000 18000.0 15300.0  93300 108000 133000 152000 1.000     1320 #>  5: 133000 133000 20600.0 17500.0 102000 118000 147000 167000 1.000     2040 #>  6: 140000 139000 20900.0 18500.0 107000 123000 155000 174000 1.000     1980 #>  7: 130000 129000 19500.0 16200.0  99600 115000 143000 162000 1.000     2050 #>  8: 107000 106000 16900.0 14000.0  81900  94400 119000 135000 1.000     2090 #>  9:  79600  78700 12100.0 10500.0  61500  70100  88000  99300 1.000     1920 #> 10:  55300  55000  8030.0  6940.0  42900  49200  61000  69000 1.000     2120 #> 11:  35700  35100  5400.0  4360.0  28300  31800  39200  44900 1.000     1980 #> 12:  22900  22700  3240.0  2840.0  17900  20400  25300  28500 1.000     1810 #> 13:  14100  14100  1900.0  1660.0  11100  12700  15500  17200 1.000     1710 #> 14:   8260   8180  1120.0   937.0   6600   7410   9040  10100 1.000     2240 #> 15:   5110   5010   826.0   678.0   3980   4500   5660   6490 1.000     2070 #> 16:   3470   3340   962.0   830.0   2200   2710   4130   5160 1.000     2070 #> 17:   2660   2390  1440.0  1000.0   1150   1650   3420   5000 1.000     1950 #> 18:   2370   1840  2110.0  1180.0    591   1040   3240   5780 1.000     1990 #> 19:   2540   1490  4390.0  1260.0    285    676   3140   7810 1.000     2080 #> 20:    220    219    37.9    35.6    161    190    251    284 1.000     2160 #> 21:    413    410    72.5    69.7    302    352    469    532 1.000     1900 #> 22:    690    680   121.0   113.0    506    593    782    891 1.000     2050 #> 23:   1020   1010   186.0   164.0    764    878   1150   1350 0.999     2020 #> 24:   1370   1360   254.0   234.0    990   1160   1560   1800 0.999     2430 #> 25:   1700   1670   341.0   309.0   1210   1410   1940   2250 1.000     1790 #> 26:   1930   1900   404.0   354.0   1340   1610   2220   2620 1.000     1520 #> 27:   2130   2090   459.0   411.0   1470   1760   2450   2930 1.000     1840 #> 28:   2210   2170   476.0   441.0   1480   1820   2570   3060 1.000     1600 #> 29:   2070   2030   442.0   412.0   1420   1710   2420   2860 1.000     2270 #> 30:   1920   1880   460.0   388.0   1270   1560   2230   2670 1.000     2030 #> 31:   1800   1710   585.0   491.0   1040   1320   2190   2850 1.000     2190 #> 32:   1750   1570   977.0   681.0    723   1080   2260   3290 1.000     1970 #> 33:   1840   1420  1650.0   927.0    447    786   2490   4440 1.000     2100 #> 34:   2180   1280  3730.0  1070.0    251    571   2700   6610 1.000     2070 #> 35:  90000  89200 13600.0 11800.0  70300  79500  99900 113000 1.000     1700 #> 36: 103000 103000 15300.0 13200.0  78900  91000 114000 127000 1.000     1820 #> 37: 113000 113000 16300.0 14500.0  88600 101000 126000 141000 1.000     2090 #> 38: 121000 120000 18000.0 15300.0  93300 108000 133000 152000 1.000     1320 #> 39: 133000 132000 20600.0 17500.0 102000 118000 147000 167000 1.000     2040 #> 40: 139000 139000 20900.0 18400.0 107000 123000 154000 174000 1.000     1970 #> 41: 129000 128000 19500.0 16200.0  99000 115000 142000 161000 1.000     2050 #> 42: 106000 105000 16800.0 14100.0  81000  93400 118000 134000 1.000     2080 #> 43:  78200  77400 12000.0 10400.0  60300  68700  86600  97900 1.000     1920 #> 44:  53600  53400  7960.0  6830.0  41300  47600  59200  67300 1.000     2120 #> 45:  33800  33300  5310.0  4330.0  26500  29900  37300  43100 1.000     1990 #> 46:  20700  20600  3160.0  2810.0  16000  18200  23100  26300 1.000     1870 #> 47:  11900  11900  1830.0  1620.0   9070  10600  13300  14900 1.000     1760 #> 48:   6190   6120  1030.0   892.0   4690   5380   6940   7910 1.000     2310 #> 49:   3190   3120   648.0   566.0   2280   2680   3640   4340 1.000     2160 #> 50:   1670   1590   525.0   449.0    964   1260   2050   2620 1.000     1800 #> 51:    910    808   538.0   368.0    354    542   1180   1780 1.000     1790 #> 52:    534    402   515.0   265.0    118    226    725   1340 1.000     1810 #> 53:    361    204   710.0   176.0     37     91    444   1090 1.000     1910 #>       mean median      sd     mad     q5    q20    q80    q95  rhat ess_bulk #>     ess_tail #>  1:     1610 #>  2:     1620 #>  3:     1900 #>  4:     1550 #>  5:     1710 #>  6:     1730 #>  7:     1750 #>  8:     1890 #>  9:     1950 #> 10:     1800 #> 11:     1700 #> 12:     1530 #> 13:     1730 #> 14:     1780 #> 15:     1820 #> 16:     1740 #> 17:     1590 #> 18:     1530 #> 19:     1340 #> 20:     1750 #> 21:     1850 #> 22:     1810 #> 23:     1620 #> 24:     1940 #> 25:     1930 #> 26:     1480 #> 27:     1670 #> 28:     1480 #> 29:     1750 #> 30:     1920 #> 31:     1710 #> 32:     1700 #> 33:     1580 #> 34:     1540 #> 35:     1610 #> 36:     1620 #> 37:     1900 #> 38:     1550 #> 39:     1710 #> 40:     1730 #> 41:     1750 #> 42:     1890 #> 43:     1990 #> 44:     1810 #> 45:     1690 #> 46:     1530 #> 47:     1780 #> 48:     1930 #> 49:     1380 #> 50:     1810 #> 51:     1390 #> 52:     1430 #> 53:     1400 #>     ess_tail  # summary of the case summary summary(posterior, type = \"cases\", as_dt = TRUE) #>    variable              date                type                obs         #>  Length:53          Min.   :2021-03-20   Length:53          Min.   :  5033   #>  Class :character   1st Qu.:2021-04-24   Class :character   1st Qu.: 27842   #>  Mode  :character   Median :2021-05-29   Mode  :character   Median : 87328   #>                     Mean   :2021-05-25                      Mean   : 77848   #>                     3rd Qu.:2021-06-26                      3rd Qu.:113704   #>                     Max.   :2021-07-24                      Max.   :145568   #>                                                             NA's   :38       #>   observed       forecast_start       mean            median       #>  Mode :logical   Mode :logical   Min.   :   220   Min.   :   204   #>  FALSE:16        FALSE:50        1st Qu.:  1920   1st Qu.:  1670   #>  TRUE :37        TRUE :3         Median :  8260   Median :  8180   #>                                  Mean   : 44100   Mean   : 43764   #>                                  3rd Qu.:103000   3rd Qu.:103000   #>                                  Max.   :140000   Max.   :139000   #>                                                                    #>        sd               mad                q5              q20         #>  Min.   :   37.9   Min.   :   35.6   Min.   :    37   Min.   :    91   #>  1st Qu.:  538.0   1st Qu.:  441.0   1st Qu.:   990   1st Qu.:  1260   #>  Median : 2110.0   Median : 1260.0   Median :  6600   Median :  7410   #>  Mean   : 6944.1   Mean   : 5830.0   Mean   : 33834   Mean   : 38924   #>  3rd Qu.:15300.0   3rd Qu.:13200.0   3rd Qu.: 78900   3rd Qu.: 91000   #>  Max.   :20900.0   Max.   :18500.0   Max.   :107000   Max.   :123000   #>                                                                        #>       q80              q95              rhat          ess_bulk    #>  Min.   :   251   Min.   :   284   Min.   :0.999   Min.   :1320   #>  1st Qu.:  2260   1st Qu.:  2860   1st Qu.:1.000   1st Qu.:1820   #>  Median :  9040   Median : 10100   Median :1.000   Median :1990   #>  Mean   : 48879   Mean   : 55590   Mean   :1.000   Mean   :1952   #>  3rd Qu.:114000   3rd Qu.:127000   3rd Qu.:1.000   3rd Qu.:2080   #>  Max.   :155000   Max.   :174000   Max.   :1.000   Max.   :2430   #>                                                                   #>     ess_tail    #>  Min.   :1340   #>  1st Qu.:1580   #>  Median :1710   #>  Mean   :1696   #>  3rd Qu.:1810   #>  Max.   :1990   #>                  # case forecast only summary(posterior, type = \"cases\", forecast = TRUE) #>         type       date horizon forecast_start mean median   sd  mad   q5  q20 #>  1: Combined 2021-07-03       1          FALSE 3470   3340  962  830 2200 2710 #>  2: Combined 2021-07-10       2          FALSE 2660   2390 1440 1000 1150 1650 #>  3: Combined 2021-07-17       3          FALSE 2370   1840 2110 1180  591 1040 #>  4: Combined 2021-07-24       4          FALSE 2540   1490 4390 1260  285  676 #>  5:      VOC 2021-06-19       1          FALSE 2070   2030  442  412 1420 1710 #>  6:      VOC 2021-06-26       2          FALSE 1920   1880  460  388 1270 1560 #>  7:      VOC 2021-07-03       3          FALSE 1800   1710  585  491 1040 1320 #>  8:      VOC 2021-07-10       4          FALSE 1750   1570  977  681  723 1080 #>  9:      VOC 2021-07-17       5          FALSE 1840   1420 1650  927  447  786 #> 10:      VOC 2021-07-24       6          FALSE 2180   1280 3730 1070  251  571 #> 11:  non-VOC 2021-06-19       1          FALSE 6190   6120 1030  892 4690 5380 #> 12:  non-VOC 2021-06-26       2          FALSE 3190   3120  648  566 2280 2680 #> 13:  non-VOC 2021-07-03       3          FALSE 1670   1590  525  449  964 1260 #> 14:  non-VOC 2021-07-10       4          FALSE  910    808  538  368  354  542 #> 15:  non-VOC 2021-07-17       5          FALSE  534    402  515  265  118  226 #> 16:  non-VOC 2021-07-24       6          FALSE  361    204  710  176   37   91 #>      q80  q95 #>  1: 4130 5160 #>  2: 3420 5000 #>  3: 3240 5780 #>  4: 3140 7810 #>  5: 2420 2860 #>  6: 2230 2670 #>  7: 2190 2850 #>  8: 2260 3290 #>  9: 2490 4440 #> 10: 2700 6610 #> 11: 6940 7910 #> 12: 3640 4340 #> 13: 2050 2620 #> 14: 1180 1780 #> 15:  725 1340 #> 16:  444 1090  # voc fraction summary summary(posterior, type = \"voc_frac\") #>         variable       date type         obs observed forecast_start    mean #>  1:  frac_voc[1] 2021-04-17  VOC 0.001465917     TRUE          FALSE 0.00166 #>  2:  frac_voc[2] 2021-04-24  VOC 0.007085917     TRUE          FALSE 0.00299 #>  3:  frac_voc[3] 2021-05-01  VOC 0.015085025     TRUE          FALSE 0.00537 #>  4:  frac_voc[4] 2021-05-08  VOC 0.019443217     TRUE          FALSE 0.00963 #>  5:  frac_voc[5] 2021-05-15  VOC 0.026459592     TRUE          FALSE 0.01720 #>  6:  frac_voc[6] 2021-05-22  VOC 0.032900194     TRUE          FALSE 0.03060 #>  7:  frac_voc[7] 2021-05-29  VOC 0.038084020     TRUE          FALSE 0.05400 #>  8:  frac_voc[8] 2021-06-05  VOC 0.085600907     TRUE          FALSE 0.09330 #>  9:  frac_voc[9] 2021-06-12  VOC 0.166666667     TRUE           TRUE 0.15700 #> 10: frac_voc[10] 2021-06-19  VOC          NA    FALSE          FALSE 0.25100 #> 11: frac_voc[11] 2021-06-26  VOC          NA    FALSE          FALSE 0.37500 #> 12: frac_voc[12] 2021-07-03  VOC          NA    FALSE          FALSE 0.51700 #> 13: frac_voc[13] 2021-07-10  VOC          NA    FALSE          FALSE 0.65600 #> 14: frac_voc[14] 2021-07-17  VOC          NA    FALSE          FALSE 0.77200 #> 15: frac_voc[15] 2021-07-24  VOC          NA    FALSE          FALSE 0.85800 #>      median       sd      mad      q5     q20     q80     q95 rhat ess_bulk #>  1: 0.00165 0.000208 0.000200 0.00136 0.00149 0.00183 0.00203    1     2090 #>  2: 0.00296 0.000328 0.000323 0.00248 0.00272 0.00326 0.00357    1     2210 #>  3: 0.00533 0.000540 0.000524 0.00449 0.00491 0.00582 0.00630    1     2390 #>  4: 0.00960 0.000953 0.000953 0.00809 0.00884 0.01040 0.01120    1     2510 #>  5: 0.01720 0.001810 0.001750 0.01430 0.01580 0.01870 0.02020    1     2320 #>  6: 0.03050 0.003580 0.003400 0.02510 0.02780 0.03350 0.03660    1     2160 #>  7: 0.05370 0.007090 0.006590 0.04330 0.04830 0.05940 0.06610    1     2010 #>  8: 0.09250 0.013600 0.012200 0.07270 0.08270 0.10400 0.11700    1     1830 #>  9: 0.15500 0.024200 0.021700 0.12000 0.13800 0.17500 0.19800    1     1720 #> 10: 0.24800 0.038800 0.035100 0.19100 0.22000 0.28000 0.31800    1     1640 #> 11: 0.37300 0.054000 0.048500 0.28900 0.33200 0.41700 0.46800    1     1600 #> 12: 0.51700 0.063700 0.057400 0.41300 0.46900 0.56700 0.62400    1     1600 #> 13: 0.65800 0.063500 0.057300 0.54700 0.60900 0.70800 0.75800    1     1610 #> 14: 0.77500 0.054700 0.048900 0.67600 0.73300 0.81700 0.85500    1     1610 #> 15: 0.86100 0.041900 0.036700 0.78300 0.82900 0.89200 0.91700    1     1620 #>     ess_tail #>  1:     1790 #>  2:     1640 #>  3:     1790 #>  4:     1780 #>  5:     1640 #>  6:     1530 #>  7:     1420 #>  8:     1340 #>  9:     1370 #> 10:     1440 #> 11:     1380 #> 12:     1440 #> 13:     1440 #> 14:     1420 #> 15:     1490  # voc advantage summary summary(posterior, type = \"voc_advantage\") #>              variable       date type observed forecast_start     mean   median #>  1:  voc_advantage[1] 2021-04-17  VOC     TRUE          FALSE 1.588493 1.587245 #>  2:  voc_advantage[2] 2021-04-24  VOC     TRUE          FALSE 1.588493 1.587245 #>  3:  voc_advantage[3] 2021-05-01  VOC     TRUE          FALSE 1.588493 1.587245 #>  4:  voc_advantage[4] 2021-05-08  VOC     TRUE          FALSE 1.588493 1.587245 #>  5:  voc_advantage[5] 2021-05-15  VOC     TRUE          FALSE 1.588493 1.587245 #>  6:  voc_advantage[6] 2021-05-22  VOC     TRUE          FALSE 1.588493 1.587245 #>  7:  voc_advantage[7] 2021-05-29  VOC     TRUE          FALSE 1.588493 1.587245 #>  8:  voc_advantage[8] 2021-06-05  VOC     TRUE           TRUE 1.588493 1.587245 #>  9:  voc_advantage[9] 2021-06-12  VOC    FALSE          FALSE 1.588493 1.587245 #> 10: voc_advantage[10] 2021-06-19  VOC    FALSE          FALSE 1.588493 1.587245 #> 11: voc_advantage[11] 2021-06-26  VOC    FALSE          FALSE 1.588493 1.587245 #> 12: voc_advantage[12] 2021-07-03  VOC    FALSE          FALSE 1.588493 1.587245 #> 13: voc_advantage[13] 2021-07-10  VOC    FALSE          FALSE 1.588493 1.587245 #> 14: voc_advantage[14] 2021-07-17  VOC    FALSE          FALSE 1.588493 1.587245 #>         sd    mad      q5      q20     q80     q95 rhat ess_bulk ess_tail #>  1: 0.0287 0.0273 1.53331 1.560044 1.61619 1.64825    1     1670     1510 #>  2: 0.0287 0.0273 1.53331 1.560044 1.61619 1.64825    1     1670     1510 #>  3: 0.0287 0.0273 1.53331 1.560044 1.61619 1.64825    1     1670     1510 #>  4: 0.0287 0.0273 1.53331 1.560044 1.61619 1.64825    1     1670     1510 #>  5: 0.0287 0.0273 1.53331 1.560044 1.61619 1.64825    1     1670     1510 #>  6: 0.0287 0.0273 1.53331 1.560044 1.61619 1.64825    1     1670     1510 #>  7: 0.0287 0.0273 1.53331 1.560044 1.61619 1.64825    1     1670     1510 #>  8: 0.0287 0.0273 1.53331 1.560044 1.61619 1.64825    1     1670     1510 #>  9: 0.0287 0.0273 1.53331 1.560044 1.61619 1.64825    1     1670     1510 #> 10: 0.0287 0.0273 1.53331 1.560044 1.61619 1.64825    1     1670     1510 #> 11: 0.0287 0.0273 1.53331 1.560044 1.61619 1.64825    1     1670     1510 #> 12: 0.0287 0.0273 1.53331 1.560044 1.61619 1.64825    1     1670     1510 #> 13: 0.0287 0.0273 1.53331 1.560044 1.61619 1.64825    1     1670     1510 #> 14: 0.0287 0.0273 1.53331 1.560044 1.61619 1.64825    1     1670     1510  # growth summary summary(posterior, type = \"growth\") #>      variable       date     type observed forecast_start        mean #>  1:  com_r[1] 2021-03-20 Combined     TRUE          FALSE  0.10607143 #>  2:  com_r[2] 2021-03-27 Combined     TRUE          FALSE  0.07935714 #>  3:  com_r[3] 2021-04-03 Combined     TRUE          FALSE  0.04950000 #>  4:  com_r[4] 2021-04-10 Combined     TRUE          FALSE  0.07472143 #>  5:  com_r[5] 2021-04-17 Combined     TRUE          FALSE  0.03150714 #>  6:  com_r[6] 2021-04-24 Combined     TRUE          FALSE -0.05775000 #>  7:  com_r[7] 2021-05-01 Combined     TRUE          FALSE -0.14771429 #>  8:  com_r[8] 2021-05-08 Combined     TRUE          FALSE -0.22707143 #>  9:  com_r[9] 2021-05-15 Combined     TRUE          FALSE -0.28207143 #> 10: com_r[10] 2021-05-22 Combined     TRUE          FALSE -0.33785714 #> 11: com_r[11] 2021-05-29 Combined     TRUE          FALSE -0.34178571 #> 12: com_r[12] 2021-06-05 Combined     TRUE          FALSE -0.36142857 #> 13: com_r[13] 2021-06-12 Combined     TRUE          FALSE -0.39992857 #> 14: com_r[14] 2021-06-19 Combined     TRUE           TRUE -0.34650000 #> 15: com_r[15] 2021-06-26 Combined    FALSE          FALSE -0.29307143 #> 16: com_r[16] 2021-07-03 Combined    FALSE          FALSE -0.23100000 #> 17: com_r[17] 2021-07-10 Combined    FALSE          FALSE -0.18700000 #> 18: com_r[18] 2021-07-17 Combined    FALSE          FALSE -0.15164286 #> 19:  voc_r[1] 2021-04-17      VOC     TRUE          FALSE  0.49264286 #> 20:  voc_r[2] 2021-04-24      VOC     TRUE          FALSE  0.40228571 #> 21:  voc_r[3] 2021-05-01      VOC     TRUE          FALSE  0.31035714 #> 22:  voc_r[4] 2021-05-08      VOC     TRUE          FALSE  0.22707143 #> 23:  voc_r[5] 2021-05-15      VOC     TRUE          FALSE  0.16578571 #> 24:  voc_r[6] 2021-05-22      VOC     TRUE          FALSE  0.09900000 #> 25:  voc_r[7] 2021-05-29      VOC     TRUE          FALSE  0.07770714 #> 26:  voc_r[8] 2021-06-05      VOC     TRUE           TRUE  0.02860000 #> 27:  voc_r[9] 2021-06-12      VOC    FALSE          FALSE -0.05397857 #> 28: voc_r[10] 2021-06-19      VOC    FALSE          FALSE -0.05830000 #> 29: voc_r[11] 2021-06-26      VOC    FALSE          FALSE -0.07142143 #> 30: voc_r[12] 2021-07-03      VOC    FALSE          FALSE -0.07377857 #> 31: voc_r[13] 2021-07-10      VOC    FALSE          FALSE -0.08250000 #> 32: voc_r[14] 2021-07-17      VOC    FALSE          FALSE -0.08721429 #> 33:      r[1] 2021-03-20  non-VOC     TRUE          FALSE  0.10607143 #> 34:      r[2] 2021-03-27  non-VOC     TRUE          FALSE  0.07935714 #> 35:      r[3] 2021-04-03  non-VOC     TRUE          FALSE  0.04950000 #> 36:      r[4] 2021-04-10  non-VOC     TRUE          FALSE  0.07472143 #> 37:      r[5] 2021-04-17  non-VOC     TRUE          FALSE  0.03009286 #> 38:      r[6] 2021-04-24  non-VOC     TRUE          FALSE -0.06018571 #> 39:      r[7] 2021-05-01  non-VOC     TRUE          FALSE -0.15242857 #> 40:      r[8] 2021-05-08  non-VOC     TRUE          FALSE -0.23571429 #> 41:      r[9] 2021-05-15  non-VOC     TRUE          FALSE -0.29700000 #> 42:     r[10] 2021-05-22  non-VOC     TRUE          FALSE -0.36300000 #> 43:     r[11] 2021-05-29  non-VOC     TRUE          FALSE -0.38500000 #> 44:     r[12] 2021-06-05  non-VOC     TRUE           TRUE -0.43371429 #> 45:     r[13] 2021-06-12  non-VOC    FALSE          FALSE -0.51621429 #> 46:     r[14] 2021-06-19  non-VOC    FALSE          FALSE -0.52092857 #> 47:     r[15] 2021-06-26  non-VOC    FALSE          FALSE -0.53428571 #> 48:     r[16] 2021-07-03  non-VOC    FALSE          FALSE -0.53664286 #> 49:     r[17] 2021-07-10  non-VOC    FALSE          FALSE -0.54528571 #> 50:     r[18] 2021-07-17  non-VOC    FALSE          FALSE -0.54921429 #>      variable       date     type observed forecast_start        mean #>          median     sd    mad           q5          q20          q80 #>  1:  0.10764286 0.0759 0.0750  0.007857143  0.057200000  0.154785714 #>  2:  0.08014286 0.0656 0.0561 -0.005971429  0.041328571  0.116285714 #>  3:  0.05500000 0.0710 0.0618 -0.048321429  0.007566429  0.091928571 #>  4:  0.07157857 0.0711 0.0632 -0.008485714  0.031978571  0.117857143 #>  5:  0.03001429 0.0706 0.0635 -0.052957143 -0.011471429  0.074171429 #>  6: -0.05892857 0.0676 0.0586 -0.143785714 -0.098214286 -0.019250000 #>  7: -0.14771429 0.0699 0.0612 -0.235714286 -0.189357143 -0.108428571 #>  8: -0.22550000 0.0696 0.0589 -0.319785714 -0.266357143 -0.188571429 #>  9: -0.28285714 0.0709 0.0596 -0.372428571 -0.322928571 -0.242785714 #> 10: -0.33471429 0.0679 0.0591 -0.428214286 -0.377142857 -0.298571429 #> 11: -0.34335714 0.0691 0.0621 -0.425071429 -0.381857143 -0.299357143 #> 12: -0.36300000 0.0745 0.0661 -0.457285714 -0.404642857 -0.317428571 #> 13: -0.39835714 0.0803 0.0697 -0.509142857 -0.445500000 -0.352000000 #> 14: -0.34807143 0.0975 0.0886 -0.465142857 -0.407785714 -0.287571429 #> 15: -0.29464286 0.1760 0.1590 -0.511500000 -0.399142857 -0.185428571 #> 16: -0.23021429 0.2340 0.2120 -0.527214286 -0.375571429 -0.094285714 #> 17: -0.18464286 0.2950 0.2620 -0.553142857 -0.364571429 -0.012885714 #> 18: -0.14614286 0.3450 0.3020 -0.576714286 -0.358285714  0.059242857 #> 19:  0.48950000 0.0723 0.0664  0.403857143  0.449428571  0.536642857 #> 20:  0.40307143 0.0699 0.0630  0.315071429  0.360642857  0.443928571 #> 21:  0.31114286 0.0728 0.0665  0.214500000  0.266357143  0.353571429 #> 22:  0.22942857 0.0740 0.0635  0.129642857  0.183857143  0.271071429 #> 23:  0.16657143 0.0741 0.0624  0.068357143  0.122571429  0.209000000 #> 24:  0.10214286 0.0729 0.0659  0.002993571  0.054764286  0.142214286 #> 25:  0.07739286 0.0728 0.0665 -0.011785714  0.034021429  0.123357143 #> 26:  0.02805000 0.0768 0.0672 -0.069928571 -0.016342857  0.074800000 #> 27: -0.05280000 0.0811 0.0715 -0.162642857 -0.101357143 -0.005570714 #> 28: -0.06097143 0.0981 0.0905 -0.176000000 -0.117857143  0.000269500 #> 29: -0.07322857 0.1770 0.1590 -0.291500000 -0.179142857  0.034650000 #> 30: -0.07315000 0.2350 0.2110 -0.367714286 -0.214500000  0.066550000 #> 31: -0.08171429 0.2950 0.2630 -0.446285714 -0.258500000  0.091142857 #> 32: -0.08328571 0.3450 0.3030 -0.520928571 -0.293071429  0.121785714 #> 33:  0.10764286 0.0759 0.0750  0.007857143  0.057200000  0.154785714 #> 34:  0.08014286 0.0656 0.0561 -0.005971429  0.041328571  0.116285714 #> 35:  0.05500000 0.0710 0.0618 -0.048321429  0.007566429  0.091928571 #> 36:  0.07157857 0.0711 0.0632 -0.008485714  0.031978571  0.117857143 #> 37:  0.02860000 0.0706 0.0635 -0.054371429 -0.012964286  0.072757143 #> 38: -0.06136429 0.0676 0.0585 -0.146142857 -0.100571429 -0.021764286 #> 39: -0.15242857 0.0699 0.0610 -0.239642857 -0.194071429 -0.113142857 #> 40: -0.23414286 0.0695 0.0592 -0.327642857 -0.274214286 -0.196428571 #> 41: -0.29700000 0.0710 0.0597 -0.385785714 -0.337857143 -0.256928571 #> 42: -0.35985714 0.0678 0.0588 -0.454142857 -0.403071429 -0.323714286 #> 43: -0.38735714 0.0696 0.0623 -0.469857143 -0.426642857 -0.342571429 #> 44: -0.43528571 0.0757 0.0658 -0.528000000 -0.478500000 -0.389714286 #> 45: -0.51542857 0.0832 0.0735 -0.629357143 -0.564142857 -0.463571429 #> 46: -0.52092857 0.1030 0.0948 -0.649000000 -0.585357143 -0.458071429 #> 47: -0.53428571 0.1810 0.1620 -0.763714286 -0.645857143 -0.426642857 #> 48: -0.53821429 0.2380 0.2160 -0.840714286 -0.677285714 -0.392071429 #> 49: -0.54292857 0.2980 0.2670 -0.919285714 -0.722857143 -0.370071429 #> 50: -0.54292857 0.3470 0.3080 -0.990000000 -0.754285714 -0.346500000 #>          median     sd    mad           q5          q20          q80 #>             q95 rhat ess_bulk ess_tail #>  1:  0.20114286 1.00      952     1190 #>  2:  0.16185714 1.00     1840     1450 #>  3:  0.13435714 1.01     1190     1230 #>  4:  0.17050000 1.00     1170     1220 #>  5:  0.12492857 1.00     1910     1440 #>  6:  0.02954286 1.00     2310     1580 #>  7: -0.05782857 1.00     2290     1630 #>  8: -0.14300000 1.00     2660     1870 #>  9: -0.19407143 1.00     2410     1850 #> 10: -0.26085714 1.00     1740     1800 #> 11: -0.25142857 1.00     2270     1920 #> 12: -0.26635714 1.00     1870     1710 #> 13: -0.30328571 1.00     1380     1240 #> 14: -0.22157143 1.00     2870     1750 #> 15: -0.06435000 1.00     2000     1240 #> 16:  0.06309286 1.00     2200     1620 #> 17:  0.19407143 1.00     2000     1390 #> 18:  0.30014286 1.00     2190     1510 #> 19:  0.58850000 1.00     1910     1700 #> 20:  0.49185714 1.00     2200     1650 #> 21:  0.40150000 1.00     2210     1540 #> 22:  0.31821429 1.00     2410     1550 #> 23:  0.25771429 1.00     2300     1720 #> 24:  0.18228571 1.00     1750     1780 #> 25:  0.17442857 1.00     2260     1890 #> 26:  0.12492857 1.00     1810     1710 #> 27:  0.04541429 1.00     1440     1250 #> 28:  0.06906429 1.00     2880     1640 #> 29:  0.16028571 1.00     1980     1120 #> 30:  0.23335714 1.00     2210     1510 #> 31:  0.30171429 1.00     1960     1450 #> 32:  0.36535714 1.00     2190     1480 #> 33:  0.20114286 1.00      952     1190 #> 34:  0.16185714 1.00     1840     1450 #> 35:  0.13435714 1.01     1190     1230 #> 36:  0.17050000 1.00     1170     1220 #> 37:  0.12335714 1.00     1910     1410 #> 38:  0.02710714 1.00     2310     1580 #> 39: -0.06167857 1.00     2290     1630 #> 40: -0.15085714 1.00     2660     1840 #> 41: -0.20742857 1.00     2410     1810 #> 42: -0.28521429 1.00     1700     1830 #> 43: -0.29385714 1.00     2240     1890 #> 44: -0.33392857 1.00     1760     1760 #> 45: -0.41800000 1.00     1380     1360 #> 46: -0.38657143 1.00     2650     1670 #> 47: -0.29228571 1.00     1930     1090 #> 48: -0.23650000 1.00     2170     1550 #> 49: -0.15714286 1.00     1910     1490 #> 50: -0.09821429 1.00     2160     1440 #>             q95 rhat ess_bulk ess_tail  # Rt summary summary(posterior, type = \"rt\") #>      variable       date     type observed forecast_start      mean    median #>  1:  com_r[1] 2021-03-20 Combined     TRUE          FALSE 1.1119013 1.1136499 #>  2:  com_r[2] 2021-03-27 Combined     TRUE          FALSE 1.0825909 1.0834418 #>  3:  com_r[3] 2021-04-03 Combined     TRUE          FALSE 1.0507456 1.0565406 #>  4:  com_r[4] 2021-04-10 Combined     TRUE          FALSE 1.0775839 1.0742025 #>  5:  com_r[5] 2021-04-17 Combined     TRUE          FALSE 1.0320087 1.0304693 #>  6:  com_r[6] 2021-04-24 Combined     TRUE          FALSE 0.9438859 0.9427741 #>  7:  com_r[7] 2021-05-01 Combined     TRUE          FALSE 0.8626776 0.8626776 #>  8:  com_r[8] 2021-05-08 Combined     TRUE          FALSE 0.7968639 0.7981171 #>  9:  com_r[9] 2021-05-15 Combined     TRUE          FALSE 0.7542198 0.7536274 #> 10: com_r[10] 2021-05-22 Combined     TRUE          FALSE 0.7132972 0.7155425 #> 11: com_r[11] 2021-05-29 Combined     TRUE          FALSE 0.7105004 0.7093848 #> 12: com_r[12] 2021-06-05 Combined     TRUE          FALSE 0.6966804 0.6955864 #> 13: com_r[13] 2021-06-12 Combined     TRUE          FALSE 0.6703679 0.6714222 #> 14: com_r[14] 2021-06-19 Combined     TRUE           TRUE 0.7071588 0.7060484 #> 15: com_r[15] 2021-06-26 Combined    FALSE          FALSE 0.7459689 0.7447975 #> 16: com_r[16] 2021-07-03 Combined    FALSE          FALSE 0.7937395 0.7943634 #> 17: com_r[17] 2021-07-10 Combined    FALSE          FALSE 0.8294437 0.8314012 #> 18: com_r[18] 2021-07-17 Combined    FALSE          FALSE 0.8592951 0.8640343 #> 19:  voc_r[1] 2021-04-17      VOC     TRUE          FALSE 1.6366359 1.6315003 #> 20:  voc_r[2] 2021-04-24      VOC     TRUE          FALSE 1.4952385 1.4964138 #> 21:  voc_r[3] 2021-05-01      VOC     TRUE          FALSE 1.3639121 1.3649842 #> 22:  voc_r[4] 2021-05-08      VOC     TRUE          FALSE 1.2549195 1.2578810 #> 23:  voc_r[5] 2021-05-15      VOC     TRUE          FALSE 1.1803201 1.1812479 #> 24:  voc_r[6] 2021-05-22      VOC     TRUE          FALSE 1.1040663 1.1075417 #> 25:  voc_r[7] 2021-05-29      VOC     TRUE          FALSE 1.0808061 1.0804665 #> 26:  voc_r[8] 2021-06-05      VOC     TRUE           TRUE 1.0290129 1.0284471 #> 27:  voc_r[9] 2021-06-12      VOC    FALSE          FALSE 0.9474524 0.9485697 #> 28: voc_r[10] 2021-06-19      VOC    FALSE          FALSE 0.9433669 0.9408501 #> 29: voc_r[11] 2021-06-26      VOC    FALSE          FALSE 0.9310694 0.9293884 #> 30: voc_r[12] 2021-07-03      VOC    FALSE          FALSE 0.9288774 0.9294614 #> 31: voc_r[13] 2021-07-10      VOC    FALSE          FALSE 0.9208114 0.9215352 #> 32: voc_r[14] 2021-07-17      VOC    FALSE          FALSE 0.9164807 0.9200882 #> 33:      r[1] 2021-03-20  non-VOC     TRUE          FALSE 1.1119013 1.1136499 #> 34:      r[2] 2021-03-27  non-VOC     TRUE          FALSE 1.0825909 1.0834418 #> 35:      r[3] 2021-04-03  non-VOC     TRUE          FALSE 1.0507456 1.0565406 #> 36:      r[4] 2021-04-10  non-VOC     TRUE          FALSE 1.0775839 1.0742025 #> 37:      r[5] 2021-04-17  non-VOC     TRUE          FALSE 1.0305502 1.0290129 #> 38:      r[6] 2021-04-24  non-VOC     TRUE          FALSE 0.9415897 0.9404806 #> 39:      r[7] 2021-05-01  non-VOC     TRUE          FALSE 0.8586202 0.8586202 #> 40:      r[8] 2021-05-08  non-VOC     TRUE          FALSE 0.7900064 0.7912488 #> 41:      r[9] 2021-05-15  non-VOC     TRUE          FALSE 0.7430440 0.7430440 #> 42:     r[10] 2021-05-22  non-VOC     TRUE          FALSE 0.6955864 0.6977760 #> 43:     r[11] 2021-05-29  non-VOC     TRUE          FALSE 0.6804506 0.6788486 #> 44:     r[12] 2021-06-05  non-VOC     TRUE           TRUE 0.6480974 0.6470798 #> 45:     r[13] 2021-06-12  non-VOC    FALSE          FALSE 0.5967755 0.5972446 #> 46:     r[14] 2021-06-19  non-VOC    FALSE          FALSE 0.5939687 0.5939687 #> 47:     r[15] 2021-06-26  non-VOC    FALSE          FALSE 0.5860878 0.5860878 #> 48:     r[16] 2021-07-03  non-VOC    FALSE          FALSE 0.5847079 0.5837898 #> 49:     r[17] 2021-07-10  non-VOC    FALSE          FALSE 0.5796761 0.5810441 #> 50:     r[18] 2021-07-17  non-VOC    FALSE          FALSE 0.5774033 0.5810441 #>      variable       date     type observed forecast_start      mean    median #>         sd    mad        q5       q20       q80       q95 rhat ess_bulk #>  1: 0.0759 0.0750 1.0078881 1.0588676 1.1674078 1.2227994 1.00      952 #>  2: 0.0656 0.0561 0.9940464 1.0421945 1.1233168 1.1756923 1.00     1840 #>  3: 0.0710 0.0618 0.9528275 1.0075951 1.0962865 1.1438012 1.01     1190 #>  4: 0.0711 0.0632 0.9915502 1.0324954 1.1250834 1.1858977 1.00     1170 #>  5: 0.0706 0.0635 0.9484207 0.9885941 1.0769914 1.1330675 1.00     1910 #>  6: 0.0676 0.0586 0.8660733 0.9064546 0.9809341 1.0299836 1.00     2310 #>  7: 0.0699 0.0612 0.7900064 0.8274909 0.8972430 0.9438117 1.00     2290 #>  8: 0.0696 0.0589 0.7263047 0.7661654 0.8281413 0.8667541 1.00     2660 #>  9: 0.0709 0.0596 0.6890589 0.7240256 0.7844396 0.8235991 1.00     2410 #> 10: 0.0679 0.0591 0.6516718 0.6858181 0.7418773 0.7703910 1.00     1740 #> 11: 0.0691 0.0621 0.6537231 0.6825926 0.7412946 0.7776890 1.00     2270 #> 12: 0.0745 0.0661 0.6329995 0.6672151 0.7280187 0.7661654 1.00     1870 #> 13: 0.0803 0.0697 0.6010105 0.6405039 0.7032801 0.7383881 1.00     1380 #> 14: 0.0975 0.0886 0.6280454 0.6651214 0.7500830 0.8012587 1.00     2870 #> 15: 0.1760 0.1590 0.5995955 0.6708949 0.8307482 0.9376768 1.00     2000 #> 16: 0.2340 0.2120 0.5902469 0.6868967 0.9100227 1.0651257 1.00     2200 #> 17: 0.2950 0.2620 0.5751394 0.6944942 0.9871970 1.2141830 1.00     2000 #> 18: 0.3450 0.3020 0.5617411 0.6988734 1.0610329 1.3500517 1.00     2190 #> 19: 0.0723 0.0664 1.4975900 1.5674163 1.7102556 1.8012845 1.00     1910 #> 20: 0.0699 0.0630 1.3703572 1.4342511 1.5588191 1.6353505 1.00     2200 #> 21: 0.0728 0.0665 1.2392421 1.3052011 1.4241447 1.4940641 1.00     2210 #> 22: 0.0740 0.0635 1.1384217 1.2018441 1.3113687 1.3746708 1.00     2410 #> 23: 0.0741 0.0624 1.0707477 1.1303999 1.2324450 1.2939691 1.00     2300 #> 24: 0.0729 0.0659 1.0029981 1.0562916 1.1528237 1.1999570 1.00     1750 #> 25: 0.0728 0.0665 0.9882835 1.0346068 1.1312884 1.1905657 1.00     2260 #> 26: 0.0768 0.0672 0.9324604 0.9837900 1.0776686 1.1330675 1.00     1810 #> 27: 0.0811 0.0715 0.8498947 0.9036103 0.9944448 1.0464613 1.00     1440 #> 28: 0.0981 0.0905 0.8386180 0.8888230 1.0002695 1.0715051 1.00     2880 #> 29: 0.1770 0.1590 0.7471420 0.8359865 1.0352573 1.1738462 1.00     1980 #> 30: 0.2350 0.2110 0.6923150 0.8069448 1.0688144 1.2628324 1.00     2210 #> 31: 0.2950 0.2630 0.6400009 0.7722090 1.0954255 1.3521748 1.00     1960 #> 32: 0.3450 0.3030 0.5939687 0.7459689 1.1295120 1.4410286 1.00     2190 #> 33: 0.0759 0.0750 1.0078881 1.0588676 1.1674078 1.2227994 1.00      952 #> 34: 0.0656 0.0561 0.9940464 1.0421945 1.1233168 1.1756923 1.00     1840 #> 35: 0.0710 0.0618 0.9528275 1.0075951 1.0962865 1.1438012 1.01     1190 #> 36: 0.0711 0.0632 0.9915502 1.0324954 1.1250834 1.1858977 1.00     1170 #> 37: 0.0706 0.0635 0.9470803 0.9871194 1.0754693 1.1312884 1.00     1910 #> 38: 0.0676 0.0585 0.8640343 0.9043205 0.9784708 1.0274779 1.00     2310 #> 39: 0.0699 0.0610 0.7869088 0.8235991 0.8930231 0.9401850 1.00     2290 #> 40: 0.0695 0.0592 0.7206203 0.7601692 0.8216600 0.8599705 1.00     2660 #> 41: 0.0710 0.0597 0.6799162 0.7132972 0.7734235 0.8126713 1.00     2410 #> 42: 0.0678 0.0588 0.6349920 0.6682644 0.7234569 0.7518531 1.00     1700 #> 43: 0.0696 0.0623 0.6250916 0.6526966 0.7099424 0.7453830 1.00     2240 #> 44: 0.0757 0.0658 0.5897834 0.6197123 0.6772503 0.7161049 1.00     1760 #> 45: 0.0832 0.0735 0.5329343 0.5688475 0.6290331 0.6583622 1.00     1380 #> 46: 0.1030 0.0948 0.5225681 0.5569069 0.6325023 0.6793822 1.00     2650 #> 47: 0.1810 0.1620 0.4659326 0.5242130 0.6526966 0.7465552 1.00     1930 #> 48: 0.2380 0.2160 0.4314023 0.5079940 0.6756559 0.7893859 1.00     2170 #> 49: 0.2980 0.2670 0.3988038 0.4853635 0.6906850 0.8545820 1.00     1910 #> 50: 0.3470 0.3080 0.3715767 0.4703465 0.7071588 0.9064546 1.00     2160 #>         sd    mad        q5       q20       q80       q95 rhat ess_bulk #>     ess_tail #>  1:     1190 #>  2:     1450 #>  3:     1230 #>  4:     1220 #>  5:     1440 #>  6:     1580 #>  7:     1630 #>  8:     1870 #>  9:     1850 #> 10:     1800 #> 11:     1920 #> 12:     1710 #> 13:     1240 #> 14:     1750 #> 15:     1240 #> 16:     1620 #> 17:     1390 #> 18:     1510 #> 19:     1700 #> 20:     1650 #> 21:     1540 #> 22:     1550 #> 23:     1720 #> 24:     1780 #> 25:     1890 #> 26:     1710 #> 27:     1250 #> 28:     1640 #> 29:     1120 #> 30:     1510 #> 31:     1450 #> 32:     1480 #> 33:     1190 #> 34:     1450 #> 35:     1230 #> 36:     1220 #> 37:     1410 #> 38:     1580 #> 39:     1630 #> 40:     1840 #> 41:     1810 #> 42:     1830 #> 43:     1890 #> 44:     1760 #> 45:     1360 #> 46:     1670 #> 47:     1090 #> 48:     1550 #> 49:     1490 #> 50:     1440 #>     ess_tail  # model parameter summary summary(posterior, type = \"model\") #>             variable                  clean_name exponentiated         mean #> 1: avg_voc_advantage          Average VOC effect         FALSE     0.589000 #> 2:              beta                        Beta         FALSE     0.203000 #> 3:     init_cases[1]               Initial cases          TRUE 89321.723361 #> 4:     init_cases[2]           Initial VOC cases          TRUE   219.203386 #> 5:            phi[1] Notification overdispersion         FALSE   103.000000 #> 6:            phi[2]   Sequencing overdispersion         FALSE   188.000000 #> 7:            r_init              Initial growth         FALSE     0.135000 #> 8:           r_scale                 Growth (sd)         FALSE     0.122000 #> 9:           voc_mod          Initial VOC effect          TRUE     1.802185 #>          median       sd     mad           q5          q20          q80 #> 1:     0.588000   0.0287  0.0273     0.544000     0.566000     0.611000 #> 2:     0.209000   0.4080  0.4480    -0.499000    -0.160000     0.582000 #> 3: 89321.723361   0.0670  0.0652 80821.637540 80821.637540 98715.771011 #> 4:   219.203386   0.0982  0.0948   186.792804   202.350228   237.460193 #> 5:    79.100000 121.0000 52.4000    23.500000    44.200000   137.000000 #> 6:   165.000000 111.0000 94.0000    55.400000    95.000000   266.000000 #> 7:     0.137000   0.0759  0.0750     0.010000     0.072800     0.197000 #> 8:     0.117000   0.0577  0.0573     0.040300     0.070800     0.170000 #> 9:     1.800384   0.0287  0.0273     1.722885     1.761208     1.842273 #>            q95 rhat ess_bulk ess_tail #> 1:     0.63600    1     1670     1510 #> 2:     0.85300    1      892     1010 #> 3: 98715.77101    1     1570     1320 #> 4:   259.82284    1     2530     1550 #> 5:   232.00000    1      675      729 #> 6:   409.00000    1     2540     1510 #> 7:     0.25600    1      952     1190 #> 8:     0.22100    1      749      773 #> 9:     1.88891    1     1670     1510  # raw posterior values summary(posterior, type = \"raw\") #>         variable      mean    median     sd    mad        q5       q20 #>   1:        lp__ -3340.000 -3340.000 4.8700 4.8500 -3.35e+03 -3.35e+03 #>   2:      r_init     0.135     0.137 0.0759 0.0750  1.00e-02  7.28e-02 #>   3:     r_scale     0.122     0.117 0.0577 0.0573  4.03e-02  7.08e-02 #>   4:        beta     0.203     0.209 0.4080 0.4480 -4.99e-01 -1.60e-01 #>   5:      eta[1]    -0.304    -0.309 0.8030 0.7920 -1.58e+00 -9.73e-01 #>  ---                                                                   #> 259: log_lik[11]   -14.700   -14.700 0.7240 0.6410 -1.60e+01 -1.52e+01 #> 260: log_lik[12]   -14.100   -14.000 0.7040 0.6900 -1.53e+01 -1.46e+01 #> 261: log_lik[13]   -13.600   -13.600 0.9010 0.7840 -1.52e+01 -1.43e+01 #> 262: log_lik[14]    -8.130    -8.040 0.5760 0.4690 -9.22e+00 -8.51e+00 #> 263: log_lik[15]    -7.710    -7.570 0.6990 0.5280 -8.96e+00 -8.12e+00 #>            q80       q95 rhat ess_bulk ess_tail #>   1: -3340.000 -3330.000    1      402      684 #>   2:     0.197     0.256    1      952     1190 #>   3:     0.170     0.221    1      749      773 #>   4:     0.582     0.853    1      892     1010 #>   5:     0.361     1.000    1     1220     1310 #>  ---                                            #> 259:   -14.100   -13.700    1     1110     1300 #> 260:   -13.500   -13.000    1      649      779 #> 261:   -12.900   -12.300    1      996     1190 #> 262:    -7.680    -7.410    1     1130      951 #> 263:    -7.190    -6.890    1      863      785"},{"path":"epiforecasts.io/forecast.vocs/reference/unnest_posterior.html","id":null,"dir":"Reference","previous_headings":"","what":"Unnest posterior estimates from a forecast data.frame — unnest_posterior","title":"Unnest posterior estimates from a forecast data.frame — unnest_posterior","text":"Unnest posterior predictions forecasts output produced forecast() (multiple combined calls) dropping diagnostic fitting variables process.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/unnest_posterior.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Unnest posterior estimates from a forecast data.frame — unnest_posterior","text":"","code":"unnest_posterior(forecasts, target = \"posterior\")"},{"path":"epiforecasts.io/forecast.vocs/reference/unnest_posterior.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Unnest posterior estimates from a forecast data.frame — unnest_posterior","text":"forecasts data frame forecasts produced forecast(). target character string indicating list outputs unnest.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/unnest_posterior.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Unnest posterior estimates from a forecast data.frame — unnest_posterior","text":"unnested data.frame posterior estimates variables produced forecast().","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/unnest_posterior.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Unnest posterior estimates from a forecast data.frame — unnest_posterior","text":"","code":"if (FALSE) { # interactive() library(data.table) options(mc.cores = 4) dt <- forecast(   germany_covid19_delta_obs,   forecast_date = as.Date(\"2021-06-12\"),   max_treedepth = 15, adapt_delta = 0.99 )  # unnest posterior predictions posterior <- unnest_posterior(dt) posterior  # unnest forecasts forecasts <- unnest_posterior(dt, target = \"forecast\") forecasts }"},{"path":"epiforecasts.io/forecast.vocs/reference/update_obs_availability.html","id":null,"dir":"Reference","previous_headings":"","what":"Update observations based on availability — update_obs_availability","title":"Update observations based on availability — update_obs_availability","text":"Update observations based availability","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/update_obs_availability.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update observations based on availability — update_obs_availability","text":"","code":"update_obs_availability(obs, cases_lag, seq_lag)"},{"path":"epiforecasts.io/forecast.vocs/reference/update_obs_availability.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update observations based on availability — update_obs_availability","text":"obs data.frame following variables: date, cases, seq_voc, seq_total, cases_available, seq_available. seq_available case_available must uniquely define data rows rows can duplicated based data availability. data format allows multiple versions case sequence data given date different reporting dates. important using package evaluation settings real-time data sources liable updated new data becomes available. See germany_covid19_delta_obs example supported data set. cases_lag Number weeks case data takes reported. Defaults alter input data. seq_lag Number weeks sequence data takes reported. Defaults alter input data.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/update_obs_availability.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Update observations based on availability — update_obs_availability","text":"data.frame observations updated case sequence availability dates.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/update_obs_availability.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Update observations based on availability — update_obs_availability","text":"","code":"update_obs_availability(   germany_covid19_delta_obs,   cases_lag = 2, seq_lag = 3 ) #>            date location_name location  cases cases_available seq_total seq_voc #>   1: 2021-03-20       Germany       DE  87328      2021-04-03        NA      NA #>   2: 2021-03-27       Germany       DE 109442      2021-04-10        NA      NA #>   3: 2021-04-03       Germany       DE 117965      2021-04-17        NA      NA #>   4: 2021-04-10       Germany       DE 107223      2021-04-24        NA      NA #>   5: 2021-04-17       Germany       DE 142664      2021-05-01      3757       3 #>  ---                                                                            #> 110: 2021-08-14       Germany       DE  28646      2021-08-28        NA      NA #> 111: 2021-08-21       Germany       DE  44862      2021-09-04        NA      NA #> 112: 2021-08-28       Germany       DE  62984      2021-09-11        NA      NA #> 113: 2021-09-04       Germany       DE  71057      2021-09-18        NA      NA #> 114: 2021-09-11       Germany       DE  75107      2021-09-25        NA      NA #>         share_voc seq_available #>   1:           NA          <NA> #>   2:           NA          <NA> #>   3:           NA          <NA> #>   4:           NA          <NA> #>   5: 0.0007985094    2021-05-08 #>  ---                            #> 110:           NA          <NA> #> 111:           NA          <NA> #> 112:           NA          <NA> #> 113:           NA          <NA> #> 114:           NA          <NA>"},{"path":"epiforecasts.io/forecast.vocs/reference/update_voc_label.html","id":null,"dir":"Reference","previous_headings":"","what":"Label the Variant of Concern — update_voc_label","title":"Label the Variant of Concern — update_voc_label","text":"Assign custom label variant concern output fv_tidy_posterior().","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/update_voc_label.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Label the Variant of Concern — update_voc_label","text":"","code":"update_voc_label(posterior, label, target_label = \"VOC\")"},{"path":"epiforecasts.io/forecast.vocs/reference/update_voc_label.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Label the Variant of Concern — update_voc_label","text":"posterior dataframe posterior output produced fv_tidy_posterior(). forecast dates extracted data value_type == \"cases\" must present. label Character string  indicating new label use variant concern. target_label character string defaulting \"VOC\". Indicates current label variant concern.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/update_voc_label.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Label the Variant of Concern — update_voc_label","text":"list data frames returned `fv_tidy_posterior() updated labels.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/update_voc_label.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Label the Variant of Concern — update_voc_label","text":"","code":"p <- fv_example(strains = 2, type = \"posterior\") p <- update_voc_label(p, \"Delta\") summary(p, type = \"cases\") #>               variable       date      type    obs observed forecast_start #>  1:       sim_cases[1] 2021-03-20  Combined  87328     TRUE          FALSE #>  2:       sim_cases[2] 2021-03-27  Combined 109442     TRUE          FALSE #>  3:       sim_cases[3] 2021-04-03  Combined 117965     TRUE          FALSE #>  4:       sim_cases[4] 2021-04-10  Combined 107223     TRUE          FALSE #>  5:       sim_cases[5] 2021-04-17  Combined 142664     TRUE          FALSE #>  6:       sim_cases[6] 2021-04-24  Combined 145568     TRUE          FALSE #>  7:       sim_cases[7] 2021-05-01  Combined 131887     TRUE          FALSE #>  8:       sim_cases[8] 2021-05-08  Combined 107141     TRUE          FALSE #>  9:       sim_cases[9] 2021-05-15  Combined  77261     TRUE          FALSE #> 10:      sim_cases[10] 2021-05-22  Combined  57310     TRUE          FALSE #> 11:      sim_cases[11] 2021-05-29  Combined  33052     TRUE          FALSE #> 12:      sim_cases[12] 2021-06-05  Combined  22631     TRUE          FALSE #> 13:      sim_cases[13] 2021-06-12  Combined  15553     TRUE          FALSE #> 14:      sim_cases[14] 2021-06-19  Combined   7659     TRUE          FALSE #> 15:      sim_cases[15] 2021-06-26  Combined   5033     TRUE           TRUE #> 16:      sim_cases[16] 2021-07-03  Combined     NA    FALSE          FALSE #> 17:      sim_cases[17] 2021-07-10  Combined     NA    FALSE          FALSE #> 18:      sim_cases[18] 2021-07-17  Combined     NA    FALSE          FALSE #> 19:      sim_cases[19] 2021-07-24  Combined     NA    FALSE          FALSE #> 20:   sim_voc_cases[1] 2021-04-17     Delta     NA     TRUE          FALSE #> 21:   sim_voc_cases[2] 2021-04-24     Delta     NA     TRUE          FALSE #> 22:   sim_voc_cases[3] 2021-05-01     Delta     NA     TRUE          FALSE #> 23:   sim_voc_cases[4] 2021-05-08     Delta     NA     TRUE          FALSE #> 24:   sim_voc_cases[5] 2021-05-15     Delta     NA     TRUE          FALSE #> 25:   sim_voc_cases[6] 2021-05-22     Delta     NA     TRUE          FALSE #> 26:   sim_voc_cases[7] 2021-05-29     Delta     NA     TRUE          FALSE #> 27:   sim_voc_cases[8] 2021-06-05     Delta     NA     TRUE          FALSE #> 28:   sim_voc_cases[9] 2021-06-12     Delta     NA     TRUE           TRUE #> 29:  sim_voc_cases[10] 2021-06-19     Delta     NA    FALSE          FALSE #> 30:  sim_voc_cases[11] 2021-06-26     Delta     NA    FALSE          FALSE #> 31:  sim_voc_cases[12] 2021-07-03     Delta     NA    FALSE          FALSE #> 32:  sim_voc_cases[13] 2021-07-10     Delta     NA    FALSE          FALSE #> 33:  sim_voc_cases[14] 2021-07-17     Delta     NA    FALSE          FALSE #> 34:  sim_voc_cases[15] 2021-07-24     Delta     NA    FALSE          FALSE #> 35:  sim_nvoc_cases[1] 2021-03-20 non-Delta     NA     TRUE          FALSE #> 36:  sim_nvoc_cases[2] 2021-03-27 non-Delta     NA     TRUE          FALSE #> 37:  sim_nvoc_cases[3] 2021-04-03 non-Delta     NA     TRUE          FALSE #> 38:  sim_nvoc_cases[4] 2021-04-10 non-Delta     NA     TRUE          FALSE #> 39:  sim_nvoc_cases[5] 2021-04-17 non-Delta     NA     TRUE          FALSE #> 40:  sim_nvoc_cases[6] 2021-04-24 non-Delta     NA     TRUE          FALSE #> 41:  sim_nvoc_cases[7] 2021-05-01 non-Delta     NA     TRUE          FALSE #> 42:  sim_nvoc_cases[8] 2021-05-08 non-Delta     NA     TRUE          FALSE #> 43:  sim_nvoc_cases[9] 2021-05-15 non-Delta     NA     TRUE          FALSE #> 44: sim_nvoc_cases[10] 2021-05-22 non-Delta     NA     TRUE          FALSE #> 45: sim_nvoc_cases[11] 2021-05-29 non-Delta     NA     TRUE          FALSE #> 46: sim_nvoc_cases[12] 2021-06-05 non-Delta     NA     TRUE          FALSE #> 47: sim_nvoc_cases[13] 2021-06-12 non-Delta     NA     TRUE           TRUE #> 48: sim_nvoc_cases[14] 2021-06-19 non-Delta     NA    FALSE          FALSE #> 49: sim_nvoc_cases[15] 2021-06-26 non-Delta     NA    FALSE          FALSE #> 50: sim_nvoc_cases[16] 2021-07-03 non-Delta     NA    FALSE          FALSE #> 51: sim_nvoc_cases[17] 2021-07-10 non-Delta     NA    FALSE          FALSE #> 52: sim_nvoc_cases[18] 2021-07-17 non-Delta     NA    FALSE          FALSE #> 53: sim_nvoc_cases[19] 2021-07-24 non-Delta     NA    FALSE          FALSE #>               variable       date      type    obs observed forecast_start #>       mean median      sd     mad     q5    q20    q80    q95  rhat ess_bulk #>  1:  90000  89200 13600.0 11800.0  70300  79500  99900 113000 1.000     1700 #>  2: 103000 103000 15300.0 13200.0  78900  91000 114000 127000 1.000     1820 #>  3: 113000 113000 16300.0 14500.0  88600 101000 126000 141000 1.000     2090 #>  4: 121000 120000 18000.0 15300.0  93300 108000 133000 152000 1.000     1320 #>  5: 133000 133000 20600.0 17500.0 102000 118000 147000 167000 1.000     2040 #>  6: 140000 139000 20900.0 18500.0 107000 123000 155000 174000 1.000     1980 #>  7: 130000 129000 19500.0 16200.0  99600 115000 143000 162000 1.000     2050 #>  8: 107000 106000 16900.0 14000.0  81900  94400 119000 135000 1.000     2090 #>  9:  79600  78700 12100.0 10500.0  61500  70100  88000  99300 1.000     1920 #> 10:  55300  55000  8030.0  6940.0  42900  49200  61000  69000 1.000     2120 #> 11:  35700  35100  5400.0  4360.0  28300  31800  39200  44900 1.000     1980 #> 12:  22900  22700  3240.0  2840.0  17900  20400  25300  28500 1.000     1810 #> 13:  14100  14100  1900.0  1660.0  11100  12700  15500  17200 1.000     1710 #> 14:   8260   8180  1120.0   937.0   6600   7410   9040  10100 1.000     2240 #> 15:   5110   5010   826.0   678.0   3980   4500   5660   6490 1.000     2070 #> 16:   3470   3340   962.0   830.0   2200   2710   4130   5160 1.000     2070 #> 17:   2660   2390  1440.0  1000.0   1150   1650   3420   5000 1.000     1950 #> 18:   2370   1840  2110.0  1180.0    591   1040   3240   5780 1.000     1990 #> 19:   2540   1490  4390.0  1260.0    285    676   3140   7810 1.000     2080 #> 20:    220    219    37.9    35.6    161    190    251    284 1.000     2160 #> 21:    413    410    72.5    69.7    302    352    469    532 1.000     1900 #> 22:    690    680   121.0   113.0    506    593    782    891 1.000     2050 #> 23:   1020   1010   186.0   164.0    764    878   1150   1350 0.999     2020 #> 24:   1370   1360   254.0   234.0    990   1160   1560   1800 0.999     2430 #> 25:   1700   1670   341.0   309.0   1210   1410   1940   2250 1.000     1790 #> 26:   1930   1900   404.0   354.0   1340   1610   2220   2620 1.000     1520 #> 27:   2130   2090   459.0   411.0   1470   1760   2450   2930 1.000     1840 #> 28:   2210   2170   476.0   441.0   1480   1820   2570   3060 1.000     1600 #> 29:   2070   2030   442.0   412.0   1420   1710   2420   2860 1.000     2270 #> 30:   1920   1880   460.0   388.0   1270   1560   2230   2670 1.000     2030 #> 31:   1800   1710   585.0   491.0   1040   1320   2190   2850 1.000     2190 #> 32:   1750   1570   977.0   681.0    723   1080   2260   3290 1.000     1970 #> 33:   1840   1420  1650.0   927.0    447    786   2490   4440 1.000     2100 #> 34:   2180   1280  3730.0  1070.0    251    571   2700   6610 1.000     2070 #> 35:  90000  89200 13600.0 11800.0  70300  79500  99900 113000 1.000     1700 #> 36: 103000 103000 15300.0 13200.0  78900  91000 114000 127000 1.000     1820 #> 37: 113000 113000 16300.0 14500.0  88600 101000 126000 141000 1.000     2090 #> 38: 121000 120000 18000.0 15300.0  93300 108000 133000 152000 1.000     1320 #> 39: 133000 132000 20600.0 17500.0 102000 118000 147000 167000 1.000     2040 #> 40: 139000 139000 20900.0 18400.0 107000 123000 154000 174000 1.000     1970 #> 41: 129000 128000 19500.0 16200.0  99000 115000 142000 161000 1.000     2050 #> 42: 106000 105000 16800.0 14100.0  81000  93400 118000 134000 1.000     2080 #> 43:  78200  77400 12000.0 10400.0  60300  68700  86600  97900 1.000     1920 #> 44:  53600  53400  7960.0  6830.0  41300  47600  59200  67300 1.000     2120 #> 45:  33800  33300  5310.0  4330.0  26500  29900  37300  43100 1.000     1990 #> 46:  20700  20600  3160.0  2810.0  16000  18200  23100  26300 1.000     1870 #> 47:  11900  11900  1830.0  1620.0   9070  10600  13300  14900 1.000     1760 #> 48:   6190   6120  1030.0   892.0   4690   5380   6940   7910 1.000     2310 #> 49:   3190   3120   648.0   566.0   2280   2680   3640   4340 1.000     2160 #> 50:   1670   1590   525.0   449.0    964   1260   2050   2620 1.000     1800 #> 51:    910    808   538.0   368.0    354    542   1180   1780 1.000     1790 #> 52:    534    402   515.0   265.0    118    226    725   1340 1.000     1810 #> 53:    361    204   710.0   176.0     37     91    444   1090 1.000     1910 #>       mean median      sd     mad     q5    q20    q80    q95  rhat ess_bulk #>     ess_tail #>  1:     1610 #>  2:     1620 #>  3:     1900 #>  4:     1550 #>  5:     1710 #>  6:     1730 #>  7:     1750 #>  8:     1890 #>  9:     1950 #> 10:     1800 #> 11:     1700 #> 12:     1530 #> 13:     1730 #> 14:     1780 #> 15:     1820 #> 16:     1740 #> 17:     1590 #> 18:     1530 #> 19:     1340 #> 20:     1750 #> 21:     1850 #> 22:     1810 #> 23:     1620 #> 24:     1940 #> 25:     1930 #> 26:     1480 #> 27:     1670 #> 28:     1480 #> 29:     1750 #> 30:     1920 #> 31:     1710 #> 32:     1700 #> 33:     1580 #> 34:     1540 #> 35:     1610 #> 36:     1620 #> 37:     1900 #> 38:     1550 #> 39:     1710 #> 40:     1730 #> 41:     1750 #> 42:     1890 #> 43:     1990 #> 44:     1810 #> 45:     1690 #> 46:     1530 #> 47:     1780 #> 48:     1930 #> 49:     1380 #> 50:     1810 #> 51:     1390 #> 52:     1430 #> 53:     1400 #>     ess_tail summary(p, type = \"model\") #>             variable                  clean_name exponentiated         mean #> 1: avg_voc_advantage        Average Delta effect         FALSE     0.589000 #> 2:              beta                        Beta         FALSE     0.203000 #> 3:     init_cases[1]               Initial cases          TRUE 89321.723361 #> 4:     init_cases[2]         Initial Delta cases          TRUE   219.203386 #> 5:            phi[1] Notification overdispersion         FALSE   103.000000 #> 6:            phi[2]   Sequencing overdispersion         FALSE   188.000000 #> 7:            r_init              Initial growth         FALSE     0.135000 #> 8:           r_scale                 Growth (sd)         FALSE     0.122000 #> 9:           voc_mod        Initial Delta effect          TRUE     1.802185 #>          median       sd     mad           q5          q20          q80 #> 1:     0.588000   0.0287  0.0273     0.544000     0.566000     0.611000 #> 2:     0.209000   0.4080  0.4480    -0.499000    -0.160000     0.582000 #> 3: 89321.723361   0.0670  0.0652 80821.637540 80821.637540 98715.771011 #> 4:   219.203386   0.0982  0.0948   186.792804   202.350228   237.460193 #> 5:    79.100000 121.0000 52.4000    23.500000    44.200000   137.000000 #> 6:   165.000000 111.0000 94.0000    55.400000    95.000000   266.000000 #> 7:     0.137000   0.0759  0.0750     0.010000     0.072800     0.197000 #> 8:     0.117000   0.0577  0.0573     0.040300     0.070800     0.170000 #> 9:     1.800384   0.0287  0.0273     1.722885     1.761208     1.842273 #>            q95 rhat ess_bulk ess_tail #> 1:     0.63600    1     1670     1510 #> 2:     0.85300    1      892     1010 #> 3: 98715.77101    1     1570     1320 #> 4:   259.82284    1     2530     1550 #> 5:   232.00000    1      675      729 #> 6:   409.00000    1     2540     1510 #> 7:     0.25600    1      952     1190 #> 8:     0.22100    1      749      773 #> 9:     1.88891    1     1670     1510"},{"path":[]},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"model-0-0-9","dir":"Changelog","previous_headings":"Features","what":"Model","title":"forecast.vocs 0.0.9","text":"Switched “pooled” model use vector autoregression set renamed resulting control parameter “correlated”. test data performs substantially better old model readily extensible. Added ability (via r_step argument) set step width AR(1) process growth rate. means fitting daily data, example, growth rate can specified change weekly. increases tractability model hence reducing run-times may match underlying epidemiology better settings. Added increased prior flexibility users able alter prior AR(1) process approximate random walk (via beta) specify expected amount correlation strains “correlated” model (lkj).","code":""},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"evaluation-and-visualisation-0-0-9","dir":"Changelog","previous_headings":"Features","what":"Evaluation and visualisation","title":"forecast.vocs 0.0.9","text":"Adds optional integration scoringutils package streamline evaluating forecasts using proper scoring rules. Adds example using fv_score_forecast() README. Generalise plot labels. Updated plot_cases() use log 2 scaling rather log scaling. Updated default scaling logit `plot_voc_frac(). Adds new plotting argument plot functions - central. controls whether central estimates (.e mean median) shown. change default visualisations now shown automatically setting central = TRUE user can elect add estimates plot.","code":""},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"bug-fixes-0-0-9","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"forecast.vocs 0.0.9","text":"Fixed bug output forecast() function prior specifications initial growth variant scaling partially included. Tighten overly permissive argument passing S3 methods allowed users pass arguments didn’t exist. lead bugs user code hard spot.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"features-0-0-8","dir":"Changelog","previous_headings":"","what":"Features","title":"forecast.vocs 0.0.8","text":"Adds summary plot methods forecast() fv_tidy_posterior() interfaces lower level functions. Adds new summary variable transmission advantage VOC output fv_tidy_posterior(). Adds new plotting function plot_voc_advantage() extract plot . Adds plot_voc_advantage() plot_posterior additional output. Added new timespan argument allows custom date processing. allows use data non-weekly spaces (though spacing must constant across sequences case counts). Updates example data include new output. Adds tests new functionality.","code":""},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"breaking-changes-0-0-8","dir":"Changelog","previous_headings":"","what":"Breaking changes","title":"forecast.vocs 0.0.8","text":"variant fraction label renamed voc_frac voc due new variant advantage label. plot_voc() renamed plot_voc_frac() due new plot_voc_advantage() function.","code":""},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"bug-fixes-0-0-8","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"forecast.vocs 0.0.8","text":"Spell checks documentation. Refactors model description improve clarity. Fixed issue voc_label passed forecast() lower level methods hence new labels specifying VOC assigned.","code":""},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"forecastvocs-007","dir":"Changelog","previous_headings":"","what":"forecast.vocs 0.0.7","title":"forecast.vocs 0.0.7","text":"generalised forecast family accept custom data forecast extraction functions. Split generic posterior summary function specific posterior summary function. Catch data passing bugs forecast new tests Add argument passing fv_posterior allow used forecast. Added runtime diagnostic fit output. Fixes generate_obs() work strain models adds unit tests function functionality. Fixed package building r-universe.","code":""},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"forecastvocs-006","dir":"Changelog","previous_headings":"","what":"forecast.vocs 0.0.6","title":"forecast.vocs 0.0.6","text":"Add vignette defining package models. Updated documentation use preferably. Add basic tests modelling functions. Add tests postprocessing functions. Add tests plotting functions. Add tests forecasting functions. Add new utility, fv_example() can used load built example output scripts. used postprocessing plotting examples well testing plotting static input. Model specific functions (.e load_model, summarise_posterior, functions prefixed stan_ renamed fv_ prefix). Added ability pass model specific functions forecast function wrappers enabling users supply custom models make use remaining package functionality.","code":""},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"forecastvocs-005","dir":"Changelog","previous_headings":"","what":"forecast.vocs 0.0.5","title":"forecast.vocs 0.0.5","text":"Overhaul package documentation examples. Enforce proper printing data.table output. Add structure documentation website.","code":""},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"forecastvocs-004","dir":"Changelog","previous_headings":"","what":"forecast.vocs 0.0.4","title":"forecast.vocs 0.0.4","text":"Improve robustness plotting observations forecast dates can faceted using variables used plotting estimates/forecasts. Added option scale growth rates reproduction numbers. allows crude scaling generation time etc increasing interpretability estimates. Surfaced options plotting allow increased generalisability.","code":""},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"forecastvocs-003","dir":"Changelog","previous_headings":"","what":"forecast.vocs 0.0.3","title":"forecast.vocs 0.0.3","text":"fv_tidy_posterior now returns single data.table downstream processing plotting functions updated use forma forecast updated use framework forecast_dt forecast_dt removed. combine_posteriors_dt removed favour unnest_posterior. allows output forecast (wrappers produce data.table) easily untested used without additional changes downstream plotting processing functions. add update_voc_label part workflow forecast exposed user facing argument control label. Fixes bug specifying number initial weeks without sequence data. resulting weeks without sequence data assumed start likely causing model fitting issues. Added check functions make sure input observation arguments correct format. Added unit tests preprocessing functions. Custom VOC labelling now feature fv_tidy_posterior() (hence forecast()) well standalone option via update_voc_label().","code":""},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"infrastructure-0-0-3","dir":"Changelog","previous_headings":"","what":"Infrastructure","title":"forecast.vocs 0.0.3","text":"Switched installing cmdstanr GitHub.","code":""},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"forecastvocs-002","dir":"Changelog","previous_headings":"","what":"forecast.vocs 0.0.2","title":"forecast.vocs 0.0.2","text":"Package generalised variants concern beyond Delta. Tooling added forecast across dates scenarios. Tooling added prior posterior predictive checks. Tooling added simulating data model (useful simulation-based calibration amongst things). Example data updated use snapshots COVID-19 notifications Delta sequences sourced RKI (Germany).","code":""},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"forecastvocs-001","dir":"Changelog","previous_headings":"","what":"forecast.vocs 0.0.1","title":"forecast.vocs 0.0.1","text":"Extracted package code analysis code started work generalising use case. Added initial version forecasting model 1 2 strains optional independence, partial pooling, scaled relationships.","code":""}]
