[{"path":[]},{"path":"epiforecasts.io/forecast.vocs/CODE_OF_CONDUCT.html","id":"our-pledge","dir":"","previous_headings":"","what":"Our Pledge","title":"Contributor Covenant Code of Conduct","text":"members, contributors, leaders pledge make participation community harassment-free experience everyone, regardless age, body size, visible invisible disability, ethnicity, sex characteristics, gender identity expression, level experience, education, socio-economic status, nationality, personal appearance, race, religion, sexual identity orientation. pledge act interact ways contribute open, welcoming, diverse, inclusive, healthy community.","code":""},{"path":"epiforecasts.io/forecast.vocs/CODE_OF_CONDUCT.html","id":"our-standards","dir":"","previous_headings":"","what":"Our Standards","title":"Contributor Covenant Code of Conduct","text":"Examples behavior contributes positive environment community include: Demonstrating empathy kindness toward people respectful differing opinions, viewpoints, experiences Giving gracefully accepting constructive feedback Accepting responsibility apologizing affected mistakes, learning experience Focusing best just us individuals, overall community Examples unacceptable behavior include: use sexualized language imagery, sexual attention advances kind Trolling, insulting derogatory comments, personal political attacks Public private harassment Publishing others’ private information, physical email address, without explicit permission conduct reasonably considered inappropriate professional setting","code":""},{"path":"epiforecasts.io/forecast.vocs/CODE_OF_CONDUCT.html","id":"enforcement-responsibilities","dir":"","previous_headings":"","what":"Enforcement Responsibilities","title":"Contributor Covenant Code of Conduct","text":"Community leaders responsible clarifying enforcing standards acceptable behavior take appropriate fair corrective action response behavior deem inappropriate, threatening, offensive, harmful. Community leaders right responsibility remove, edit, reject comments, commits, code, wiki edits, issues, contributions aligned Code Conduct, communicate reasons moderation decisions appropriate.","code":""},{"path":"epiforecasts.io/forecast.vocs/CODE_OF_CONDUCT.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"Contributor Covenant Code of Conduct","text":"Code Conduct applies within community spaces, also applies individual officially representing community public spaces. Examples representing community include using official e-mail address, posting via official social media account, acting appointed representative online offline event.","code":""},{"path":"epiforecasts.io/forecast.vocs/CODE_OF_CONDUCT.html","id":"enforcement","dir":"","previous_headings":"","what":"Enforcement","title":"Contributor Covenant Code of Conduct","text":"Instances abusive, harassing, otherwise unacceptable behavior may reported community leaders responsible enforcement [INSERT CONTACT METHOD]. complaints reviewed investigated promptly fairly. community leaders obligated respect privacy security reporter incident.","code":""},{"path":"epiforecasts.io/forecast.vocs/CODE_OF_CONDUCT.html","id":"enforcement-guidelines","dir":"","previous_headings":"","what":"Enforcement Guidelines","title":"Contributor Covenant Code of Conduct","text":"Community leaders follow Community Impact Guidelines determining consequences action deem violation Code Conduct:","code":""},{"path":"epiforecasts.io/forecast.vocs/CODE_OF_CONDUCT.html","id":"1-correction","dir":"","previous_headings":"Enforcement Guidelines","what":"1. Correction","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Use inappropriate language behavior deemed unprofessional unwelcome community. Consequence: private, written warning community leaders, providing clarity around nature violation explanation behavior inappropriate. public apology may requested.","code":""},{"path":"epiforecasts.io/forecast.vocs/CODE_OF_CONDUCT.html","id":"2-warning","dir":"","previous_headings":"Enforcement Guidelines","what":"2. Warning","title":"Contributor Covenant Code of Conduct","text":"Community Impact: violation single incident series actions. Consequence: warning consequences continued behavior. interaction people involved, including unsolicited interaction enforcing Code Conduct, specified period time. includes avoiding interactions community spaces well external channels like social media. Violating terms may lead temporary permanent ban.","code":""},{"path":"epiforecasts.io/forecast.vocs/CODE_OF_CONDUCT.html","id":"3-temporary-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"3. Temporary Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: serious violation community standards, including sustained inappropriate behavior. Consequence: temporary ban sort interaction public communication community specified period time. public private interaction people involved, including unsolicited interaction enforcing Code Conduct, allowed period. Violating terms may lead permanent ban.","code":""},{"path":"epiforecasts.io/forecast.vocs/CODE_OF_CONDUCT.html","id":"4-permanent-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"4. Permanent Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Demonstrating pattern violation community standards, including sustained inappropriate behavior, harassment individual, aggression toward disparagement classes individuals. Consequence: permanent ban sort public interaction within community.","code":""},{"path":"epiforecasts.io/forecast.vocs/CODE_OF_CONDUCT.html","id":"attribution","dir":"","previous_headings":"","what":"Attribution","title":"Contributor Covenant Code of Conduct","text":"Code Conduct adapted Contributor Covenant, version 2.0, available https://www.contributor-covenant.org/version/2/0/ code_of_conduct.html. Community Impact Guidelines inspired Mozilla’s code conduct enforcement ladder. answers common questions code conduct, see FAQ https://www.contributor-covenant.org/faq. Translations available https:// www.contributor-covenant.org/translations.","code":""},{"path":"epiforecasts.io/forecast.vocs/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2021 forecast.vocs authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"epiforecasts.io/forecast.vocs/articles/model-definitions.html","id":"single-strain","dir":"Articles","previous_headings":"","what":"Single strain","title":"Model definitions","text":"model mean (\\(\\lambda_t\\)) reported cases (\\(C_t\\)) order 1 autoregressive (AR(1)) process log scale time unit (\\(t\\)). model initialised assuming initial reported cases representative small amount error (2.5%). \\[\\begin{align}   \\log \\lambda_0 &\\sim \\text{LogNormal}\\left(\\log C_0 , 0.025 \\times \\log C_0 \\right) \\\\   \\log \\lambda_t &= \\log \\lambda_{t-1} + r_t \\end{align}\\] \\(r_t\\) can interpreted growth rate exponential \\(r_t\\) effective reproduction number (\\(R_t\\)) assuming mean generation time equal scaling rate used (see documentation scale_r ?forecast()). \\(r_t\\) modelled differenced AR(1) process, \\[\\begin{align}   r_0 &\\sim \\text{Normal}\\left(0, 0.25 \\right) \\\\   r_t &= r_{t-1} + \\epsilon_t  \\\\   \\epsilon_0 &= \\eta_0 \\\\   \\epsilon_t &= \\beta \\epsilon_{t-1} + \\eta_t \\end{align}\\] , \\[\\begin{align}   \\eta_t &\\sim \\text{Normal}\\left(0, \\sigma \\right) \\\\   \\sigma &\\sim \\text{Normal}\\left(0, 0.1 \\right) \\\\   \\beta &\\sim \\text{Normal}\\left(0, 1 \\right) \\end{align}\\] assume negative binomial observation model overdispersion \\(\\phi_c\\) reported cases (\\(C_t\\)), \\[\\begin{align}   C_{t} &\\sim \\text{NegBinomial}\\left(\\lambda_t, \\phi_c\\right) \\\\   \\frac{1}{\\sqrt{\\phi_c}} &\\sim \\text{Normal}(0, 1)  \\end{align}\\] \\(\\sigma\\), \\(\\frac{1}{\\sqrt{phi_c}}\\) truncated greater 0 \\(\\beta\\) truncated -1 1. Optionally Poisson observation model may instead used (see documentation overdispersion ?forecast()). stan code model available can loaded R using following code,","code":"library(forecast.vocs) readLines(fv_model(strains = 1, compile = FALSE))"},{"path":"epiforecasts.io/forecast.vocs/articles/model-definitions.html","id":"two-strain","dir":"Articles","previous_headings":"","what":"Two strain","title":"Model definitions","text":"model strain dynamics using single strain model starting point addition strain specific AR(1) variation beta binomial (optionally binomial) observation process sequence data. full two strain model described . Parameters related variant concern (VoC) given \\(\\delta\\) superscript parameters related non-VoC cases given \\(o\\) superscript. Mean reported cases defined using AR(1) process log scale strain combined overall mean reported cases. \\[\\begin{align}   \\log \\lambda_0 &\\sim \\text{LogNormal}\\left(\\log C_0 , 0.025 \\times \\log C_0 \\right) \\\\   \\log \\lambda^{\\delta}_0 &\\sim \\text{LogNormal}\\left(\\log C^{\\delta}_0 , 0.025 \\times \\log C^{\\delta}_0 \\right) \\\\   \\log \\lambda^{o}_0 &= \\log \\left(\\lambda_0 - \\lambda^{\\delta}_0 \\right) \\\\   \\log \\lambda^{\\delta}_t &= \\log \\lambda^{\\delta}_{t-1} + r^{\\delta}_t \\\\   \\log \\lambda^{o}_t &= \\log \\lambda^{o}_{t-1} + r^{o}_t \\\\   \\lambda_t &= \\lambda^{\\delta}_t + \\lambda^{o}_t \\end{align}\\] \\(C^{\\delta}_0\\) derived calculating mean proportion cases VoC first time point using overall number reported cases, number sequenced cases, number sequences positive VoC. growth rate VoC non-VoC cases (\\(r^{o, \\delta}_t\\)) modelled combination overall growth rate (\\(r_t\\) defined single strain model), strain specific modifier (\\(s^{o, \\delta}_0\\)), AR(1) error term post introduction (\\(\\epsilon^{o, \\delta}_t\\)). \\[\\begin{align}   r^{o, \\delta}_t &= r_t + s^{o, \\delta} + \\epsilon^{o, \\delta}_t \\\\   \\epsilon^{o, \\delta}_0 &= 0 \\\\   \\epsilon^{o, \\delta}_t &= \\epsilon^{o, \\delta}_{t-1} + \\eta^{o, \\delta} \\end{align}\\] , \\[\\begin{align}   \\eta^{o, \\delta}_t &\\sim \\text{Normal}\\left(0, \\sigma^{o, \\delta} \\right) \\\\   \\sigma^{o, \\delta} &\\sim \\text{Normal}\\left(0, 0.1 \\right) \\\\   s^o &= 0 \\\\   s^{\\beta} &\\sim \\text{Normal}(0, 0.5) \\end{align}\\] assumes uninformed transmissibility difference VoC vs non-VoC cases. strongly encouraged users use domain knowledge inform prior. relationship variations can altered VoC differs transmissibility difference (s^{}) non-VOC strain variation time shared strains. Optionally strains can also modelled evolve independently time. See documentation variant_relationship ?forecast() details. users default pooled method recommended.  Finally, mean proportion samples VoC (\\(p_t\\)) estimated using mean reported cases VoC overall mean reported cases. \\[\\begin{equation}    p_t = \\frac{\\lambda^{\\delta}_t}{\\lambda_t} \\end{equation}\\] assume beta binomial observation model number sequences (\\(N_t\\)) positive (\\(P_t\\)) VoC overdispersion \\(\\phi_s\\). \\[\\begin{align}   P_{t} &\\sim \\mathrm{BetaBinomial}\\left(N_t, p_t \\phi_s, (1 - p_t) \\phi_s\\right) \\\\   \\frac{1}{\\sqrt{\\phi_s}} &\\sim \\mathcal{N}(0, 1)  \\end{align}\\] \\(\\sigma^{o, \\delta}\\), \\(\\frac{1}{\\sqrt{\\phi_s}}\\) truncated greater 0. binomial observation model also available (see documentation overdispersion ?forecast()). stan code model available can loaded R using following code,","code":"library(forecast.vocs) readLines(fv_model(strains = 2, compile = FALSE))"},{"path":"epiforecasts.io/forecast.vocs/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Sam Abbott. Author, maintainer.","code":""},{"path":"epiforecasts.io/forecast.vocs/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Sam Abbott (2021). forecast.vocs: Forecast case sequence notifications using variant concern strain dynamics,  DOI: 10.5281/zenodo.5559016","code":"@Article{,   title = {forecast.vocs: Forecast case and sequence notifications using variant of concern strain dynamics},   author = {Sam Abbott},   journal = {Zenodo},   year = {2021},   doi = {10.5281/zenodo.5559016}, }"},{"path":"epiforecasts.io/forecast.vocs/index.html","id":"forecast-case-and-sequence-notifications-using-variant-of-concern-strain-dynamics","dir":"","previous_headings":"","what":"Forecast Case and Sequence Notifications using Variant of Concern\n    Strain Dynamics","title":"Forecast Case and Sequence Notifications using Variant of Concern\n    Strain Dynamics","text":"Contains models tools produce short-term forecasts case sequence notifications assuming circulation either one two variants. Tools also provided allow evaluation use sequence data short-term forecasts real-world settings user generated scenarios.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/index.html","id":"installing-the-package","dir":"","previous_headings":"Installation","what":"Installing the package","title":"Forecast Case and Sequence Notifications using Variant of Concern\n    Strain Dynamics","text":"Install stable development version package : Install unstable development GitHub using following,","code":"install.packages(\"forecast.vocs\", repos = \"https://epiforecasts.r-universe.dev\") remotes::install_github(\"epiforecasts/forecast.vocs\", dependencies = TRUE)"},{"path":"epiforecasts.io/forecast.vocs/index.html","id":"installing-cmdstan","dir":"","previous_headings":"Installation","what":"Installing CmdStan","title":"Forecast Case and Sequence Notifications using Variant of Concern\n    Strain Dynamics","text":"don’t already CmdStan installed , addition installing forecast.vocs, also necessary install CmdStan using CmdStanR’s install_cmdstan() function enable model fitting forecast.vocs. suitable C++ toolchain also required. Instructions provided Getting started CmdStanR vignette. See CmdStanR documentation details support.","code":"cmdstanr::install_cmdstan()"},{"path":"epiforecasts.io/forecast.vocs/index.html","id":"quick-start","dir":"","previous_headings":"","what":"Quick start","title":"Forecast Case and Sequence Notifications using Variant of Concern\n    Strain Dynamics","text":"quick start uses data Germany includes COVID-19 notifications sequences sequences either positive negative Delta variant. shows produce forecasts one two strain model 19th June 2021 latest available data estimated approximately 7% COVID-19 positive Delta variant. Note estimated growth rates reproduction numbers shown rescaled using assumed generation time 5.5 days weakly informative prior centred around Delta 50% transmissible non-Delta cases used.","code":"library(forecast.vocs) options(mc.cores = 4)  obs <- filter_by_availability(   germany_covid19_delta_obs,   date = as.Date(\"2021-06-19\") )  current_obs <- latest_obs(germany_covid19_delta_obs)"},{"path":"epiforecasts.io/forecast.vocs/index.html","id":"forecast-all-in-one","dir":"","previous_headings":"Quick start","what":"Forecast all-in-one","title":"Forecast Case and Sequence Notifications using Variant of Concern\n    Strain Dynamics","text":"Run forecast one two strain models (optionally just one ) using forecast() function. provides wrapper around package tooling initialise, fit, summarise forecasts. Multiple forecasts can performed efficiently across dates scenarios using forecast_across_dates() forecast_across_scenarios(). Unnest posterior estimates model. Plot posterior prediction cases single strain model (“Overall”), two strain model (“Combined”), unobserved estimates strain.  Plot posterior prediction fraction cases Delta variant two strain model.  Plot posterior estimate growth rate mean generation time COVID-19 cases (assumed 5.5 days).  Plot posterior estimate effective reproduction number Delta non-Delta cases.  Alternatively list plots sensible defaults can produced using following.","code":"forecasts <- forecast(obs,   strains = c(1, 2), voc_scale = c(0.4, 0.2),   voc_label = \"Delta\", scale_r = 5.5 / 7,   adapt_delta = 0.99, max_treedepth = 15,   refresh = 0, show_messages = FALSE, ) #> Running MCMC with 4 parallel chains... #>  #> Chain 3 finished in 11.3 seconds. #> Chain 2 finished in 12.0 seconds. #> Chain 4 finished in 13.6 seconds. #> Chain 1 finished in 32.6 seconds. #>  #> All 4 chains finished successfully. #> Mean chain execution time: 17.4 seconds. #> Total execution time: 32.7 seconds. #> Running MCMC with 4 parallel chains... #>  #> Chain 4 finished in 34.3 seconds. #> Chain 2 finished in 38.3 seconds. #> Chain 3 finished in 39.0 seconds. #> Chain 1 finished in 41.6 seconds. #>  #> All 4 chains finished successfully. #> Mean chain execution time: 38.3 seconds. #> Total execution time: 41.7 seconds. forecasts #>    id forecast_date strains overdispersion variant_relationship r_init #> 1:  0    2021-06-19       1           TRUE               pooled 0,0.25 #> 2:  0    2021-06-19       2           TRUE               pooled 0,0.25 #>    voc_scale error               fit       data  fit_args samples max_rhat #> 1:   0.4,0.2       <CmdStanMCMC[30]> <list[20]> <list[5]>    4000 1.002723 #> 2:   0.4,0.2       <CmdStanMCMC[30]> <list[20]> <list[5]>    4000 1.005589 #>    divergent_transitions per_divergent_transitons max_treedepth #> 1:                    10                  0.00250            12 #> 2:                    13                  0.00325            10 #>    no_at_max_treedepth per_at_max_treedepth            posterior #> 1:                 504               0.1260 <data.table[148x20]> #> 2:                2998               0.7495 <data.table[400x20]> #>               forecast #> 1: <data.table[12x13]> #> 2: <data.table[54x13]> posteriors <- unnest_posterior(forecasts) plot_cases(posteriors, current_obs) plot_voc(posteriors, current_obs, voc_label = \"Delta variant\") plot_growth(posteriors) plot_rt(posteriors) plot_posterior(   posteriors, current_obs,   voc_label = \"Delta variant\" )"},{"path":"epiforecasts.io/forecast.vocs/index.html","id":"step-by-step-forecast","dir":"","previous_headings":"Quick start","what":"Step by step forecast","title":"Forecast Case and Sequence Notifications using Variant of Concern\n    Strain Dynamics","text":"Rather using --one forecast() function individual package functions can used produce forecast follows. forecasts produced forecast() function summary plots estimates can produced using package functions.","code":"dt <- fv_as_data_list(obs, horizon = 4)  model <- fv_model(strains = 2)  inits <- fv_inits(dt, strains = 2)  fit <- fv_sample(   data = dt, model = model, init = inits,   voc_scale = c(0.4, 0.2),   adapt_delta = 0.99, max_treedepth = 15,   refresh = 0, show_messages = FALSE )  posterior <- fv_tidy_posterior(fit, voc_label = \"Delta\", scale_r = 5.5 / 7)"},{"path":"epiforecasts.io/forecast.vocs/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Forecast Case and Sequence Notifications using Variant of Concern\n    Strain Dynamics","text":"using forecast.vocs work please consider citing using following,","code":"#>  #> To cite forecast.vocs in publications use: #>  #>   Sam Abbott (2021). forecast.vocs: Forecast case and sequence #>   notifications using variant of concern strain dynamics, DOI: #>   10.5281/zenodo.5559016 #>  #> A BibTeX entry for LaTeX users is #>  #>   @Article{, #>     title = {forecast.vocs: Forecast case and sequence notifications using variant of concern strain dynamics}, #>     author = {Sam Abbott}, #>     journal = {Zenodo}, #>     year = {2021}, #>     doi = {10.5281/zenodo.5559016}, #>   }"},{"path":"epiforecasts.io/forecast.vocs/index.html","id":"how-to-make-a-bug-report-or-feature-request","dir":"","previous_headings":"","what":"How to make a bug report or feature request","title":"Forecast Case and Sequence Notifications using Variant of Concern\n    Strain Dynamics","text":"Please briefly describe problem output expect issue. question, please don’t open issue. Instead, ask Q page.","code":""},{"path":"epiforecasts.io/forecast.vocs/index.html","id":"contributing","dir":"","previous_headings":"","what":"Contributing","title":"Forecast Case and Sequence Notifications using Variant of Concern\n    Strain Dynamics","text":"welcome contributions new contributors! particularly appreciate help priority problems issues. Please check add issues, /add pull request.","code":""},{"path":"epiforecasts.io/forecast.vocs/index.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"Forecast Case and Sequence Notifications using Variant of Concern\n    Strain Dynamics","text":"Please note forecast.vocs project released Contributor Code Conduct. contributing project, agree abide terms.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/add_forecast_dates.html","id":null,"dir":"Reference","previous_headings":"","what":"Add the forecast dates to a plot — add_forecast_dates","title":"Add the forecast dates to a plot — add_forecast_dates","text":"Add forecast dates plot","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/add_forecast_dates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add the forecast dates to a plot — add_forecast_dates","text":"","code":"add_forecast_dates(plot, forecast_dates = NULL)"},{"path":"epiforecasts.io/forecast.vocs/reference/add_forecast_dates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add the forecast dates to a plot — add_forecast_dates","text":"plot ggplot2 object forecast_dates data.frame format produced extract_forecast_dates() (least date variable Data unavailable variable)). Specifies date availability add plots. May contain faceting variables.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/add_forecast_dates.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add the forecast dates to a plot — add_forecast_dates","text":"ggplot2 plot dates data unavailability added.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/bp_launch_shinystan.html","id":null,"dir":"Reference","previous_headings":"","what":"Launch shinystan — bp_launch_shinystan","title":"Launch shinystan — bp_launch_shinystan","text":"Launch shinystan interactive tool stan model evaluation","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/bp_launch_shinystan.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Launch shinystan — bp_launch_shinystan","text":"","code":"bp_launch_shinystan(fit)"},{"path":"epiforecasts.io/forecast.vocs/reference/bp_launch_shinystan.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Launch shinystan — bp_launch_shinystan","text":"fit List output returned fv_sample().","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/bp_launch_shinystan.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Launch shinystan — bp_launch_shinystan","text":"","code":"if (FALSE) { # interactive() obs <- filter_by_availability(   germany_covid19_delta_obs,   date = as.Date(\"2021-06-12\") )  dt <- fv_as_data_list(obs) inits <- fv_inits(dt) fit <- fv_sample(dt, init = inits, adapt_delta = 0.99, max_treedepth = 15) bp_launch_shinystan(fit) }"},{"path":"epiforecasts.io/forecast.vocs/reference/check_dataframe.html","id":null,"dir":"Reference","previous_headings":"","what":"Check a data.frame — check_dataframe","title":"Check a data.frame — check_dataframe","text":"Check data.frame","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/check_dataframe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check a data.frame — check_dataframe","text":"","code":"check_dataframe(dataframe, req_vars, req_types, rows)"},{"path":"epiforecasts.io/forecast.vocs/reference/check_dataframe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check a data.frame — check_dataframe","text":"dataframe data.frame check. req_vars character vector variables required. req_types character vector types required variable. rows Integer specifying number rows data.frame .","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/check_observations.html","id":null,"dir":"Reference","previous_headings":"","what":"Check observations are in the correct format — check_observations","title":"Check observations are in the correct format — check_observations","text":"Check observations correct format","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/check_observations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check observations are in the correct format — check_observations","text":"","code":"check_observations(obs)"},{"path":"epiforecasts.io/forecast.vocs/reference/check_observations.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check observations are in the correct format — check_observations","text":"obs data.frame observations check formatting issues.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/check_observations.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check observations are in the correct format — check_observations","text":"","code":"obs <- latest_obs(germany_covid19_delta_obs) check_observations(obs)"},{"path":"epiforecasts.io/forecast.vocs/reference/check_param.html","id":null,"dir":"Reference","previous_headings":"","what":"Check a parameter is the correct type and length — check_param","title":"Check a parameter is the correct type and length — check_param","text":"Check parameter correct type length","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/check_param.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check a parameter is the correct type and length — check_param","text":"","code":"check_param(param, name = \"param\", type = \"numeric\", length)"},{"path":"epiforecasts.io/forecast.vocs/reference/check_param.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check a parameter is the correct type and length — check_param","text":"param parameter check format . name character string naming variable check. type character string identifying allowed parameter type (must type .type function except Date). length Numeric, allowed length variable. Defaults allowed length.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/check_quantiles.html","id":null,"dir":"Reference","previous_headings":"","what":"Check Quantiles Required are Present — check_quantiles","title":"Check Quantiles Required are Present — check_quantiles","text":"Check Quantiles Required Present","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/check_quantiles.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check Quantiles Required are Present — check_quantiles","text":"","code":"check_quantiles(posterior, req_probs = c(0.5, 0.95, 0.2, 0.8))"},{"path":"epiforecasts.io/forecast.vocs/reference/check_quantiles.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check Quantiles Required are Present — check_quantiles","text":"posterior dataframe containing quantiles identified using q5 naming scheme. req_probs numeric vector required probabilities.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/convert_to_stanfit.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert to stanfit object — convert_to_stanfit","title":"Convert to stanfit object — convert_to_stanfit","text":"Convert stanfit object","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/convert_to_stanfit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert to stanfit object — convert_to_stanfit","text":"","code":"convert_to_stanfit(fit)"},{"path":"epiforecasts.io/forecast.vocs/reference/convert_to_stanfit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert to stanfit object — convert_to_stanfit","text":"fit List output returned fv_sample().","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/convert_to_stanfit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert to stanfit object — convert_to_stanfit","text":"model fit stanfit object","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/convert_to_stanfit.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert to stanfit object — convert_to_stanfit","text":"","code":"if (FALSE) { # interactive() obs <- filter_by_availability(   germany_covid19_delta_obs,   date = as.Date(\"2021-06-12\"), ) dt <- fv_as_data_list(obs) inits <- fv_inits(dt) fit <- fv_sample(dt, init = inits, adapt_delta = 0.99, max_treedepth = 15) convert_to_stanfit(fit) }"},{"path":"epiforecasts.io/forecast.vocs/reference/define_scenarios.html","id":null,"dir":"Reference","previous_headings":"","what":"Define data availability scenarios — define_scenarios","title":"Define data availability scenarios — define_scenarios","text":"Define data availability scenarios","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/define_scenarios.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Define data availability scenarios — define_scenarios","text":"","code":"define_scenarios(   seq_lag = 0:3,   seq_samples = seq(1, by = -0.25, length.out = 4),   voc_scale = list(c(0, 0.5)) )"},{"path":"epiforecasts.io/forecast.vocs/reference/define_scenarios.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Define data availability scenarios — define_scenarios","text":"seq_lag number weeks sequences lag date. Default test 0 3 weeks lag. seq_samples Fraction samples include (deterministic scaling). default test samples 25% samples 25% increments. voc_scale list mean standard  deviations use inform prior additional transmissibility VOC variant. default uninformed prior knowledge prior (0, 0.5). adjusted growth (0.74, 0.1).","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/define_scenarios.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Define data availability scenarios — define_scenarios","text":"data frame scenario definitions ids","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/define_scenarios.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Define data availability scenarios — define_scenarios","text":"","code":"define_scenarios() #>     id seq_lag seq_samples voc_scale #>  1:  1       0        1.00   0.0,0.5 #>  2:  2       0        0.75   0.0,0.5 #>  3:  3       0        0.50   0.0,0.5 #>  4:  4       0        0.25   0.0,0.5 #>  5:  5       1        1.00   0.0,0.5 #>  6:  6       1        0.75   0.0,0.5 #>  7:  7       1        0.50   0.0,0.5 #>  8:  8       1        0.25   0.0,0.5 #>  9:  9       2        1.00   0.0,0.5 #> 10: 10       2        0.75   0.0,0.5 #> 11: 11       2        0.50   0.0,0.5 #> 12: 12       2        0.25   0.0,0.5 #> 13: 13       3        1.00   0.0,0.5 #> 14: 14       3        0.75   0.0,0.5 #> 15: 15       3        0.50   0.0,0.5 #> 16: 16       3        0.25   0.0,0.5"},{"path":"epiforecasts.io/forecast.vocs/reference/extract_draws.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract posterior draws — extract_draws","title":"Extract posterior draws — extract_draws","text":"Extract posterior draws","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/extract_draws.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract posterior draws — extract_draws","text":"","code":"extract_draws(fit, ...)"},{"path":"epiforecasts.io/forecast.vocs/reference/extract_draws.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract posterior draws — extract_draws","text":"fit list produced fv_sample(). ... Additional parameters passed cmdstanr::draws()","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/extract_draws.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract posterior draws — extract_draws","text":"cmdstanr::draws() object posterior package.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/extract_draws.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract posterior draws — extract_draws","text":"","code":"if (FALSE) { # interactive() obs <- filter_by_availability(   germany_covid19_delta_obs,   date = as.Date(\"2021-06-12\"), ) dt <- fv_as_data_list(obs) inits <- fv_inits(dt) fit <- fv_sample(dt, init = inits, adapt_delta = 0.99, max_treedepth = 15) extract_draws(fit) }"},{"path":"epiforecasts.io/forecast.vocs/reference/extract_forecast_dates.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract forecast dates — extract_forecast_dates","title":"Extract forecast dates — extract_forecast_dates","text":"Extract forecast dates based availability case sequence data.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/extract_forecast_dates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract forecast dates — extract_forecast_dates","text":"","code":"extract_forecast_dates(posterior)"},{"path":"epiforecasts.io/forecast.vocs/reference/extract_forecast_dates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract forecast dates — extract_forecast_dates","text":"posterior dataframe posterior output produced fv_tidy_posterior(). forecast dates extracted data value_type == \"cases\" must present.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/extract_forecast_dates.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract forecast dates — extract_forecast_dates","text":"data.frame containing least two vectors: Data unavailable indicating type data missing, date giving date data last available .","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/extract_forecast_dates.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract forecast dates — extract_forecast_dates","text":"","code":"p <- fv_example(strains = 2, type = \"posterior\")  extract_forecast_dates(p) #>    Data unavailable       date #> 1:            Cases 2021-06-26 #> 2:        Sequences 2021-06-12"},{"path":"epiforecasts.io/forecast.vocs/reference/filter_by_availability.html","id":null,"dir":"Reference","previous_headings":"","what":"Filter data based on availability and forecast date — filter_by_availability","title":"Filter data based on availability and forecast date — filter_by_availability","text":"Filter data based availability forecast date","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/filter_by_availability.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Filter data based on availability and forecast date — filter_by_availability","text":"","code":"filter_by_availability(   obs,   date = max(obs$date),   seq_date = date,   case_date = date )"},{"path":"epiforecasts.io/forecast.vocs/reference/filter_by_availability.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Filter data based on availability and forecast date — filter_by_availability","text":"obs data.frame following variables: date, cases, seq_voc, seq_total, cases_available, seq_available. seq_available case_available must uniquely define data rows rows can duplicated based data availability. date Date filter. Defaults maximum date obs. seq_date Date use available sequence data. Defaults date. case_date Date use available case data. Defaults date.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/filter_by_availability.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Filter data based on availability and forecast date — filter_by_availability","text":"data.frame observations filter latest available data specified dates interest.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/filter_by_availability.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Filter data based on availability and forecast date — filter_by_availability","text":"","code":"options(mc.cores = 4) obs <- filter_by_availability(   germany_covid19_delta_obs,   date = as.Date(\"2021-06-12\"), ) dt <- rbind(   update_obs_availability(obs, seq_lag = 3),   update_obs_availability(obs, seq_lag = 1) ) # filter out duplicates and up to the present date filter_by_availability(dt) #>           date location_name location  cases cases_available seq_total seq_voc #>  1: 2021-03-20       Germany       DE  87328      2021-03-20        NA      NA #>  2: 2021-03-27       Germany       DE 109442      2021-03-27        NA      NA #>  3: 2021-04-03       Germany       DE 117965      2021-04-03        NA      NA #>  4: 2021-04-10       Germany       DE 107223      2021-04-10        NA      NA #>  5: 2021-04-17       Germany       DE 142664      2021-04-17      4066       5 #>  6: 2021-04-24       Germany       DE 145568      2021-04-24      4494      31 #>  7: 2021-05-01       Germany       DE 131887      2021-05-01      3615      55 #>  8: 2021-05-08       Germany       DE 107141      2021-05-08      4479      86 #>  9: 2021-05-15       Germany       DE  77261      2021-05-15      3399      93 #> 10: 2021-05-22       Germany       DE  57310      2021-05-22      3275     108 #> 11: 2021-05-29       Germany       DE  33052      2021-05-29      1328      34 #> 12: 2021-06-05       Germany       DE  22631      2021-06-05        NA      NA #> 13: 2021-06-12       Germany       DE  15553      2021-06-12        NA      NA #>       share_voc seq_available #>  1:          NA          <NA> #>  2:          NA          <NA> #>  3:          NA          <NA> #>  4:          NA          <NA> #>  5: 0.001229710    2021-05-08 #>  6: 0.006898086    2021-05-15 #>  7: 0.015214385    2021-05-22 #>  8: 0.019200714    2021-05-29 #>  9: 0.027360989    2021-06-05 #> 10: 0.032977099    2021-06-12 #> 11: 0.025602410    2021-06-05 #> 12:          NA    2021-06-26 #> 13:          NA    2021-07-03  # filter to only use sequence data up the the 12th of June filter_by_availability(dt, seq_date = \"2021-06-12\") #>           date location_name location  cases cases_available seq_total seq_voc #>  1: 2021-03-20       Germany       DE  87328      2021-03-20        NA      NA #>  2: 2021-03-27       Germany       DE 109442      2021-03-27        NA      NA #>  3: 2021-04-03       Germany       DE 117965      2021-04-03        NA      NA #>  4: 2021-04-10       Germany       DE 107223      2021-04-10        NA      NA #>  5: 2021-04-17       Germany       DE 142664      2021-04-17      4066       5 #>  6: 2021-04-24       Germany       DE 145568      2021-04-24      4494      31 #>  7: 2021-05-01       Germany       DE 131887      2021-05-01      3615      55 #>  8: 2021-05-08       Germany       DE 107141      2021-05-08      4479      86 #>  9: 2021-05-15       Germany       DE  77261      2021-05-15      3399      93 #> 10: 2021-05-22       Germany       DE  57310      2021-05-22      3275     108 #> 11: 2021-05-29       Germany       DE  33052      2021-05-29      1328      34 #> 12: 2021-06-05       Germany       DE  22631      2021-06-05        NA      NA #> 13: 2021-06-12       Germany       DE  15553      2021-06-12        NA      NA #>       share_voc seq_available #>  1:          NA          <NA> #>  2:          NA          <NA> #>  3:          NA          <NA> #>  4:          NA          <NA> #>  5: 0.001229710    2021-05-08 #>  6: 0.006898086    2021-05-15 #>  7: 0.015214385    2021-05-22 #>  8: 0.019200714    2021-05-29 #>  9: 0.027360989    2021-06-05 #> 10: 0.032977099    2021-06-12 #> 11: 0.025602410    2021-06-05 #> 12:          NA    2021-06-26 #> 13:          NA    2021-07-03  # as above but only use filter_by_availability(dt,   seq_date = \"2021-06-12\",   case_date = \"2021-07-01\" ) #>           date location_name location  cases cases_available seq_total seq_voc #>  1: 2021-03-20       Germany       DE  87328      2021-03-20        NA      NA #>  2: 2021-03-27       Germany       DE 109442      2021-03-27        NA      NA #>  3: 2021-04-03       Germany       DE 117965      2021-04-03        NA      NA #>  4: 2021-04-10       Germany       DE 107223      2021-04-10        NA      NA #>  5: 2021-04-17       Germany       DE 142664      2021-04-17      4066       5 #>  6: 2021-04-24       Germany       DE 145568      2021-04-24      4494      31 #>  7: 2021-05-01       Germany       DE 131887      2021-05-01      3615      55 #>  8: 2021-05-08       Germany       DE 107141      2021-05-08      4479      86 #>  9: 2021-05-15       Germany       DE  77261      2021-05-15      3399      93 #> 10: 2021-05-22       Germany       DE  57310      2021-05-22      3275     108 #> 11: 2021-05-29       Germany       DE  33052      2021-05-29      1328      34 #> 12: 2021-06-05       Germany       DE  22631      2021-06-05        NA      NA #> 13: 2021-06-12       Germany       DE  15553      2021-06-12        NA      NA #>       share_voc seq_available #>  1:          NA          <NA> #>  2:          NA          <NA> #>  3:          NA          <NA> #>  4:          NA          <NA> #>  5: 0.001229710    2021-05-08 #>  6: 0.006898086    2021-05-15 #>  7: 0.015214385    2021-05-22 #>  8: 0.019200714    2021-05-29 #>  9: 0.027360989    2021-06-05 #> 10: 0.032977099    2021-06-12 #> 11: 0.025602410    2021-06-05 #> 12:          NA    2021-06-26 #> 13:          NA    2021-07-03"},{"path":"epiforecasts.io/forecast.vocs/reference/forecast.html","id":null,"dir":"Reference","previous_headings":"","what":"Forecast using branching processes at a target date — forecast","title":"Forecast using branching processes at a target date — forecast","text":"Forecast using branching processes target date","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/forecast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Forecast using branching processes at a target date — forecast","text":"","code":"forecast(   obs,   forecast_date = max(obs$date),   seq_date = forecast_date,   case_date = forecast_date,   data_list = forecast.vocs::fv_as_data_list,   inits = forecast.vocs::fv_inits,   fit = forecast.vocs::fv_sample,   posterior = forecast.vocs::fv_tidy_posterior,   extract_forecast = forecast.vocs::fv_extract_forecast,   horizon = 4,   r_init = c(0, 0.25),   voc_scale = c(0, 0.2),   voc_label = \"VOC\",   strains = 2,   variant_relationship = \"pooled\",   overdispersion = TRUE,   models = NULL,   likelihood = TRUE,   output_loglik = FALSE,   debug = FALSE,   keep_fit = TRUE,   scale_r = 1,   probs = c(0.05, 0.2, 0.8, 0.95),   id = 0,   ... )"},{"path":"epiforecasts.io/forecast.vocs/reference/forecast.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Forecast using branching processes at a target date — forecast","text":"obs data.frame following variables: date, cases, seq_voc, seq_total, cases_available, seq_available. seq_available case_available must uniquely define data rows rows can duplicated based data availability. forecast_date Date forecast. Defaults maximum date obs. seq_date Date use available sequence data. Defaults date. case_date Date use available case data. Defaults date. data_list function returns list data ingested inits fit function. Must use arguments defined fv_as_data_list(). supplied package default fv_as_data_list() used. inits function returns function samples initial conditions arguments fv_inits(). supplied package default fv_inits() used. fit function fits supplied model arguments return values fv_sample(). supplied package default fv_sample() used performs MCMC sampling using cmdstanr. posterior function summarises output supplied fitting function arguments return values (depending requirement downstream package functionality function) fv_tidy_posterior(). supplied package default fv_tidy_posterior() used. extract_forecast function extracts forecast summarised posterior. supplied package default fv_extract_forecast() used. horizon Integer forecast horizon. Defaults 4. r_init Numeric vector length 2. Prior mean standard deviation initial growth rate. voc_scale Numeric vector length 2. Prior mean standard deviation initial growth rate modifier due variant concern. voc_label character string, default \"VOC\". Defines label assign variant concern specific parameters. Example usage rename parameters use variant specific terminology. strains Integer number strains use. Defaults 2. Current maximum 2. numeric vector can passed forecasts multiple strain models desired. variant_relationship Character string, defaulting \"pooled\". Controls relationship strains options \"pooled\" (dependence determined data), \"scaled\" (fixed scaling strains), \"independent\" (fully independent strains initial scaling). overdispersion Logical, defaults TRUE. observations used include overdispersion. models model supplied fv_model(). supplied default strain used. multiple strain models forecast models list models. likelihood Logical, defaults TRUE. likelihood included model output_loglik Logical, defaults FALSE. log-likelihood output. Disabling speed fitting evaluating model fit required. debug Logical, defaults FALSE. within model debug information returned. keep_fit Logical, defaults TRUE. stan model fit kept returned. Dropping can substantially reduce memory usage situations multiple models fit. scale_r Numeric, defaults 1. Rescale timespan growth rate reproduction number calculated. example use case rescaling growth rate weekly scaled mean generation time (COVID-19 example 5.5 / 7. probs vector numeric probabilities produce quantile summaries . default 5%, 20%, 80%, 95% quantiles also minimum set required plotting functions work (plot_cases(), plot_rt(), plot_voc()). id ID assign forecast. Defaults 0. ... Additional parameters passed fv_sample().","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/forecast.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Forecast using branching processes at a target date — forecast","text":"data.frame containing output fv_sample() row well summarised posterior, forecast information parameters specified.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/forecast.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Forecast using branching processes at a target date — forecast","text":"","code":"if (FALSE) { # interactive() options(mc.cores = 4)  forecasts <- forecast(   germany_covid19_delta_obs,   forecast_date = as.Date(\"2021-06-12\"),   horizon = 4,   strains = c(1, 2),   adapt_delta = 0.99,   max_treedepth = 15,   variant_relationship = \"scaled\" ) # inspect forecasts forecasts  # unnest posteriors forecasts <- unnest_posterior(forecasts)  # plot case posterior predictions plot_cases(forecasts, log = TRUE)  # plot voc posterior predictions plot_voc(forecasts) }"},{"path":"epiforecasts.io/forecast.vocs/reference/forecast.vocs-package.html","id":null,"dir":"Reference","previous_headings":"","what":"forecast.vocs: Forecast Case and Sequence Notifications using Variant of Concern Strain Dynamics — forecast.vocs-package","title":"forecast.vocs: Forecast Case and Sequence Notifications using Variant of Concern Strain Dynamics — forecast.vocs-package","text":"Contains models tools produce short-term forecasts case sequence notifications assuming circulation either one two variants. Tools also provided allow evaluation use sequence data short-term forecasts real-world settings user generated scenarios.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/forecast.vocs-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"forecast.vocs: Forecast Case and Sequence Notifications using Variant of Concern Strain Dynamics — forecast.vocs-package","text":"Maintainer: Sam Abbott sam.abbott@lshtm.ac.uk (ORCID)","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_across_dates.html","id":null,"dir":"Reference","previous_headings":"","what":"Forecast across multiple dates — forecast_across_dates","title":"Forecast across multiple dates — forecast_across_dates","text":"Forecast across multiple dates","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_across_dates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Forecast across multiple dates — forecast_across_dates","text":"","code":"forecast_across_dates(   obs,   forecast_dates = unique(obs[!is.na(seq_available)])$date[-c(1:3)],   ... )"},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_across_dates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Forecast across multiple dates — forecast_across_dates","text":"obs data.frame following variables: date, cases, seq_voc, seq_total, cases_available, seq_available. seq_available case_available must uniquely define data rows rows can duplicated based data availability. forecast_dates list dates forecast . ... Additional parameters passed forecast().","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_across_dates.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Forecast across multiple dates — forecast_across_dates","text":"data.table row containing output running forecast() single forecast date.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_across_dates.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Forecast across multiple dates — forecast_across_dates","text":"","code":"if (FALSE) { # interactive() library(ggplot2) options(mc.cores = 4)  forecasts <- forecast_across_dates(   germany_covid19_delta_obs,   forecast_dates = c(as.Date(\"2021-05-01\"), as.Date(\"2021-06-12\")),   horizon = 4,   strains = 2,   adapt_delta = 0.99,   max_treedepth = 15,   variant_relationship = \"scaled\" )  # inspect forecasts forecasts  # unnest posteriors posteriors <- unnest_posterior(forecasts)  # plot case posterior predictions plot_cases(posteriors, log = TRUE) +   facet_grid(vars(forecast_date), vars(voc_scale)) }"},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_across_scenarios.html","id":null,"dir":"Reference","previous_headings":"","what":"Forecast across multiple scenarios and dates — forecast_across_scenarios","title":"Forecast across multiple scenarios and dates — forecast_across_scenarios","text":"Forecast across multiple scenarios dates","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_across_scenarios.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Forecast across multiple scenarios and dates — forecast_across_scenarios","text":"","code":"forecast_across_scenarios(obs, scenarios, ...)"},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_across_scenarios.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Forecast across multiple scenarios and dates — forecast_across_scenarios","text":"obs data.frame following variables: date, cases, seq_voc, seq_total, cases_available, seq_available. seq_available case_available must uniquely define data rows rows can duplicated based data availability. scenarios data.frame scenarios produced define_scenarios(). obs variable present used scenario data otherwise generate_obs_scenario() used generate data variables scenarios. ... Additional parameters passed forecast_across_dates().","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_across_scenarios.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Forecast across multiple scenarios and dates — forecast_across_scenarios","text":"data table rows containing output running forecast() single scenario single forecast date.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_across_scenarios.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Forecast across multiple scenarios and dates — forecast_across_scenarios","text":"","code":"if (FALSE) { # interactive() library(ggplot2) options(mc.cores = 4)  scenarios <- define_scenarios(   voc_scale = list(c(0, 0.5), c(0.5, 0.25)),   seq_lag = 1,   seq_samples = 1 ) scenarios  forecasts <- forecast_across_scenarios(   germany_covid19_delta_obs,   scenarios,   forecast_dates = c(as.Date(\"2021-05-01\"), as.Date(\"2021-06-12\")),   horizon = 4,   strains = 2,   adapt_delta = 0.99,   max_treedepth = 15,   variant_relationship = \"scaled\" )  # inspect forecasts forecasts  # unnest posteriors posteriors <- unnest_posterior(forecasts)  # plot case posterior predictions plot_cases(posteriors, log = TRUE) +   facet_grid(vars(forecast_date)) }"},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_n_strain.html","id":null,"dir":"Reference","previous_headings":"","what":"Forecast for a single model and summarise — forecast_n_strain","title":"Forecast for a single model and summarise — forecast_n_strain","text":"Forecast single model summarise","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_n_strain.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Forecast for a single model and summarise — forecast_n_strain","text":"","code":"forecast_n_strain(   data,   model = NULL,   inits = forecast.vocs::fv_inits,   fit = forecast.vocs::fv_sample,   posterior = forecast.vocs::fv_tidy_posterior,   extract_forecast = forecast.vocs::fv_extract_forecast,   strains = 2,   voc_label = \"VOC\",   probs = c(0.05, 0.2, 0.8, 0.95),   scale_r = 1,   ... )"},{"path":"epiforecasts.io/forecast.vocs/reference/forecast_n_strain.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Forecast for a single model and summarise — forecast_n_strain","text":"data list data produced fv_as_data_list(). model cmdstanr model object loaded fv_model(). inits function returns function samples initial conditions arguments fv_inits(). supplied package default fv_inits() used. fit function fits supplied model arguments return values fv_sample(). supplied package default fv_sample() used performs MCMC sampling using cmdstanr. posterior function summarises output supplied fitting function arguments return values (depending requirement downstream package functionality function) fv_tidy_posterior(). supplied package default fv_tidy_posterior() used. extract_forecast function extracts forecast summarised posterior. supplied package default fv_extract_forecast() used. strains Integer number strains. Defaults 2. Current maximum 2. voc_label character string, default \"VOC\". Defines label assign variant concern specific parameters. Example usage rename parameters use variant specific terminology. probs vector numeric probabilities produce quantile summaries . default 5%, 20%, 80%, 95% quantiles also minimum set required plotting functions work (plot_cases(), plot_rt(), plot_voc()). scale_r Numeric, defaults 1. Rescale timespan growth rate reproduction number calculated. example use case rescaling growth rate weekly scaled mean generation time (COVID-19 example 5.5 / 7. ... Additional parameters passed fv_sample().","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/fv_as_data_list.html","id":null,"dir":"Reference","previous_headings":"","what":"Format data for use with stan — fv_as_data_list","title":"Format data for use with stan — fv_as_data_list","text":"Format data use stan","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_as_data_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format data for use with stan — fv_as_data_list","text":"","code":"fv_as_data_list(   obs,   horizon = 4,   r_init = c(0, 0.25),   voc_scale = c(0, 0.2),   variant_relationship = \"pooled\",   overdispersion = TRUE,   likelihood = TRUE,   output_loglik = TRUE,   debug = FALSE )"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_as_data_list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Format data for use with stan — fv_as_data_list","text":"obs data frame following variables: date, cases, seq_voc, seq_total. horizon Integer forecast horizon. Defaults 4. r_init Numeric vector length 2. Prior mean standard deviation initial growth rate. voc_scale Numeric vector length 2. Prior mean standard deviation initial growth rate modifier due variant concern. variant_relationship Character string, defaulting \"pooled\". Controls relationship strains options \"pooled\" (dependence determined data), \"scaled\" (fixed scaling strains), \"independent\" (fully independent strains initial scaling). overdispersion Logical, defaults TRUE. observations used include overdispersion. likelihood Logical, defaults TRUE. likelihood included model output_loglik Logical, defaults FALSE. log-likelihood output. Disabling speed fitting evaluating model fit required. debug Logical, defaults FALSE. within model debug information returned.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_as_data_list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Format data for use with stan — fv_as_data_list","text":"list required stan.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/fv_as_data_list.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Format data for use with stan — fv_as_data_list","text":"","code":"fv_as_data_list(latest_obs(germany_covid19_delta_obs)) #> $t #> [1] 30 #>  #> $t_nots #> [1] 26 #>  #> $t_nseq #> [1] 4 #>  #> $t_seq #> [1] 14 #>  #> $t_seqf #> [1] 26 #>  #> $X #>  [1]  87328 109442 117965 107223 142664 145568 131887 107141  77261  57310 #> [11]  33052  22631  15553   7659   5033   4181   5067   7969  11122  14654 #> [21]  18474  28646  44862  62984  71057  75107 #>  #> $N #>  [1] 4108 4539 3667 4547 3688 3817 2781 2197 1566  991  706  803  735  564 #>  #> $Y #>  [1]   6  34  54  89 101 119 102 181 309 414 451 631 643 521 #>  #> $likelihood #> [1] 1 #>  #> $output_loglik #> [1] 1 #>  #> $start_date #> [1] \"2021-03-20\" #>  #> $seq_start_date #> [1] \"2021-04-17\" #>  #> $r_init_mean #> [1] 0 #>  #> $r_init_sd #> [1] 0.25 #>  #> $voc_mean #> [1] 0 #>  #> $voc_sd #> [1] 0.2 #>  #> $relat #> [1] 1 #>  #> $overdisp #> [1] 1 #>  #> $debug #> [1] 0 #>  #> $t_dep #> [1] 28 #>"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_example.html","id":null,"dir":"Reference","previous_headings":"","what":"Load a package example — fv_example","title":"Load a package example — fv_example","text":"Loads examples posterior forecast summaries produced using example scripts. Used streamline examples, package tests enable users explore package functionality without needing install cmdstanr.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_example.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load a package example — fv_example","text":"","code":"fv_example(strains = 1, type = \"posterior\")"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_example.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load a package example — fv_example","text":"strains Integer number strains. Defaults 2. Current maximum 2. type character string indicating example load. Supported options \"posterior\", \"forecast\", \"observations\", \"script\" output fv_tidy_posterior(),  fv_extract_forecast(), filter_by_availability (date argument set \"2021-08-26\" applied germany_covid19_delta_obs package dataset), script used generate examples respectively.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_example.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load a package example — fv_example","text":"data.table summarised output","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/fv_example.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load a package example — fv_example","text":"","code":"# Load the summarised posterior from an example fit of the one strain model fv_example(strains = 1, type = \"posterior\") #>      value_type     variable                  clean_name       date    type #>   1:      model         beta                        Beta       <NA>         #>   2:      model       phi[1] Notification overdispersion       <NA>         #>   3:      model       r_init              Initial growth       <NA>         #>   4:      model      r_noise                 Growth (sd)       <NA>         #>   5:      cases sim_cases[1]                             2021-03-20 Overall #>  ---                                                                        #> 167:        raw  log_lik[11]                                   <NA>         #> 168:        raw  log_lik[12]                                   <NA>         #> 169:        raw  log_lik[13]                                   <NA>         #> 170:        raw  log_lik[14]                                   <NA>         #> 171:        raw  log_lik[15]                                   <NA>         #>        obs observed forecast_start exponentiated          mean        median #>   1:    NA       NA             NA         FALSE     0.2574233     0.3105140 #>   2:    NA       NA             NA         FALSE    99.1451529    82.2093000 #>   3:    NA       NA             NA         FALSE     0.1370505     0.1368755 #>   4:    NA       NA             NA         FALSE     0.1050505     0.0970416 #>   5: 87328     TRUE          FALSE            NA 89782.1115000 89147.5000000 #>  ---                                                                         #> 167:    NA       NA             NA            NA    -9.5899811    -9.5021600 #> 168:    NA       NA             NA            NA    -8.9613935    -8.9228050 #> 169:    NA       NA             NA            NA    -8.9584797    -8.8246700 #> 170:    NA       NA             NA            NA    -8.2001128    -8.1171600 #> 171:    NA       NA             NA            NA    -7.6749318    -7.5341450 #>                sd          mad            q5           q20           q80 #>   1: 4.719408e-01 5.403657e-01 -5.840633e-01 -2.091524e-01     0.7152896 #>   2: 7.483915e+01 4.935168e+01  2.388086e+01  4.603050e+01   136.5358000 #>   3: 6.699996e-02 6.350391e-02  2.941364e-02  8.433358e-02     0.1901708 #>   4: 5.378900e-02 5.438785e-02  3.325333e-02  5.659784e-02     0.1488320 #>   5: 1.300853e+04 1.126109e+04  6.939080e+04  7.961380e+04 99637.2000000 #>  ---                                                                     #> 167: 5.674628e-01 4.529343e-01 -1.062033e+01 -9.949868e+00    -9.1648780 #> 168: 4.244796e-01 3.719769e-01 -9.711861e+00 -9.265656e+00    -8.6232480 #> 169: 6.718077e-01 4.929497e-01 -1.027716e+01 -9.347032e+00    -8.4678520 #> 170: 5.903806e-01 5.077905e-01 -9.267114e+00 -8.612276e+00    -7.7320280 #> 171: 6.526476e-01 4.749657e-01 -8.802622e+00 -8.059854e+00    -7.2016300 #>                q95      rhat  ess_bulk ess_tail #>   1:  9.112934e-01 0.9996392  646.2839 1228.475 #>   2:  2.184620e+02 1.0018302  917.1166 1259.234 #>   3:  2.440001e-01 1.0013268 1130.7751  822.226 #>   4:  2.037336e-01 0.9994841  684.5599 1235.298 #>   5:  1.110406e+05 0.9999510 1985.4131 1482.156 #>  ---                                            #> 167: -8.876743e+00 1.0007962 1165.0880 1415.102 #> 168: -8.345569e+00 1.0004377  881.2068 1231.126 #> 169: -8.175266e+00 1.0016929 1381.4011 1397.516 #> 170: -7.442126e+00 1.0005277 1229.6354 1508.467 #> 171: -6.914828e+00 1.0003702  946.1096 1316.722  # Load the summarised forecast from this posterior fv_example(strains = 1, type = \"forecast\") #>     value_type    type       date horizon forecast_start         mean #>  1:      cases Overall 2021-07-03       1          FALSE 3032.7945000 #>  2:      cases Overall 2021-07-10       2          FALSE 1914.0135000 #>  3:      cases Overall 2021-07-17       3          FALSE 1314.9725000 #>  4:      cases Overall 2021-07-24       4          FALSE 1068.9410000 #>  5:     growth Overall 2021-06-26       1          FALSE   -0.4129411 #>  6:     growth Overall 2021-07-03       2          FALSE   -0.4116980 #>  7:     growth Overall 2021-07-10       3          FALSE   -0.4154146 #>  8:     growth Overall 2021-07-17       4          FALSE   -0.4108498 #>  9:         rt Overall 2021-06-26       1          FALSE    0.6617013 #> 10:         rt Overall 2021-07-03       2          FALSE    0.6625243 #> 11:         rt Overall 2021-07-10       3          FALSE    0.6600665 #> 12:         rt Overall 2021-07-17       4          FALSE    0.6630865 #>           median           sd         mad           q5          q20 #>  1: 2893.0000000  833.5819664 719.8023000 1941.0000000 2364.0000000 #>  2: 1705.0000000  968.2497400 646.4136000  877.9500000 1233.6000000 #>  3: 1009.0000000 1307.1368483 584.1444000  371.0000000  603.0000000 #>  4:  585.0000000 2656.9133186 451.4517000  135.0000000  289.0000000 #>  5:   -0.4152692    0.1653300   0.1448485   -0.6222887   -0.5147062 #>  6:   -0.4171008    0.2150529   0.1815155   -0.6712363   -0.5419340 #>  7:   -0.4180908    0.2697488   0.2333449   -0.7454903   -0.5725855 #>  8:   -0.4131462    0.3189151   0.2710363   -0.8073175   -0.5971678 #>  9:    0.6601625    0.1653300   0.1448485    0.5367147    0.5976762 #> 10:    0.6589545    0.2150529   0.1815155    0.5110763    0.5816223 #> 11:    0.6583025    0.2697488   0.2333449    0.4745016    0.5640652 #> 12:    0.6615655    0.3189151   0.2710363    0.4460530    0.5503682 #>              q80           q95 #>  1: 3640.2000000  4.501000e+03 #>  2: 2373.0000000  3.683050e+03 #>  3: 1648.2000000  3.239950e+03 #>  4: 1170.2000000  3.135900e+03 #>  5:   -0.3183348 -1.997911e-01 #>  6:   -0.2908642 -1.246967e-01 #>  7:   -0.2665140 -6.355721e-02 #>  8:   -0.2383310  1.550653e-03 #>  9:    0.7273592  8.189018e-01 #> 10:    0.7476172  8.827646e-01 #> 11:    0.7660453  9.384204e-01 #> 12:    0.7879418  1.001552e+00  # Load the script used to generate these examples # Optionally source this script to regenerate the example readLines(fv_example(strains = 1, type = \"script\")) #>  [1] \"options(mc.cores = 2)\"                                               #>  [2] \"obs <- filter_by_availability(\"                                      #>  [3] \"  germany_covid19_delta_obs,\"                                        #>  [4] \"  date = \\\"2021-06-26\\\"\"                                             #>  [5] \")\"                                                                   #>  [6] \"\"                                                                    #>  [7] \"current_obs <- filter_by_availability(\"                              #>  [8] \"  germany_covid19_delta_obs,\"                                        #>  [9] \"  date = \\\"2021-08-26\\\"\"                                             #> [10] \")\"                                                                   #> [11] \"\"                                                                    #> [12] \"dt <- fv_as_data_list(\"                                              #> [13] \"  obs,\"                                                              #> [14] \"  overdispersion = TRUE,\"                                            #> [15] \"  variant_relationship = \\\"scaled\\\",\"                                #> [16] \"  voc_scale = c(0.4, 0.2)\"                                           #> [17] \")\"                                                                   #> [18] \"\"                                                                    #> [19] \"inits <- fv_inits(dt, strains = 1)\"                                  #> [20] \"\"                                                                    #> [21] \"model <- suppressMessages(fv_model(strains = 1))\"                    #> [22] \"\"                                                                    #> [23] \"fit <- fv_sample(\"                                                   #> [24] \"  data = dt, model = model, init = inits,\"                           #> [25] \"  adapt_delta = 0.99, max_treedepth = 15, chains = 2\"                #> [26] \")\"                                                                   #> [27] \"\"                                                                    #> [28] \"# summarise posterior assuming a mean generation time of  5.5 days.\" #> [29] \"posterior <- fv_tidy_posterior(fit, scale_r = 5.5 / 7)\"              #> [30] \"forecast <- fv_extract_forecast(posterior)\""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_extract_forecast.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract forecasts from a summarised posterior — fv_extract_forecast","title":"Extract forecasts from a summarised posterior — fv_extract_forecast","text":"Uses observed variable returned fv_tidy_posterior() return posterior predictions forecast dates .","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_extract_forecast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract forecasts from a summarised posterior — fv_extract_forecast","text":"","code":"fv_extract_forecast(posterior)"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_extract_forecast.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract forecasts from a summarised posterior — fv_extract_forecast","text":"posterior dataframe posterior output produced fv_tidy_posterior(). forecast dates extracted data value_type == \"cases\" must present.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_extract_forecast.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract forecasts from a summarised posterior — fv_extract_forecast","text":"data.frame forecasts format returned fv_tidy_posterior() fitting variables dropped.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/fv_extract_forecast.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract forecasts from a summarised posterior — fv_extract_forecast","text":"","code":"p <- fv_example(strains = 2, type = \"posterior\")  fv_extract_forecast(p) #>     value_type     type       date horizon forecast_start          mean #>  1:      cases Combined 2021-07-03       1          FALSE 3429.24600000 #>  2:      cases Combined 2021-07-10       2          FALSE 2588.25250000 #>  3:      cases Combined 2021-07-17       3          FALSE 2401.54200000 #>  4:      cases Combined 2021-07-24       4          FALSE 3449.94100000 #>  5:      cases      VOC 2021-06-19       1          FALSE 2098.75500000 #>  6:      cases      VOC 2021-06-26       2          FALSE 1951.21250000 #>  7:      cases      VOC 2021-07-03       3          FALSE 1793.53600000 #>  8:      cases      VOC 2021-07-10       4          FALSE 1712.20950000 #>  9:      cases      VOC 2021-07-17       5          FALSE 1875.48200000 #> 10:      cases      VOC 2021-07-24       6          FALSE 2967.00100000 #> 11:      cases  non-VOC 2021-06-19       1          FALSE 6203.23450000 #> 12:      cases  non-VOC 2021-06-26       2          FALSE 3187.24000000 #> 13:      cases  non-VOC 2021-07-03       3          FALSE 1635.71000000 #> 14:      cases  non-VOC 2021-07-10       4          FALSE  876.04300000 #> 15:      cases  non-VOC 2021-07-17       5          FALSE  526.06000000 #> 16:      cases  non-VOC 2021-07-24       6          FALSE  482.94100000 #> 17:        voc      VOC 2021-06-19       1          FALSE    0.25325522 #> 18:        voc      VOC 2021-06-26       2          FALSE    0.37860417 #> 19:        voc      VOC 2021-07-03       3          FALSE    0.52155912 #> 20:        voc      VOC 2021-07-10       4          FALSE    0.66026949 #> 21:        voc      VOC 2021-07-17       5          FALSE    0.77564376 #> 22:        voc      VOC 2021-07-24       6          FALSE    0.86002722 #> 23:     growth Combined 2021-06-26       1          FALSE   -0.30251201 #> 24:     growth Combined 2021-07-03       2          FALSE   -0.24626492 #> 25:     growth Combined 2021-07-10       3          FALSE   -0.19733734 #> 26:     growth Combined 2021-07-17       4          FALSE   -0.16751240 #> 27:     growth      VOC 2021-06-12       1          FALSE   -0.05034430 #> 28:     growth      VOC 2021-06-19       2          FALSE   -0.06464587 #> 29:     growth      VOC 2021-06-26       3          FALSE   -0.08196106 #> 30:     growth      VOC 2021-07-03       4          FALSE   -0.09005981 #> 31:     growth      VOC 2021-07-10       5          FALSE   -0.09445468 #> 32:     growth      VOC 2021-07-17       6          FALSE   -0.10348861 #> 33:     growth  non-VOC 2021-06-12       1          FALSE   -0.51425415 #> 34:     growth  non-VOC 2021-06-19       2          FALSE   -0.52855571 #> 35:     growth  non-VOC 2021-06-26       3          FALSE   -0.54587090 #> 36:     growth  non-VOC 2021-07-03       4          FALSE   -0.55396964 #> 37:     growth  non-VOC 2021-07-10       5          FALSE   -0.55836450 #> 38:     growth  non-VOC 2021-07-17       6          FALSE   -0.56739846 #> 39:         rt Combined 2021-06-26       1          FALSE    0.73895962 #> 40:         rt Combined 2021-07-03       2          FALSE    0.78171510 #> 41:         rt Combined 2021-07-10       3          FALSE    0.82091366 #> 42:         rt Combined 2021-07-17       4          FALSE    0.84576613 #> 43:         rt      VOC 2021-06-12       1          FALSE    0.95090197 #> 44:         rt      VOC 2021-06-19       2          FALSE    0.93739936 #> 45:         rt      VOC 2021-06-26       3          FALSE    0.92130783 #> 46:         rt      VOC 2021-07-03       4          FALSE    0.91387652 #> 47:         rt      VOC 2021-07-10       5          FALSE    0.90986897 #> 48:         rt      VOC 2021-07-17       6          FALSE    0.90168629 #> 49:         rt  non-VOC 2021-06-12       1          FALSE    0.59794641 #> 50:         rt  non-VOC 2021-06-19       2          FALSE    0.58945570 #> 51:         rt  non-VOC 2021-06-26       3          FALSE    0.57933702 #> 52:         rt  non-VOC 2021-07-03       4          FALSE    0.57466406 #> 53:         rt  non-VOC 2021-07-10       5          FALSE    0.57214404 #> 54:         rt  non-VOC 2021-07-17       6          FALSE    0.56699859 #>     value_type     type       date horizon forecast_start          mean #>            median           sd          mad           q5           q20 #>  1: 3296.00000000 1.001209e+03 7.872606e+02 2141.0000000 2670.00000000 #>  2: 2279.50000000 1.448296e+03 9.644313e+02 1109.9000000 1609.00000000 #>  3: 1706.50000000 4.534740e+03 1.076368e+03  525.9000000  983.00000000 #>  4: 1355.50000000 3.075086e+04 1.177926e+03  260.0000000  599.60000000 #>  5: 2058.00000000 4.517657e+02 4.329192e+02 1431.0000000 1727.80000000 #>  6: 1905.50000000 4.597504e+02 4.158693e+02 1298.9500000 1574.00000000 #>  7: 1694.50000000 6.112130e+02 5.018601e+02 1012.9500000 1322.80000000 #>  8: 1492.00000000 9.742778e+02 6.716178e+02  685.9500000 1015.00000000 #>  9: 1314.00000000 3.573439e+03 8.658384e+02  396.9500000  746.60000000 #> 10: 1167.00000000 2.593159e+04 1.028183e+03  223.8500000  514.60000000 #> 11: 6141.50000000 1.008974e+03 8.977143e+02 4683.9500000 5418.00000000 #> 12: 3131.50000000 6.230724e+02 5.656119e+02 2291.6000000 2685.80000000 #> 13: 1571.50000000 5.363618e+02 4.588647e+02  953.0000000 1209.80000000 #> 14:  767.00000000 5.564496e+02 3.409980e+02  338.0000000  523.00000000 #> 15:  376.00000000 9.875049e+02 2.401812e+02  111.0000000  206.00000000 #> 16:  187.00000000 4.844803e+03 1.601208e+02   31.0000000   79.00000000 #> 17:    0.25022550 4.128863e-02 3.843863e-02    0.1940648    0.22025600 #> 18:    0.37543400 5.664506e-02 5.366864e-02    0.2944653    0.33303260 #> 19:    0.51962900 6.588415e-02 6.362949e-02    0.4196759    0.46830080 #> 20:    0.66141100 6.500086e-02 6.270212e-02    0.5539496    0.60841360 #> 21:    0.77836850 5.552442e-02 5.238545e-02    0.6804697    0.73277000 #> 22:    0.86398600 4.236880e-02 3.836524e-02    0.7866587    0.82870060 #> 23:   -0.30435350 1.749757e-01 1.594180e-01   -0.5138655   -0.40969814 #> 24:   -0.25116418 2.375012e-01 2.150889e-01   -0.5408795   -0.39256250 #> 25:   -0.20213089 3.027830e-01 2.561703e-01   -0.5815155   -0.37631597 #> 26:   -0.16941100 3.601256e-01 2.980068e-01   -0.6166901   -0.36961713 #> 27:   -0.04720850 7.286879e-02 6.092433e-02   -0.1500362   -0.09199646 #> 28:   -0.06584034 9.793869e-02 8.574543e-02   -0.1866830   -0.12390699 #> 29:   -0.08494750 1.735136e-01 1.552123e-01   -0.2927158   -0.18954949 #> 30:   -0.09163864 2.360269e-01 2.143995e-01   -0.3852124   -0.23445871 #> 31:   -0.09590507 3.018693e-01 2.588064e-01   -0.4763217   -0.27169937 #> 32:   -0.10277064 3.597775e-01 2.972860e-01   -0.5539901   -0.30884779 #> 33:   -0.51256582 7.698416e-02 6.571031e-02   -0.6213916   -0.55927960 #> 34:   -0.53001182 1.012330e-01 9.031332e-02   -0.6539449   -0.59201764 #> 35:   -0.54815043 1.755339e-01 1.575633e-01   -0.7639700   -0.65529483 #> 36:   -0.55424639 2.374524e-01 2.134114e-01   -0.8522537   -0.70461663 #> 37:   -0.56193382 3.032762e-01 2.584668e-01   -0.9418290   -0.73827050 #> 38:   -0.56841086 3.614116e-01 2.978380e-01   -1.0206790   -0.76961641 #> 39:    0.73760008 1.749757e-01 1.594180e-01    0.5981789    0.66385061 #> 40:    0.77789465 2.375012e-01 2.150889e-01    0.5822359    0.67532414 #> 41:    0.81698798 3.027830e-01 2.561703e-01    0.5590505    0.68638542 #> 42:    0.84416188 3.601256e-01 2.980068e-01    0.5397279    0.69099884 #> 43:    0.95388849 7.286879e-02 6.092433e-02    0.8606769    0.91210838 #> 44:    0.93628034 9.793869e-02 8.574543e-02    0.8297067    0.88346201 #> 45:    0.91856051 1.735136e-01 1.552123e-01    0.7462342    0.82733177 #> 46:    0.91243480 2.360269e-01 2.143995e-01    0.6803061    0.79099889 #> 47:    0.90855026 3.018693e-01 2.588064e-01    0.6210637    0.76208333 #> 48:    0.90233391 3.597775e-01 2.972860e-01    0.5746523    0.73429253 #> 49:    0.59895679 7.698416e-02 6.571031e-02    0.5371963    0.57162071 #> 50:    0.58859801 1.012330e-01 9.031332e-02    0.5199904    0.55320998 #> 51:    0.57801791 1.755339e-01 1.575633e-01    0.4658135    0.51928894 #> 52:    0.57450505 2.374524e-01 2.134114e-01    0.4264528    0.49429804 #> 53:    0.57010551 3.032762e-01 2.584668e-01    0.3899140    0.47793980 #> 54:    0.56642485 3.614116e-01 2.978380e-01    0.3603502    0.46319071 #>            median           sd          mad           q5           q20 #>               q80           q95 #>  1:  4.053400e+03 5099.25000000 #>  2:  3.313000e+03 4882.10000000 #>  3:  3.071000e+03 5946.05000000 #>  4:  2.970400e+03 7898.60000000 #>  5:  2.434000e+03 2912.05000000 #>  6:  2.285200e+03 2742.05000000 #>  7:  2.209600e+03 2860.05000000 #>  8:  2.232200e+03 3372.00000000 #>  9:  2.407000e+03 4733.85000000 #> 10:  2.565000e+03 6839.00000000 #> 11:  6.954200e+03 7939.25000000 #> 12:  3.636200e+03 4299.90000000 #> 13:  1.977200e+03 2516.10000000 #> 14:  1.131200e+03 1689.95000000 #> 15:  6.660000e+02 1354.30000000 #> 16:  4.090000e+02 1067.25000000 #> 17:  2.849324e-01    0.32067325 #> 18:  4.232296e-01    0.47110610 #> 19:  5.745284e-01    0.62755680 #> 20:  7.140604e-01    0.76101130 #> 21:  8.217192e-01    0.85734490 #> 22:  8.945640e-01    0.91952600 #> 23: -1.953094e-01   -0.07420857 #> 24: -1.066186e-01    0.06081701 #> 25: -2.388700e-02    0.18918916 #> 26:  2.207108e-02    0.29103101 #> 27: -8.905679e-03    0.03542019 #> 28: -6.473509e-03    0.06004202 #> 29:  2.229543e-02    0.14784746 #> 30:  5.016352e-02    0.21281221 #> 31:  7.704944e-02    0.29192888 #> 32:  8.521904e-02    0.34726018 #> 33: -4.699099e-01   -0.41819937 #> 34: -4.660493e-01   -0.39885210 #> 35: -4.402726e-01   -0.30736911 #> 36: -4.167730e-01   -0.24578137 #> 37: -3.804664e-01   -0.16630252 #> 38: -3.762457e-01   -0.11241972 #> 39:  8.225801e-01    0.92847803 #> 40:  8.988684e-01    1.06270443 #> 41:  9.763960e-01    1.20826948 #> 42:  1.022316e+00    1.33780606 #> 43:  9.911339e-01    1.03605496 #> 44:  9.935474e-01    1.06188117 #> 45:  1.022546e+00    1.15933604 #> 46:  1.051443e+00    1.23715230 #> 47:  1.080095e+00    1.33900779 #> 48:  1.088956e+00    1.41518488 #> 49:  6.250586e-01    0.65823098 #> 50:  6.274764e-01    0.67108995 #> 51:  6.438609e-01    0.73537911 #> 52:  6.591705e-01    0.78209320 #> 53:  6.835425e-01    0.84679003 #> 54:  6.864336e-01    0.89366908 #>               q80           q95"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_inits.html","id":null,"dir":"Reference","previous_headings":"","what":"Set up initial conditions for model — fv_inits","title":"Set up initial conditions for model — fv_inits","text":"Set initial conditions model","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_inits.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set up initial conditions for model — fv_inits","text":"","code":"fv_inits(data, strains = 2)"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_inits.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set up initial conditions for model — fv_inits","text":"data list data produced fv_as_data_list(). strains Integer number strains. Defaults 2. Current maximum 2.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_inits.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set up initial conditions for model — fv_inits","text":"function called returns list initial conditions package stan models.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/fv_inits.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set up initial conditions for model — fv_inits","text":"","code":"dt <- fv_as_data_list(latest_obs(germany_covid19_delta_obs)) inits <- fv_inits(dt) inits #> function ()  #> { #>     inits <- list(init_cases = purrr::map_dbl(c(data$X[1], max(2,  #>         data$X[data$t_nseq + 1] * data$Y[1]/data$N[1])), ~log(abs(rnorm(1,  #>         ., . * 0.01)))), r_init = rnorm(1, data$r_init_mean,  #>         data$r_init_sd * 0.1), r_noise = abs(rnorm(1, 0, 0.01)),  #>         eta = rnorm(data$t_dep, 0, 0.01), beta = rnorm(1, 0,  #>             0.1), sqrt_phi = abs(rnorm(2, 0, 0.01))) #>     if (strains == 1) { #>         inits$init_cases <- inits$init_cases[1] #>         inits$sqrt_phi <- inits$sqrt_phi[1] #>     } #>     else { #>         inits$voc_mod <- rnorm(1, data$voc_mean, data$voc_sd *  #>             0.1) #>         inits$voc_noise <- abs(rnorm(1, 0, 0.01)) #>         inits$nvoc_noise <- abs(rnorm(1, 0, 0.01)) #>         inits$voc_eta <- rnorm(data$t_seqf - 2, 0, 0.01) #>         inits$nvoc_eta <- rnorm(data$t_seqf - 2, 0, 0.01) #>     } #>     return(inits) #> } #> <bytecode: 0x7f819ef68b80> #> <environment: 0x7f819ef6c5d0> inits() #> $init_cases #> [1] 11.393907  5.338301 #>  #> $r_init #> [1] 0.023928 #>  #> $r_noise #> [1] 0.00592631 #>  #> $eta #>  [1]  0.0023439361  0.0020577532 -0.0021492519 -0.0149616720  0.0051054172 #>  [6]  0.0027883633 -0.0138262461 -0.0110974499 -0.0014504302 -0.0029143186 #> [11]  0.0009101041 -0.0016336154  0.0027841913  0.0007518571 -0.0244348480 #> [16]  0.0150453465 -0.0063641656 -0.0001090626  0.0041507295 -0.0137793992 #> [21]  0.0001705048  0.0026443509  0.0050471644 -0.0019269957  0.0089497292 #> [26] -0.0033543962 -0.0054060086 -0.0070201927 #>  #> $beta #> [1] 0.2375626 #>  #> $sqrt_phi #> [1] 0.007856141 0.009091900 #>  #> $voc_mod #> [1] -0.005324962 #>  #> $voc_noise #> [1] 0.002515901 #>  #> $nvoc_noise #> [1] 0.01143901 #>  #> $voc_eta #>  [1]  0.0049788526  0.0032996475  0.0137423054  0.0069262376 -0.0173458872 #>  [6]  0.0090679754 -0.0143993038 -0.0100818950 -0.0068329356  0.0211478648 #> [11]  0.0003885381 -0.0194952346 -0.0140393097  0.0018165057 -0.0174052260 #> [16] -0.0045284841  0.0129623926 -0.0019109605  0.0097453815  0.0034153765 #> [21]  0.0056382932 -0.0003669188  0.0048119393  0.0048072701 #>  #> $nvoc_eta #>  [1]  6.502407e-03 -1.712523e-02 -1.653293e-03  1.128932e-02 -3.638019e-03 #>  [6]  1.208879e-02  8.926830e-04 -9.365985e-03 -7.717005e-03 -5.041054e-03 #> [11]  1.290043e-02 -1.834927e-03 -1.639811e-02 -7.281982e-03 -1.091360e-02 #> [16]  2.339133e-05  2.693396e-02  1.123740e-02  4.147248e-03  6.583360e-03 #> [21] -1.066483e-02  2.611600e-03 -9.279626e-03  2.860437e-03 #>"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Load and compile a strain model — fv_model","title":"Load and compile a strain model — fv_model","text":"Load compile strain model","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load and compile a strain model — fv_model","text":"","code":"fv_model(strains = 2, compile = TRUE, ...)"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load and compile a strain model — fv_model","text":"strains Integer number strains. Defaults 2. Current maximum 2. compile Logical, defaults TRUE. model loaded compiled using cmdstanr::cmdstan_model(). ... Additional arguments passed cmdstanr::cmdstan_model().","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_model.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load and compile a strain model — fv_model","text":"cmdstanr model.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/fv_model.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load and compile a strain model — fv_model","text":"","code":"if (FALSE) { # interactive() # one strain model mod <- fv_model(strains = 1)  # two strain model two_strain_mod <- fv_model(strains = 2) }"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_posterior.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarise the posterior — fv_posterior","title":"Summarise the posterior — fv_posterior","text":"generic wrapper around posterior::summarise_draws() opinionated defaults. See fv_tidy_posterior() opinionated wrapper cleaning tidying including linking observed data, tidying parameter names, transforming parameters interpretability.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_posterior.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarise the posterior — fv_posterior","text":"","code":"fv_posterior(fit, probs = c(0.05, 0.2, 0.8, 0.95), ...)"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_posterior.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarise the posterior — fv_posterior","text":"fit List output returned fv_sample(). probs vector numeric probabilities produce quantile summaries . default 5%, 20%, 80%, 95% quantiles also minimum set required plotting functions work (plot_cases(), plot_rt(), plot_voc()). ... Additional arguments may passed used.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_posterior.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarise the posterior — fv_posterior","text":"dataframe summarising model posterior.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/fv_posterior.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summarise the posterior — fv_posterior","text":"","code":"if (FALSE) { # interactive() options(mc.cores = 4) obs <- filter_by_availability(   germany_covid19_delta_obs,   date = as.Date(\"2021-06-12\"), ) dt <- fv_as_data_list(obs) inits <- fv_inits(dt) fit <- fv_sample(dt, init = inits, adapt_delta = 0.99, max_treedepth = 15) fv_posterior(fit) }"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_sample.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit a brancing process strain model — fv_sample","title":"Fit a brancing process strain model — fv_sample","text":"Fit brancing process strain model","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_sample.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit a brancing process strain model — fv_sample","text":"","code":"fv_sample(   data,   model = forecast.vocs::fv_model(strains = 2),   diagnostics = TRUE,   ... )"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_sample.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit a brancing process strain model — fv_sample","text":"data list data produced fv_as_data_list(). model cmdstanr model object loaded fv_model(). diagnostics Logical, defaults TRUE. fitting diagnostics returned data.frame. ... Additional parameters passed sample method cmdstanr.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_sample.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit a brancing process strain model — fv_sample","text":"data.frame containing cmdstanr fit, input data, fitting arguments, optionally summary diagnostics.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/fv_sample.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fit a brancing process strain model — fv_sample","text":"","code":"if (FALSE) { # interactive() options(mc.cores = 4)  # format example data obs <- filter_by_availability(   germany_covid19_delta_obs,   date = as.Date(\"2021-06-12\"), ) dt <- fv_as_data_list(obs)  # single strain model inits <- fv_inits(dt, strains = 1) mod <- fv_model(strains = 1) fit <- fv_sample(   dt,   model = mod, init = inits,   adapt_delta = 0.99, max_treedepth = 15 ) fit  # two strain model inits <- fv_inits(dt, strains = 2)  mod <- fv_model(strains = 2)  two_strain_fit <- fv_sample(dt,   model = mod, init = inits,   adapt_delta = 0.99, max_treedepth = 15 ) two_strain_fit }"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_tidy_posterior.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarise the posterior tidily — fv_tidy_posterior","title":"Summarise the posterior tidily — fv_tidy_posterior","text":"opinionated wrapper around posterior::summarise_draws() cleaning tidying including linking observed data, tidying parameter names, transforming parameters interpretability. See fv_posterior() generic solution.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_tidy_posterior.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarise the posterior tidily — fv_tidy_posterior","text":"","code":"fv_tidy_posterior(   fit,   probs = c(0.05, 0.2, 0.8, 0.95),   voc_label = \"VOC\",   scale_r = 1 )"},{"path":"epiforecasts.io/forecast.vocs/reference/fv_tidy_posterior.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarise the posterior tidily — fv_tidy_posterior","text":"fit List output returned fv_sample(). probs vector numeric probabilities produce quantile summaries . default 5%, 20%, 80%, 95% quantiles also minimum set required plotting functions work (plot_cases(), plot_rt(), plot_voc()). voc_label character string, default \"VOC\". Defines label assign variant concern specific parameters. Example usage rename parameters use variant specific terminology. scale_r Numeric, defaults 1. Rescale timespan growth rate reproduction number calculated. example use case rescaling growth rate weekly scaled mean generation time (COVID-19 example 5.5 / 7.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/fv_tidy_posterior.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarise the posterior tidily — fv_tidy_posterior","text":"dataframe summarising model posterior. Output stratified value_type posterior summaries case, voc, rt, growth, model, raw posterior summary.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/fv_tidy_posterior.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summarise the posterior tidily — fv_tidy_posterior","text":"","code":"if (FALSE) { # interactive() options(mc.cores = 4) obs <- filter_by_availability(   germany_covid19_delta_obs,   date = as.Date(\"2021-06-12\"), ) dt <- fv_as_data_list(obs) inits <- fv_inits(dt) fit <- fv_sample(dt, init = inits, adapt_delta = 0.99, max_treedepth = 15) fv_tidy_posterior(fit) }"},{"path":"epiforecasts.io/forecast.vocs/reference/generate_obs.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Simulated Observations — generate_obs","title":"Generate Simulated Observations — generate_obs","text":"Generate simulated observations prior posterior distributions forecast.vocs model. single strain model used case data simulated multiple strain model used sequence data also simulated.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/generate_obs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Simulated Observations — generate_obs","text":"","code":"generate_obs(   obs,   strains = 2,   model = forecast.vocs::fv_model(strains = strains),   data_list = forecast.vocs::fv_as_data_list,   inits = forecast.vocs::fv_inits,   fit = forecast.vocs::fv_sample,   type = \"prior\",   datasets = 10,   ... )"},{"path":"epiforecasts.io/forecast.vocs/reference/generate_obs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Simulated Observations — generate_obs","text":"obs Observed data use parameterise model used fitting posterior required. strains Integer number strains use. Defaults 2. Current maximum 2. numeric vector can passed forecasts multiple strain models desired. model cmdstanr model object loaded fv_model(). data_list function returns list data ingested inits fit function. Must use arguments defined fv_as_data_list(). supplied package default fv_as_data_list() used. inits function returns function samples initial conditions arguments fv_inits(). supplied package default fv_inits() used. fit function fits supplied model arguments return values fv_sample(). supplied package default fv_sample() used performs MCMC sampling using cmdstanr. type character string indicating type data generate. Supported options data based \"prior\" data based  \"posterior\" default prior. datasets Numeric, defaults 10. Number datasets generate. ... Additional arguments pass fv_as_data_list().","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/generate_obs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Simulated Observations — generate_obs","text":"dataframe sampled dataset row following variables: parameters (prior/posterior parameters used generate data), obs (simulated observed data), data, (simulated data formatted using supplied data_list function (default fv_as_data_list()) arguments specified  simulation).","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/generate_obs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate Simulated Observations — generate_obs","text":"","code":"if (FALSE) { # interactive() options(mc.cores = 4) obs <- latest_obs(germany_covid19_delta_obs)  sim_obs <- generate_obs(obs, voc_scale = c(0.8, 0.1), r_init = c(-0.1, 0.05))  # fit a simulated dataset sim_dt <- sim_obs$data[[1]] inits <- fv_inits(sim_dt) fit <- fv_sample(   sim_dt,   init = inits, adapt_delta = 0.95, max_treedepth = 15 )  # summarise and plot simualated fit posterior <- fv_tidy_posterior(fit)  plot_cases(posterior, log = TRUE)  plot_voc(posterior)  plot_rt(posterior) }"},{"path":"epiforecasts.io/forecast.vocs/reference/generate_obs_scenario.html","id":null,"dir":"Reference","previous_headings":"","what":"Define observed data for a scenario — generate_obs_scenario","title":"Define observed data for a scenario — generate_obs_scenario","text":"Define observed data scenario","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/generate_obs_scenario.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Define observed data for a scenario — generate_obs_scenario","text":"","code":"generate_obs_scenario(obs, seq_lag, seq_samples)"},{"path":"epiforecasts.io/forecast.vocs/reference/generate_obs_scenario.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Define observed data for a scenario — generate_obs_scenario","text":"obs dataframe observations returned latest_obs() similar. seq_lag Number, number weeks lag sequence data behind date observation. seq_samples Fraction sequence samples include.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/generate_obs_scenario.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Define observed data for a scenario — generate_obs_scenario","text":"data.frame scenario definitions ids","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/generate_obs_scenario.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Define observed data for a scenario — generate_obs_scenario","text":"","code":"generate_obs_scenario(latest_obs(germany_covid19_delta_obs), 4, 0.1) #>           date location_name location  cases cases_available seq_total seq_voc #>  1: 2021-03-20       Germany       DE  87328      2021-03-20        NA      NA #>  2: 2021-03-27       Germany       DE 109442      2021-03-27        NA      NA #>  3: 2021-04-03       Germany       DE 117965      2021-04-03        NA      NA #>  4: 2021-04-10       Germany       DE 107223      2021-04-10        NA      NA #>  5: 2021-04-17       Germany       DE 142664      2021-04-17       411       1 #>  6: 2021-04-24       Germany       DE 145568      2021-04-24       454       3 #>  7: 2021-05-01       Germany       DE 131887      2021-05-01       367       5 #>  8: 2021-05-08       Germany       DE 107141      2021-05-08       455       9 #>  9: 2021-05-15       Germany       DE  77261      2021-05-15       369      10 #> 10: 2021-05-22       Germany       DE  57310      2021-05-22       382      12 #> 11: 2021-05-29       Germany       DE  33052      2021-05-29       278      10 #> 12: 2021-06-05       Germany       DE  22631      2021-06-05       220      18 #> 13: 2021-06-12       Germany       DE  15553      2021-06-12       157      31 #> 14: 2021-06-19       Germany       DE   7659      2021-06-19        99      41 #> 15: 2021-06-26       Germany       DE   5033      2021-06-26        71      45 #> 16: 2021-07-03       Germany       DE   4181      2021-07-03        80      63 #> 17: 2021-07-10       Germany       DE   5067      2021-07-10        74      64 #> 18: 2021-07-17       Germany       DE   7969      2021-07-17        56      52 #> 19: 2021-07-24       Germany       DE  11122      2021-07-24        NA      NA #> 20: 2021-07-31       Germany       DE  14654      2021-07-31        NA      NA #> 21: 2021-08-07       Germany       DE  18474      2021-08-07        NA      NA #> 22: 2021-08-14       Germany       DE  28646      2021-08-14        NA      NA #> 23: 2021-08-21       Germany       DE  44862      2021-08-21        NA      NA #> 24: 2021-08-28       Germany       DE  62984      2021-08-28        NA      NA #> 25: 2021-09-04       Germany       DE  71057      2021-09-04        NA      NA #> 26: 2021-09-11       Germany       DE  75107      2021-09-11        NA      NA #>           date location_name location  cases cases_available seq_total seq_voc #>       share_voc seq_available #>  1:          NA          <NA> #>  2:          NA          <NA> #>  3:          NA          <NA> #>  4:          NA          <NA> #>  5: 0.001460565    2021-05-15 #>  6: 0.007490637    2021-05-22 #>  7: 0.014725934    2021-05-29 #>  8: 0.019573345    2021-06-05 #>  9: 0.027386117    2021-06-12 #> 10: 0.031176316    2021-06-19 #> 11: 0.036677454    2021-06-26 #> 12: 0.082385071    2021-07-03 #> 13: 0.197318008    2021-07-10 #> 14: 0.417759839    2021-07-17 #> 15: 0.638810198    2021-07-24 #> 16: 0.785803238    2021-07-31 #> 17: 0.874829932    2021-08-07 #> 18: 0.923758865    2021-08-14 #> 19:          NA          <NA> #> 20:          NA          <NA> #> 21:          NA          <NA> #> 22:          NA          <NA> #> 23:          NA          <NA> #> 24:          NA          <NA> #> 25:          NA          <NA> #> 26:          NA          <NA> #>       share_voc seq_available"},{"path":"epiforecasts.io/forecast.vocs/reference/germany_covid19_delta_obs.html","id":null,"dir":"Reference","previous_headings":"","what":"Test positive COVID-19 cases and sequences in Germany — germany_covid19_delta_obs","title":"Test positive COVID-19 cases and sequences in Germany — germany_covid19_delta_obs","text":"Test positive COVID-19 cases sequences stratified voc variant status summarised week Germany. Data sourced RKI via Germany/Poland forecasting hub.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/germany_covid19_delta_obs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Test positive COVID-19 cases and sequences in Germany — germany_covid19_delta_obs","text":"","code":"germany_covid19_delta_obs"},{"path":"epiforecasts.io/forecast.vocs/reference/germany_covid19_delta_obs.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Test positive COVID-19 cases and sequences in Germany — germany_covid19_delta_obs","text":"object class data.table (inherits data.frame) 114 rows 9 columns.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/germany_covid19_delta_obs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Test positive COVID-19 cases and sequences in Germany — germany_covid19_delta_obs","text":"data.table following variables: date, location_name, location, cases, seq_total, seq_voc, share_voc, cases_available, seq_available.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/latest_obs.html","id":null,"dir":"Reference","previous_headings":"","what":"Filter for latest observations of all types — latest_obs","title":"Filter for latest observations of all types — latest_obs","text":"Filter latest observations types","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/latest_obs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Filter for latest observations of all types — latest_obs","text":"","code":"latest_obs(obs)"},{"path":"epiforecasts.io/forecast.vocs/reference/latest_obs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Filter for latest observations of all types — latest_obs","text":"obs data.frame following variables: date, cases, seq_voc, seq_total, cases_available, seq_available. seq_available case_available must uniquely define data rows rows can duplicated based data availability.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/latest_obs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Filter for latest observations of all types — latest_obs","text":"data.frame observations filtered latest available data.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/latest_obs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Filter for latest observations of all types — latest_obs","text":"","code":"dt <- rbind(   update_obs_availability(germany_covid19_delta_obs, seq_lag = 3),   update_obs_availability(germany_covid19_delta_obs, seq_lag = 1) ) latest_obs(dt) #>           date location_name location  cases cases_available seq_total seq_voc #>  1: 2021-03-20       Germany       DE  87328      2021-03-20        NA      NA #>  2: 2021-03-27       Germany       DE 109442      2021-03-27        NA      NA #>  3: 2021-04-03       Germany       DE 117965      2021-04-03        NA      NA #>  4: 2021-04-10       Germany       DE 107223      2021-04-10        NA      NA #>  5: 2021-04-17       Germany       DE 142664      2021-04-17      3757       3 #>  6: 2021-04-24       Germany       DE 145568      2021-04-24      3957      15 #>  7: 2021-05-01       Germany       DE 131887      2021-05-01      1913      19 #>  8: 2021-05-08       Germany       DE 107141      2021-05-08      2161      37 #>  9: 2021-05-15       Germany       DE  77261      2021-05-15      1676      40 #> 10: 2021-05-22       Germany       DE  57310      2021-05-22      1387      30 #> 11: 2021-05-29       Germany       DE  33052      2021-05-29      1328      34 #> 12: 2021-06-05       Germany       DE  22631      2021-06-05      1136      75 #> 13: 2021-06-12       Germany       DE  15553      2021-06-12       696     116 #> 14: 2021-06-19       Germany       DE   7659      2021-06-19       576     226 #> 15: 2021-06-26       Germany       DE   5033      2021-06-26       452     287 #> 16: 2021-07-03       Germany       DE   4181      2021-07-03       534     407 #> 17: 2021-07-10       Germany       DE   5067      2021-07-10       468     399 #> 18: 2021-07-17       Germany       DE   7969      2021-07-17       564     521 #> 19: 2021-07-24       Germany       DE  11122      2021-07-24        NA      NA #> 20: 2021-07-31       Germany       DE  14654      2021-07-31        NA      NA #> 21: 2021-08-07       Germany       DE  18474      2021-08-07        NA      NA #> 22: 2021-08-14       Germany       DE  28646      2021-08-14        NA      NA #> 23: 2021-08-21       Germany       DE  44862      2021-08-21        NA      NA #> 24: 2021-08-28       Germany       DE  62984      2021-08-28        NA      NA #> 25: 2021-09-04       Germany       DE  71057      2021-09-04        NA      NA #> 26: 2021-09-11       Germany       DE  75107      2021-09-11        NA      NA #>           date location_name location  cases cases_available seq_total seq_voc #>        share_voc seq_available #>  1:           NA          <NA> #>  2:           NA          <NA> #>  3:           NA          <NA> #>  4:           NA          <NA> #>  5: 0.0007985094    2021-05-08 #>  6: 0.0037907506    2021-05-15 #>  7: 0.0099320439    2021-05-22 #>  8: 0.0171217029    2021-05-29 #>  9: 0.0238663484    2021-06-05 #> 10: 0.0216294160    2021-06-12 #> 11: 0.0256024096    2021-06-19 #> 12: 0.0660211268    2021-06-26 #> 13: 0.1666666667    2021-07-03 #> 14: 0.3923611111    2021-07-10 #> 15: 0.6349557522    2021-07-17 #> 16: 0.7621722846    2021-07-24 #> 17: 0.8525641026    2021-07-31 #> 18: 0.9237588652    2021-08-07 #> 19:           NA          <NA> #> 20:           NA          <NA> #> 21:           NA          <NA> #> 22:           NA          <NA> #> 23:           NA          <NA> #> 24:           NA          <NA> #> 25:           NA          <NA> #> 26:           NA          <NA> #>        share_voc seq_available"},{"path":"epiforecasts.io/forecast.vocs/reference/link_dates_with_posterior.html","id":null,"dir":"Reference","previous_headings":"","what":"Link dates by time for posterior parameter estimates — link_dates_with_posterior","title":"Link dates by time for posterior parameter estimates — link_dates_with_posterior","text":"Link dates time posterior parameter estimates","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/link_dates_with_posterior.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Link dates by time for posterior parameter estimates — link_dates_with_posterior","text":"","code":"link_dates_with_posterior(posterior, data, mod_end = 0)"},{"path":"epiforecasts.io/forecast.vocs/reference/link_dates_with_posterior.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Link dates by time for posterior parameter estimates — link_dates_with_posterior","text":"posterior data frame summarised posterior estimates returned cmdstanr::summary()  additional type variable contains following character string options: \"non-VOC\", \"VOC\", \"Combined\", \"Overall\". data list data returned \"data\" entry output returned fv_sample(). mod_end Integer, defaults 0. Amount shift end date estimates.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/link_dates_with_posterior.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Link dates by time for posterior parameter estimates — link_dates_with_posterior","text":"posterior data.frame additional data column.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/link_obs_with_posterior.html","id":null,"dir":"Reference","previous_headings":"","what":"Link posterior estimates with observed data — link_obs_with_posterior","title":"Link posterior estimates with observed data — link_obs_with_posterior","text":"Link posterior estimates observed data flag values observed .","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/link_obs_with_posterior.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Link posterior estimates with observed data — link_obs_with_posterior","text":"","code":"link_obs_with_posterior(posterior, obs, horizon, target_types)"},{"path":"epiforecasts.io/forecast.vocs/reference/link_obs_with_posterior.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Link posterior estimates with observed data — link_obs_with_posterior","text":"posterior data frame summarised posterior estimates returned cmdstanr::summary()  additional type variable contains following character string options: \"non-VOC\", \"VOC\", \"Combined\", \"Overall\". obs Numeric vector observed data link posterior estimates. horizon Integer indicating horizon unobserved forecasts. specified inferred obs. target_types character vector types (specified type variable) modify.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/link_obs_with_posterior.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Link posterior estimates with observed data — link_obs_with_posterior","text":"input data.frame combined obs observed variables.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/plot_cases.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot the posterior prediction for cases — plot_cases","title":"Plot the posterior prediction for cases — plot_cases","text":"Plot posterior prediction cases","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_cases.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot the posterior prediction for cases — plot_cases","text":"","code":"plot_cases(   posterior,   obs = NULL,   forecast_dates = NULL,   all_obs = FALSE,   col = NULL,   log = TRUE )"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_cases.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot the posterior prediction for cases — plot_cases","text":"posterior dataframe posterior output produced fv_tidy_posterior(). forecast dates extracted data value_type == \"cases\" must present. obs data frame observed data produced latest_obs(). forecast_dates data.frame format produced extract_forecast_dates() (least date variable Data unavailable variable)). Specifies date availability add plots. May contain faceting variables. all_obs Logical, defaults FALSE. observations plot just date range estimates plot. col character string denoting variable use stratify ribbon plot. Defaults \"type\" indicates data stream. log Logical, defaults TRUE. cases plot log scale?","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_cases.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot the posterior prediction for cases — plot_cases","text":"ggplot2 plot.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/plot_cases.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot the posterior prediction for cases — plot_cases","text":"","code":"posterior <- fv_example(strains = 2, type = \"posterior\")  # default with log transform plot_cases(posterior)   # without log transform plot_cases(posterior)"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_default.html","id":null,"dir":"Reference","previous_headings":"","what":"Default posterior plot — plot_default","title":"Default posterior plot — plot_default","text":"Default posterior plot","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_default.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Default posterior plot — plot_default","text":"","code":"plot_default(   posterior,   target,   obs = NULL,   forecast_dates = NULL,   all_obs = FALSE,   ... )"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_default.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Default posterior plot — plot_default","text":"posterior dataframe posterior output produced fv_tidy_posterior(). forecast dates extracted data value_type == \"cases\" must present. target character string indicating variable extract posterior list. obs data frame observed data produced latest_obs(). forecast_dates data.frame format produced extract_forecast_dates() (least date variable Data unavailable variable)). Specifies date availability add plots. May contain faceting variables. all_obs Logical, defaults FALSE. observations plot just date range estimates plot. ... Additional arguments passed ggplot2::aes()","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_default.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Default posterior plot — plot_default","text":"ggplot2 plot.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/plot_growth.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot the posterior prediction for the growth rate — plot_growth","title":"Plot the posterior prediction for the growth rate — plot_growth","text":"Plot posterior prediction growth rate","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_growth.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot the posterior prediction for the growth rate — plot_growth","text":"","code":"plot_growth(posterior, forecast_dates = NULL, col = NULL)"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_growth.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot the posterior prediction for the growth rate — plot_growth","text":"posterior dataframe posterior output produced fv_tidy_posterior(). forecast dates extracted data value_type == \"cases\" must present. forecast_dates data.frame format produced extract_forecast_dates() (least date variable Data unavailable variable)). Specifies date availability add plots. May contain faceting variables. col character string denoting variable use stratify ribbon plot. Defaults \"type\" indicates data stream.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_growth.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot the posterior prediction for the growth rate — plot_growth","text":"ggplot2 plot.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/plot_growth.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot the posterior prediction for the growth rate — plot_growth","text":"","code":"posterior <- fv_example(strains = 2, type = \"posterior\") plot_growth(posterior)"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_pairs.html","id":null,"dir":"Reference","previous_headings":"","what":"Pairs plot of parameters of interest and fitting diagnostics — plot_pairs","title":"Pairs plot of parameters of interest and fitting diagnostics — plot_pairs","text":"Pairs plot parameters interest fitting diagnostics","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_pairs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pairs plot of parameters of interest and fitting diagnostics — plot_pairs","text":"","code":"plot_pairs(   fit,   pars = c(\"r_init\", \"r_noise\", \"beta\", \"voc_noise[1]\", \"nvoc_noise[1]\", \"init_cases\",     \"init_cases[1]\", \"init_cases[2]\", \"eta[1]\", \"voc_eta[1]\", \"nvoc_eta[1]\",     \"sqrt_phi[1]\", \"sqrt_phi[2]\", \"sqrt_phi\"),   diagnostics = TRUE,   ... )"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_pairs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pairs plot of parameters of interest and fitting diagnostics — plot_pairs","text":"fit List output returned fv_sample(). pars Character vector parameters try include plot. included present fitted model. diagnostics Logical, defaults TRUE. fitting diagnostics returned data.frame. ... Additional parameters passed bayesplot::mcmc_pairs().","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_pairs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pairs plot of parameters of interest and fitting diagnostics — plot_pairs","text":"ggplot2 based pairs plot parameters interest","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/plot_pairs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Pairs plot of parameters of interest and fitting diagnostics — plot_pairs","text":"","code":"if (FALSE) { # interactive() obs <- filter_by_availability(   germany_covid19_delta_obs,   date = as.Date(\"2021-06-12\"), ) dt <- fv_as_data_list(obs) inits <- fv_inits(dt) fit <- fv_sample(dt, init = inits, adapt_voc = 0.99, max_treedepth = 15) plot_pairs(fit) }"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_posterior.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot posterior predictions — plot_posterior","title":"Plot posterior predictions — plot_posterior","text":"Plot posterior predictions","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_posterior.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot posterior predictions — plot_posterior","text":"","code":"plot_posterior(   posterior,   obs = NULL,   forecast_dates = NULL,   save_path = NULL,   type = \"png\",   all_obs = FALSE,   voc_label = \"variant of concern\" )"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_posterior.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot posterior predictions — plot_posterior","text":"posterior dataframe posterior output produced fv_tidy_posterior(). forecast dates extracted data value_type == \"cases\" must present. obs data frame observed data produced latest_obs(). forecast_dates data.frame format produced extract_forecast_dates() (least date variable Data unavailable variable)). Specifies date availability add plots. May contain faceting variables. save_path character string indicating save plots required. type character string indicating format use save plots. all_obs Logical, defaults FALSE. observations plot just date range estimates plot. voc_label Character string giving name assign variant concern. Defaults  \"variant concern\".","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_posterior.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot posterior predictions — plot_posterior","text":"named list supported package plots sensible defaults.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/plot_posterior.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot posterior predictions — plot_posterior","text":"","code":"posterior <- fv_example(strains = 2, type = \"posterior\") plot_posterior(posterior) #> $cases  #>  #> $log_cases  #>  #> $voc  #>  #> $growth  #>  #> $rt  #>"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_rt.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot the posterior prediction for the reproduction number — plot_rt","title":"Plot the posterior prediction for the reproduction number — plot_rt","text":"Plot posterior prediction reproduction number","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_rt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot the posterior prediction for the reproduction number — plot_rt","text":"","code":"plot_rt(posterior, forecast_dates = NULL, col = NULL)"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_rt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot the posterior prediction for the reproduction number — plot_rt","text":"posterior dataframe posterior output produced fv_tidy_posterior(). forecast dates extracted data value_type == \"cases\" must present. forecast_dates data.frame format produced extract_forecast_dates() (least date variable Data unavailable variable)). Specifies date availability add plots. May contain faceting variables. col character string denoting variable use stratify ribbon plot. Defaults \"type\" indicates data stream.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_rt.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot the posterior prediction for the reproduction number — plot_rt","text":"ggplot2 plot.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/plot_rt.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot the posterior prediction for the reproduction number — plot_rt","text":"","code":"posterior <- fv_example(strains = 2, type = \"posterior\") plot_rt(posterior)"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_theme.html","id":null,"dir":"Reference","previous_headings":"","what":"Add the default plot theme — plot_theme","title":"Add the default plot theme — plot_theme","text":"Add default plot theme","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_theme.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add the default plot theme — plot_theme","text":"","code":"plot_theme(plot)"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_theme.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add the default plot theme — plot_theme","text":"plot ggplot2 object","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_theme.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add the default plot theme — plot_theme","text":"ggplot2 plot package theme applied.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/plot_voc.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot the posterior prediction for the fraction of samples with the variant\nof concern — plot_voc","title":"Plot the posterior prediction for the fraction of samples with the variant\nof concern — plot_voc","text":"Plot posterior prediction fraction samples variant concern","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_voc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot the posterior prediction for the fraction of samples with the variant\nof concern — plot_voc","text":"","code":"plot_voc(   posterior,   obs = NULL,   forecast_dates = NULL,   all_obs = FALSE,   voc_label = \"variant of concern\",   ... )"},{"path":"epiforecasts.io/forecast.vocs/reference/plot_voc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot the posterior prediction for the fraction of samples with the variant\nof concern — plot_voc","text":"posterior dataframe posterior output produced fv_tidy_posterior(). forecast dates extracted data value_type == \"cases\" must present. obs data frame observed data produced latest_obs(). forecast_dates data.frame format produced extract_forecast_dates() (least date variable Data unavailable variable)). Specifies date availability add plots. May contain faceting variables. all_obs Logical, defaults FALSE. observations plot just date range estimates plot. voc_label Character string giving name assign variant concern. Defaults  \"variant concern\". ... Additional parameters passed plot_default().","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/plot_voc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot the posterior prediction for the fraction of samples with the variant\nof concern — plot_voc","text":"ggplot2 plot.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/plot_voc.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot the posterior prediction for the fraction of samples with the variant\nof concern — plot_voc","text":"","code":"posterior <- fv_example(strains = 2, type = \"posterior\") plot_voc(posterior)"},{"path":"epiforecasts.io/forecast.vocs/reference/quantiles_to_long.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert summarised quantiles from wide to long format — quantiles_to_long","title":"Convert summarised quantiles from wide to long format — quantiles_to_long","text":"Convert summarised quantiles wide long format","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/quantiles_to_long.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert summarised quantiles from wide to long format — quantiles_to_long","text":"","code":"quantiles_to_long(posterior)"},{"path":"epiforecasts.io/forecast.vocs/reference/quantiles_to_long.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert summarised quantiles from wide to long format — quantiles_to_long","text":"posterior dataframe output fv_tidy_posterior(), fv_extract_forecast(), etc.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/quantiles_to_long.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert summarised quantiles from wide to long format — quantiles_to_long","text":"data frame quantiles long format.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/quantiles_to_long.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert summarised quantiles from wide to long format — quantiles_to_long","text":"","code":"posterior <- fv_example(strains = 2, type = \"posterior\") long_posterior <- quantiles_to_long(posterior) long_posterior #>       value_type      variable                  clean_name date type obs #>    1:      model   avg_voc_mod          Average VOC effect <NA>       NA #>    2:      model          beta                        Beta <NA>       NA #>    3:      model init_cases[1]               Initial cases <NA>       NA #>    4:      model init_cases[2]           Initial VOC cases <NA>       NA #>    5:      model        phi[1] Notification overdispersion <NA>       NA #>   ---                                                                    #> 1632:        raw   log_lik[11]                             <NA>       NA #> 1633:        raw   log_lik[12]                             <NA>       NA #> 1634:        raw   log_lik[13]                             <NA>       NA #> 1635:        raw   log_lik[14]                             <NA>       NA #> 1636:        raw   log_lik[15]                             <NA>       NA #>       observed forecast_start exponentiated          mean        median #>    1:       NA             NA          TRUE     1.8047656     1.8042906 #>    2:       NA             NA         FALSE     0.3209816     0.3984735 #>    3:       NA             NA          TRUE 89590.6866570 89657.3086526 #>    4:       NA             NA          TRUE   220.0103003   220.1898216 #>    5:       NA             NA         FALSE   105.6693443    84.4482500 #>   ---                                                                   #> 1632:       NA             NA            NA   -14.7407605   -14.6763000 #> 1633:       NA             NA            NA   -14.0257973   -13.9873500 #> 1634:       NA             NA            NA   -13.6588493   -13.5713000 #> 1635:       NA             NA            NA    -8.1097575    -8.0214250 #> 1636:       NA             NA            NA    -7.6682411    -7.5287600 #>                 sd         mad      rhat  ess_bulk  ess_tail quantile #>    1:   0.02921097  0.02825984 0.9999955 2121.0506 1419.0800     0.05 #>    2:   0.46752521  0.51877731 1.0000555  521.4538 1072.1236     0.05 #>    3:   0.06936367  0.06382593 1.0035276 2338.2868 1108.6765     0.05 #>    4:   0.09745460  0.09427853 1.0000300 2524.9633 1311.7136     0.05 #>    5: 106.02242241 53.64839991 1.0006074  651.3741  910.9929     0.05 #>   ---                                                                 #> 1632:   0.75624710  0.60386298 1.0006646  966.4355 1125.6893     0.95 #> 1633:   0.71063508  0.65241813 1.0019821  785.1871 1233.3560     0.95 #> 1634:   0.91347411  0.76820919 1.0005103 1014.7847  959.4689     0.95 #> 1635:   0.57291665  0.46177060 1.0003996  948.3248  925.0299     0.95 #> 1636:   0.67248551  0.50173408 0.9996291  716.2991  995.8507     0.95 #>          prediction #>    1:     1.7197880 #>    2:    -0.5182967 #>    3: 79745.4527330 #>    4:   187.7615863 #>    5:    26.6343800 #>   ---               #> 1632:   -13.7026400 #> 1633:   -13.0189400 #> 1634:   -12.4374600 #> 1635:    -7.3812445 #> 1636:    -6.8860100"},{"path":"epiforecasts.io/forecast.vocs/reference/sample_sequences.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample Sequence Observation Model — sample_sequences","title":"Sample Sequence Observation Model — sample_sequences","text":"Sample Sequence Observation Model","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/sample_sequences.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample Sequence Observation Model — sample_sequences","text":"","code":"sample_sequences(frac_voc, seq_total, phi)"},{"path":"epiforecasts.io/forecast.vocs/reference/sample_sequences.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sample Sequence Observation Model — sample_sequences","text":"frac_voc numeric vector expected proportions positive variant concern. seq_total integer vector total sequences available. phi overdispersion sampling process. supplied overdispersion used (.e binomial observation model vs beta binomial observation model).","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/sample_sequences.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Sample Sequence Observation Model — sample_sequences","text":"vector observed sequences positive variant concern.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/sample_sequences.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Sample Sequence Observation Model — sample_sequences","text":"","code":"# dummy sequence data frac_voc <- seq(0, 1, by = 0.1) seq_total <- seq(10, length.out = length(frac_voc), by = 100)  # binomial observation model sample_sequences(frac_voc, seq_total) #>  [1]    0   13   46  100  156  253  369  495  637  811 1010  # beta binomial observation model sample_sequences(frac_voc, seq_total, 0.5) #>  [1]    0    0    0  308  410   82  610  710  810  907 1010"},{"path":"epiforecasts.io/forecast.vocs/reference/unnest_posterior.html","id":null,"dir":"Reference","previous_headings":"","what":"Unnest posterior estimates from a forecast data.frame — unnest_posterior","title":"Unnest posterior estimates from a forecast data.frame — unnest_posterior","text":"Unnest posterior estimates forecast data.frame","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/unnest_posterior.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Unnest posterior estimates from a forecast data.frame — unnest_posterior","text":"","code":"unnest_posterior(forecasts, target = \"posterior\")"},{"path":"epiforecasts.io/forecast.vocs/reference/unnest_posterior.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Unnest posterior estimates from a forecast data.frame — unnest_posterior","text":"forecasts data frame forecasts produced forecast(). target character string indicating list outputs unnest.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/unnest_posterior.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Unnest posterior estimates from a forecast data.frame — unnest_posterior","text":"unnested data.frame posterior estimates variables produced forecast().","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/unnest_posterior.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Unnest posterior estimates from a forecast data.frame — unnest_posterior","text":"","code":"if (FALSE) { # interactive() library(data.table) options(mc.cores = 4) dt <- forecast(   germany_covid19_delta_obs,   forecast_date = as.Date(\"2021-06-12\"),   max_treedepth = 15, adapt_delta = 0.99 )  # unnest posterior predictions posterior <- unnest_posterior(dt) posterior  # unnest forecasts forecasts <- unnest_posterior(dt, target = \"forecast\") forecasts }"},{"path":"epiforecasts.io/forecast.vocs/reference/update_obs_availability.html","id":null,"dir":"Reference","previous_headings":"","what":"Update observations based on availability — update_obs_availability","title":"Update observations based on availability — update_obs_availability","text":"Update observations based availability","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/update_obs_availability.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update observations based on availability — update_obs_availability","text":"","code":"update_obs_availability(obs, cases_lag, seq_lag)"},{"path":"epiforecasts.io/forecast.vocs/reference/update_obs_availability.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update observations based on availability — update_obs_availability","text":"obs data.frame following variables: date, cases, seq_voc, seq_total, cases_available, seq_available. seq_available case_available must uniquely define data rows rows can duplicated based data availability. cases_lag Number weeks case data takes reported. Defaults alter input data. seq_lag Number weeks sequence data takes reported. Defaults alter input data.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/update_obs_availability.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Update observations based on availability — update_obs_availability","text":"data.frame observations updated case sequence availability dates.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/update_obs_availability.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Update observations based on availability — update_obs_availability","text":"","code":"update_obs_availability(   germany_covid19_delta_obs,   cases_lag = 2, seq_lag = 3 ) #>            date location_name location  cases cases_available seq_total seq_voc #>   1: 2021-03-20       Germany       DE  87328      2021-04-03        NA      NA #>   2: 2021-03-27       Germany       DE 109442      2021-04-10        NA      NA #>   3: 2021-04-03       Germany       DE 117965      2021-04-17        NA      NA #>   4: 2021-04-10       Germany       DE 107223      2021-04-24        NA      NA #>   5: 2021-04-17       Germany       DE 142664      2021-05-01      3757       3 #>  ---                                                                            #> 110: 2021-08-14       Germany       DE  28646      2021-08-28        NA      NA #> 111: 2021-08-21       Germany       DE  44862      2021-09-04        NA      NA #> 112: 2021-08-28       Germany       DE  62984      2021-09-11        NA      NA #> 113: 2021-09-04       Germany       DE  71057      2021-09-18        NA      NA #> 114: 2021-09-11       Germany       DE  75107      2021-09-25        NA      NA #>         share_voc seq_available #>   1:           NA          <NA> #>   2:           NA          <NA> #>   3:           NA          <NA> #>   4:           NA          <NA> #>   5: 0.0007985094    2021-05-08 #>  ---                            #> 110:           NA          <NA> #> 111:           NA          <NA> #> 112:           NA          <NA> #> 113:           NA          <NA> #> 114:           NA          <NA>"},{"path":"epiforecasts.io/forecast.vocs/reference/update_voc_label.html","id":null,"dir":"Reference","previous_headings":"","what":"Label the Variant of Concern — update_voc_label","title":"Label the Variant of Concern — update_voc_label","text":"Assign custom label variant concern output fv_tidy_posterior().","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/update_voc_label.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Label the Variant of Concern — update_voc_label","text":"","code":"update_voc_label(posterior, label, target_label = \"VOC\")"},{"path":"epiforecasts.io/forecast.vocs/reference/update_voc_label.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Label the Variant of Concern — update_voc_label","text":"posterior dataframe posterior output produced fv_tidy_posterior(). forecast dates extracted data value_type == \"cases\" must present. label Character string  indicating new label use variant concern. target_label character string defaulting \"VOC\". Indicates current label variant concern.","code":""},{"path":"epiforecasts.io/forecast.vocs/reference/update_voc_label.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Label the Variant of Concern — update_voc_label","text":"list data frames returned `fv_tidy_posterior() updated labels.","code":""},{"path":[]},{"path":"epiforecasts.io/forecast.vocs/reference/update_voc_label.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Label the Variant of Concern — update_voc_label","text":"","code":"p <- fv_example(strains = 2, type = \"posterior\") p <- update_voc_label(p, \"Delta\") p[value_type == \"model\"] #>    value_type      variable                  clean_name date type obs observed #> 1:      model   avg_voc_mod        Average Delta effect <NA>       NA       NA #> 2:      model          beta                        Beta <NA>       NA       NA #> 3:      model init_cases[1]               Initial cases <NA>       NA       NA #> 4:      model init_cases[2]         Initial Delta cases <NA>       NA       NA #> 5:      model        phi[1] Notification overdispersion <NA>       NA       NA #> 6:      model        phi[2]   Sequencing overdispersion <NA>       NA       NA #> 7:      model        r_init              Initial growth <NA>       NA       NA #> 8:      model       r_noise                 Growth (sd) <NA>       NA       NA #> 9:      model       voc_mod        Initial Delta effect <NA>       NA       NA #>    forecast_start exponentiated         mean       median           sd #> 1:             NA          TRUE 1.804766e+00 1.804291e+00   0.02921097 #> 2:             NA         FALSE 3.209816e-01 3.984735e-01   0.46752521 #> 3:             NA          TRUE 8.959069e+04 8.965731e+04   0.06936367 #> 4:             NA          TRUE 2.200103e+02 2.201898e+02   0.09745460 #> 5:             NA         FALSE 1.056693e+02 8.444825e+01 106.02242241 #> 6:             NA         FALSE 1.891149e+02 1.615045e+02 124.32716962 #> 7:             NA         FALSE 1.325174e-01 1.341870e-01   0.07180019 #> 8:             NA         FALSE 1.092370e-01 9.991730e-02   0.05998836 #> 9:             NA          TRUE 1.804766e+00 1.804291e+00   0.02921097 #>            mad            q5           q20          q80          q95      rhat #> 1:  0.02825984  1.719788e+00  1.762777e+00 1.847177e+00 1.895543e+00 0.9999955 #> 2:  0.51877731 -5.182967e-01 -1.379756e-01 7.690168e-01 9.354680e-01 1.0000555 #> 3:  0.06382593  7.974545e+04  8.474313e+04 9.463664e+04 1.002407e+05 1.0035276 #> 4:  0.09427853  1.877616e+02  2.027711e+02 2.384415e+02 2.594063e+02 1.0000300 #> 5: 53.64839991  2.663438e+01  4.717452e+01 1.411910e+02 2.330759e+02 1.0006074 #> 6: 93.93219864  5.013444e+01  9.281310e+01 2.663616e+02 4.393338e+02 1.0042635 #> 7:  0.06461401  1.351774e-02  7.735250e-02 1.884312e-01 2.496943e-01 1.0001805 #> 8:  0.06087993  3.048898e-02  5.322236e-02 1.579574e-01 2.195497e-01 0.9999600 #> 9:  0.02825984  1.719788e+00  1.762777e+00 1.847177e+00 1.895543e+00 0.9999955 #>     ess_bulk  ess_tail #> 1: 2121.0506 1419.0800 #> 2:  521.4538 1072.1236 #> 3: 2338.2868 1108.6765 #> 4: 2524.9633 1311.7136 #> 5:  651.3741  910.9929 #> 6: 2584.5556 1247.1047 #> 7: 1327.3538  997.1388 #> 8:  574.6457 1183.9425 #> 9: 2121.0506 1419.0800"},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"forecastvocs-007","dir":"Changelog","previous_headings":"","what":"forecast.vocs 0.0.7","title":"forecast.vocs 0.0.7","text":"generalised forecast family accept custom data forecast extraction functions. Split generic posterior summary function specific posterior summary function. Catch data passing bugs forecast new tests Add argument passing fv_posterior allow used forecast. Added runtime diagnostic fit output. Fixes generate_obs() work strain models adds unit tests function functionality. Fixed package building r-universe.","code":""},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"forecastvocs-006","dir":"Changelog","previous_headings":"","what":"forecast.vocs 0.0.6","title":"forecast.vocs 0.0.6","text":"Add vignette defining package models. Updated documentation use preferably. Add basic tests modelling functions. Add tests postprocessing functions. Add tests plotting functions. Add tests forecasting functions. Add new utility, fv_example() can used load built example output scripts. used postprocessing plotting examples well testing plotting static input. Model specific functions (.e load_model, summarise_posterior, functions prefixed stan_ renamed fv_ prefix). Added ability pass model specific functions forecast function wrappers enabling users supply custom models make use remaining package functionality.","code":""},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"forecastvocs-005","dir":"Changelog","previous_headings":"","what":"forecast.vocs 0.0.5","title":"forecast.vocs 0.0.5","text":"Overhaul package documentation examples. Enforce proper printing data.table output. Add structure documentation website.","code":""},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"forecastvocs-004","dir":"Changelog","previous_headings":"","what":"forecast.vocs 0.0.4","title":"forecast.vocs 0.0.4","text":"Improve robustness plotting observations forecast dates can faceted using variables used plotting estimates/forecasts. Added option scale growth rates reproduction numbers. allows crude scaling generation time etc increasing interpretability estimates. Surfaced options plotting allow increased generalisability.","code":""},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"forecastvocs-003","dir":"Changelog","previous_headings":"","what":"forecast.vocs 0.0.3","title":"forecast.vocs 0.0.3","text":"fv_tidy_posterior now returns single data.table downstream processing plotting functions updated use forma forecast updated use framework forecast_dt forecast_dt removed. combine_posteriors_dt removed favour unnest_posterior. allows output forecast (wrappers produce data.table) easily untested used without additional changes downstream plotting processing functions. add update_voc_label part workflow forecast exposed user facing argument control label. Fixes bug specifying number initial weeks without sequence data. resulting weeks without sequence data assumed start likely causing model fitting issues. Added check functions make sure input observation arguments correct format. Added unit tests preprocessing functions. Custom VOC labelling now feature fv_tidy_posterior() (hence forecast()) well standalone option via update_voc_label().","code":""},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"infrastructure-0-0-3","dir":"Changelog","previous_headings":"","what":"Infrastructure","title":"forecast.vocs 0.0.3","text":"Switched installing cmdstanr GitHub.","code":""},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"forecastvocs-002","dir":"Changelog","previous_headings":"","what":"forecast.vocs 0.0.2","title":"forecast.vocs 0.0.2","text":"Package generalised variants concern beyond Delta. Tooling added forecast across dates scenarios. Tooling added prior posterior predictive checks. Tooling added simulating data model (useful simulation-based calibration amongst things). Example data updated use snapshots COVID-19 notifications Delta sequences sourced RKI (Germany).","code":""},{"path":"epiforecasts.io/forecast.vocs/news/index.html","id":"forecastvocs-001","dir":"Changelog","previous_headings":"","what":"forecast.vocs 0.0.1","title":"forecast.vocs 0.0.1","text":"Extracted package code analysis code started work generalising use case. Added initial version forecasting model 1 2 strains optional independence, partial pooling, scaled relationships.","code":""}]
